(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function QD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VP={exports:{}},vg={},GP={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=Symbol.for("react.element"),e9=Symbol.for("react.portal"),t9=Symbol.for("react.fragment"),r9=Symbol.for("react.strict_mode"),n9=Symbol.for("react.profiler"),i9=Symbol.for("react.provider"),s9=Symbol.for("react.context"),o9=Symbol.for("react.forward_ref"),a9=Symbol.for("react.suspense"),l9=Symbol.for("react.memo"),u9=Symbol.for("react.lazy"),Tx=Symbol.iterator;function c9(e){return e===null||typeof e!="object"?null:(e=Tx&&e[Tx]||e["@@iterator"],typeof e=="function"?e:null)}var WP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BP=Object.assign,HP={};function Gc(e,t,r){this.props=e,this.context=t,this.refs=HP,this.updater=r||WP}Gc.prototype.isReactComponent={};Gc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qP(){}qP.prototype=Gc.prototype;function aS(e,t,r){this.props=e,this.context=t,this.refs=HP,this.updater=r||WP}var lS=aS.prototype=new qP;lS.constructor=aS;BP(lS,Gc.prototype);lS.isPureReactComponent=!0;var Mx=Array.isArray,ZP=Object.prototype.hasOwnProperty,uS={current:null},JP={key:!0,ref:!0,__self:!0,__source:!0};function YP(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ZP.call(t,n)&&!JP.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Fp,type:e,key:s,ref:o,props:i,_owner:uS.current}}function h9(e,t){return{$$typeof:Fp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fp}function d9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kx=/\/+/g;function R1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d9(""+e.key):t.toString(36)}function km(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fp:case e9:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+R1(o,0):n,Mx(i)?(r="",e!=null&&(r=e.replace(kx,"$&/")+"/"),km(i,t,r,"",function(c){return c})):i!=null&&(cS(i)&&(i=h9(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kx,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Mx(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+R1(s,a);o+=km(s,t,r,l,i)}else if(l=c9(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+R1(s,a++),o+=km(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _f(e,t,r){if(e==null)return e;var n=[],i=0;return km(e,n,"","",function(s){return t.call(r,s,i++)}),n}function p9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},Em={transition:null},f9={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Em,ReactCurrentOwner:uS};me.Children={map:_f,forEach:function(e,t,r){_f(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _f(e,function(){t++}),t},toArray:function(e){return _f(e,function(t){return t})||[]},only:function(e){if(!cS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Gc;me.Fragment=t9;me.Profiler=n9;me.PureComponent=aS;me.StrictMode=r9;me.Suspense=a9;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f9;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=BP({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=uS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ZP.call(t,l)&&!JP.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Fp,type:e.type,key:i,ref:s,props:n,_owner:o}};me.createContext=function(e){return e={$$typeof:s9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i9,_context:e},e.Consumer=e};me.createElement=YP;me.createFactory=function(e){var t=YP.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:o9,render:e}};me.isValidElement=cS;me.lazy=function(e){return{$$typeof:u9,_payload:{_status:-1,_result:e},_init:p9}};me.memo=function(e,t){return{$$typeof:l9,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Em.transition;Em.transition={};try{e()}finally{Em.transition=t}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(e,t){return br.current.useCallback(e,t)};me.useContext=function(e){return br.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return br.current.useDeferredValue(e)};me.useEffect=function(e,t){return br.current.useEffect(e,t)};me.useId=function(){return br.current.useId()};me.useImperativeHandle=function(e,t,r){return br.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return br.current.useMemo(e,t)};me.useReducer=function(e,t,r){return br.current.useReducer(e,t,r)};me.useRef=function(e){return br.current.useRef(e)};me.useState=function(e){return br.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return br.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return br.current.useTransition()};me.version="18.2.0";GP.exports=me;var Pl=GP.exports;const qd=QD(Pl);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9=Pl,y9=Symbol.for("react.element"),g9=Symbol.for("react.fragment"),v9=Object.prototype.hasOwnProperty,w9=m9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_9={key:!0,ref:!0,__self:!0,__source:!0};function KP(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)v9.call(t,n)&&!_9.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:y9,type:e,key:s,ref:o,props:i,_owner:w9.current}}vg.Fragment=g9;vg.jsx=KP;vg.jsxs=KP;VP.exports=vg;var sr=VP.exports,gw={},XP={exports:{}},en={},QP={exports:{}},eC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,Q){var oe=N.length;N.push(Q);e:for(;0<oe;){var we=oe-1>>>1,tt=N[we];if(0<i(tt,Q))N[we]=Q,N[oe]=tt,oe=we;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var Q=N[0],oe=N.pop();if(oe!==Q){N[0]=oe;e:for(var we=0,tt=N.length,Pn=tt>>>1;we<Pn;){var $r=2*(we+1)-1,Cn=N[$r],xr=$r+1,jr=N[xr];if(0>i(Cn,oe))xr<tt&&0>i(jr,Cn)?(N[we]=jr,N[xr]=oe,we=xr):(N[we]=Cn,N[$r]=oe,we=$r);else if(xr<tt&&0>i(jr,oe))N[we]=jr,N[xr]=oe,we=xr;else break e}}return Q}function i(N,Q){var oe=N.sortIndex-Q.sortIndex;return oe!==0?oe:N.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,m=3,y=!1,g=!1,v=!1,$=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=N)n(c),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=r(c)}}function x(N){if(v=!1,S(N),!g)if(r(l)!==null)g=!0,Gt(M);else{var Q=r(c);Q!==null&&Ce(x,Q.startTime-N)}}function M(N,Q){g=!1,v&&(v=!1,_(A),A=-1),y=!0;var oe=m;try{for(S(Q),f=r(l);f!==null&&(!(f.expirationTime>Q)||N&&!q());){var we=f.callback;if(typeof we=="function"){f.callback=null,m=f.priorityLevel;var tt=we(f.expirationTime<=Q);Q=e.unstable_now(),typeof tt=="function"?f.callback=tt:f===r(l)&&n(l),S(Q)}else n(l);f=r(l)}if(f!==null)var Pn=!0;else{var $r=r(c);$r!==null&&Ce(x,$r.startTime-Q),Pn=!1}return Pn}finally{f=null,m=oe,y=!1}}var k=!1,O=null,A=-1,V=5,F=-1;function q(){return!(e.unstable_now()-F<V)}function X(){if(O!==null){var N=e.unstable_now();F=N;var Q=!0;try{Q=O(!0,N)}finally{Q?de():(k=!1,O=null)}}else k=!1}var de;if(typeof b=="function")de=function(){b(X)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ye=Y.port2;Y.port1.onmessage=X,de=function(){Ye.postMessage(null)}}else de=function(){$(X,0)};function Gt(N){O=N,k||(k=!0,de())}function Ce(N,Q){A=$(function(){N(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Gt(M))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var oe=m;m=Q;try{return N()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var oe=m;m=N;try{return Q()}finally{m=oe}},e.unstable_scheduleCallback=function(N,Q,oe){var we=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,N){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=oe+tt,N={id:d++,callback:Q,priorityLevel:N,startTime:oe,expirationTime:tt,sortIndex:-1},oe>we?(N.sortIndex=oe,t(c,N),r(l)===null&&N===r(c)&&(v?(_(A),A=-1):v=!0,Ce(x,oe-we))):(N.sortIndex=tt,t(l,N),g||y||(g=!0,Gt(M))),N},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(N){var Q=m;return function(){var oe=m;m=Q;try{return N.apply(this,arguments)}finally{m=oe}}}})(eC);QP.exports=eC;var b9=QP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=Pl,Qr=b9;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,Zd={};function Jl(e,t){vc(e,t),vc(e+"Capture",t)}function vc(e,t){for(Zd[e]=t,e=0;e<t.length;e++)rC.add(t[e])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vw=Object.prototype.hasOwnProperty,S9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ex={},Px={};function $9(e){return vw.call(Px,e)?!0:vw.call(Ex,e)?!1:S9.test(e)?Px[e]=!0:(Ex[e]=!0,!1)}function x9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T9(e,t,r,n){if(t===null||typeof t>"u"||x9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var hS=/[\-:]([a-z])/g;function dS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hS,dS);Jt[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hS,dS);Jt[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hS,dS);Jt[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function pS(e,t,r,n){var i=Jt.hasOwnProperty(t)?Jt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T9(t,r,i,n)&&(r=null),n||i===null?$9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var js=tC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bf=Symbol.for("react.element"),Fu=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),mS=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),yS=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),sC=Symbol.for("react.offscreen"),Cx=Symbol.iterator;function oh(e){return e===null||typeof e!="object"?null:(e=Cx&&e[Cx]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,N1;function Oh(e){if(N1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N1=t&&t[1]||""}return`
`+N1+e}var D1=!1;function F1(e,t){if(!e||D1)return"";D1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{D1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Oh(e):""}function M9(e){switch(e.tag){case 5:return Oh(e.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return e=F1(e.type,!1),e;case 11:return e=F1(e.type.render,!1),e;case 1:return e=F1(e.type,!0),e;default:return""}}function Sw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ju:return"Fragment";case Fu:return"Portal";case ww:return"Profiler";case fS:return"StrictMode";case _w:return"Suspense";case bw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iC:return(e.displayName||"Context")+".Consumer";case nC:return(e._context.displayName||"Context")+".Provider";case mS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yS:return t=e.displayName||null,t!==null?t:Sw(e.type)||"Memo";case bo:t=e._payload,e=e._init;try{return Sw(e(t))}catch{}}return null}function k9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sw(t);case 8:return t===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E9(e){var t=oC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sf(e){e._valueTracker||(e._valueTracker=E9(e))}function aC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ly(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $w(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ox(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lC(e,t){t=t.checked,t!=null&&pS(e,"checked",t,!1)}function xw(e,t){lC(e,t);var r=Yo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tw(e,t.type,Yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ix(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tw(e,t,r){(t!=="number"||Ly(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ih=Array.isArray;function nc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ax(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Ih(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yo(r)}}function uC(e,t){var r=Yo(t.value),n=Yo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Lx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $f,hC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($f=$f||document.createElement("div"),$f.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$f.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P9=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(e){P9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wd[t]=wd[e]})});function dC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wd.hasOwnProperty(e)&&wd[e]?(""+t).trim():t+"px"}function pC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var C9=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ew(e,t){if(t){if(C9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Pw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cw=null;function gS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ow=null,ic=null,sc=null;function Rx(e){if(e=Up(e)){if(typeof Ow!="function")throw Error(z(280));var t=e.stateNode;t&&(t=$g(t),Ow(e.stateNode,e.type,t))}}function fC(e){ic?sc?sc.push(e):sc=[e]:ic=e}function mC(){if(ic){var e=ic,t=sc;if(sc=ic=null,Rx(e),t)for(e=0;e<t.length;e++)Rx(t[e])}}function yC(e,t){return e(t)}function gC(){}var j1=!1;function vC(e,t,r){if(j1)return e(t,r);j1=!0;try{return yC(e,t,r)}finally{j1=!1,(ic!==null||sc!==null)&&(gC(),mC())}}function Yd(e,t){var r=e.stateNode;if(r===null)return null;var n=$g(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Iw=!1;if(Os)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){Iw=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{Iw=!1}function O9(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var _d=!1,Ry=null,Ny=!1,Aw=null,I9={onError:function(e){_d=!0,Ry=e}};function A9(e,t,r,n,i,s,o,a,l){_d=!1,Ry=null,O9.apply(I9,arguments)}function L9(e,t,r,n,i,s,o,a,l){if(A9.apply(this,arguments),_d){if(_d){var c=Ry;_d=!1,Ry=null}else throw Error(z(198));Ny||(Ny=!0,Aw=c)}}function Yl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nx(e){if(Yl(e)!==e)throw Error(z(188))}function R9(e){var t=e.alternate;if(!t){if(t=Yl(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Nx(i),e;if(s===n)return Nx(i),t;s=s.sibling}throw Error(z(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function _C(e){return e=R9(e),e!==null?bC(e):null}function bC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bC(e);if(t!==null)return t;e=e.sibling}return null}var SC=Qr.unstable_scheduleCallback,Dx=Qr.unstable_cancelCallback,N9=Qr.unstable_shouldYield,D9=Qr.unstable_requestPaint,pt=Qr.unstable_now,F9=Qr.unstable_getCurrentPriorityLevel,vS=Qr.unstable_ImmediatePriority,$C=Qr.unstable_UserBlockingPriority,Dy=Qr.unstable_NormalPriority,j9=Qr.unstable_LowPriority,xC=Qr.unstable_IdlePriority,wg=null,zi=null;function z9(e){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(wg,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:G9,U9=Math.log,V9=Math.LN2;function G9(e){return e>>>=0,e===0?32:31-(U9(e)/V9|0)|0}var xf=64,Tf=4194304;function Ah(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ah(a):(s&=o,s!==0&&(n=Ah(s)))}else o=r&~i,o!==0?n=Ah(o):s!==0&&(n=Ah(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ri(t),i=1<<r,n|=e[r],t&=~i;return n}function W9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ri(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=W9(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Lw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TC(){var e=xf;return xf<<=1,!(xf&4194240)&&(xf=64),e}function z1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=r}function H9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ri(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function wS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ri(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ne=0;function MC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kC,_S,EC,PC,CC,Rw=!1,Mf=[],jo=null,zo=null,Uo=null,Kd=new Map,Xd=new Map,Po=[],q9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fx(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Kd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(t.pointerId)}}function lh(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Up(t),t!==null&&_S(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Z9(e,t,r,n,i){switch(t){case"focusin":return jo=lh(jo,e,t,r,n,i),!0;case"dragenter":return zo=lh(zo,e,t,r,n,i),!0;case"mouseover":return Uo=lh(Uo,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Kd.set(s,lh(Kd.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Xd.set(s,lh(Xd.get(s)||null,e,t,r,n,i)),!0}return!1}function OC(e){var t=sl(e.target);if(t!==null){var r=Yl(t);if(r!==null){if(t=r.tag,t===13){if(t=wC(r),t!==null){e.blockedOn=t,CC(e.priority,function(){EC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cw=n,r.target.dispatchEvent(n),Cw=null}else return t=Up(r),t!==null&&_S(t),e.blockedOn=r,!1;t.shift()}return!0}function jx(e,t,r){Pm(e)&&r.delete(t)}function J9(){Rw=!1,jo!==null&&Pm(jo)&&(jo=null),zo!==null&&Pm(zo)&&(zo=null),Uo!==null&&Pm(Uo)&&(Uo=null),Kd.forEach(jx),Xd.forEach(jx)}function uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Rw||(Rw=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,J9)))}function Qd(e){function t(i){return uh(i,e)}if(0<Mf.length){uh(Mf[0],e);for(var r=1;r<Mf.length;r++){var n=Mf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jo!==null&&uh(jo,e),zo!==null&&uh(zo,e),Uo!==null&&uh(Uo,e),Kd.forEach(t),Xd.forEach(t),r=0;r<Po.length;r++)n=Po[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Po.length&&(r=Po[0],r.blockedOn===null);)OC(r),r.blockedOn===null&&Po.shift()}var oc=js.ReactCurrentBatchConfig,jy=!0;function Y9(e,t,r,n){var i=Ne,s=oc.transition;oc.transition=null;try{Ne=1,bS(e,t,r,n)}finally{Ne=i,oc.transition=s}}function K9(e,t,r,n){var i=Ne,s=oc.transition;oc.transition=null;try{Ne=4,bS(e,t,r,n)}finally{Ne=i,oc.transition=s}}function bS(e,t,r,n){if(jy){var i=Nw(e,t,r,n);if(i===null)Y1(e,t,n,zy,r),Fx(e,n);else if(Z9(i,e,t,r,n))n.stopPropagation();else if(Fx(e,n),t&4&&-1<q9.indexOf(e)){for(;i!==null;){var s=Up(i);if(s!==null&&kC(s),s=Nw(e,t,r,n),s===null&&Y1(e,t,n,zy,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Y1(e,t,n,null,r)}}var zy=null;function Nw(e,t,r,n){if(zy=null,e=gS(n),e=sl(e),e!==null)if(t=Yl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zy=e,null}function IC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F9()){case vS:return 1;case $C:return 4;case Dy:case j9:return 16;case xC:return 536870912;default:return 16}default:return 16}}var Ao=null,SS=null,Cm=null;function AC(){if(Cm)return Cm;var e,t=SS,r=t.length,n,i="value"in Ao?Ao.value:Ao.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Cm=i.slice(e,1<n?1-n:void 0)}function Om(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kf(){return!0}function zx(){return!1}function tn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kf:zx,this.isPropagationStopped=zx,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),t}var Wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$S=tn(Wc),zp=st({},Wc,{view:0,detail:0}),X9=tn(zp),U1,V1,ch,_g=st({},zp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ch&&(ch&&e.type==="mousemove"?(U1=e.screenX-ch.screenX,V1=e.screenY-ch.screenY):V1=U1=0,ch=e),U1)},movementY:function(e){return"movementY"in e?e.movementY:V1}}),Ux=tn(_g),Q9=st({},_g,{dataTransfer:0}),e7=tn(Q9),t7=st({},zp,{relatedTarget:0}),G1=tn(t7),r7=st({},Wc,{animationName:0,elapsedTime:0,pseudoElement:0}),n7=tn(r7),i7=st({},Wc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s7=tn(i7),o7=st({},Wc,{data:0}),Vx=tn(o7),a7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u7[e])?!!t[e]:!1}function xS(){return c7}var h7=st({},zp,{key:function(e){if(e.key){var t=a7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Om(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xS,charCode:function(e){return e.type==="keypress"?Om(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Om(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d7=tn(h7),p7=st({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=tn(p7),f7=st({},zp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xS}),m7=tn(f7),y7=st({},Wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),g7=tn(y7),v7=st({},_g,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w7=tn(v7),_7=[9,13,27,32],TS=Os&&"CompositionEvent"in window,bd=null;Os&&"documentMode"in document&&(bd=document.documentMode);var b7=Os&&"TextEvent"in window&&!bd,LC=Os&&(!TS||bd&&8<bd&&11>=bd),Wx=String.fromCharCode(32),Bx=!1;function RC(e,t){switch(e){case"keyup":return _7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zu=!1;function S7(e,t){switch(e){case"compositionend":return NC(t);case"keypress":return t.which!==32?null:(Bx=!0,Wx);case"textInput":return e=t.data,e===Wx&&Bx?null:e;default:return null}}function $7(e,t){if(zu)return e==="compositionend"||!TS&&RC(e,t)?(e=AC(),Cm=SS=Ao=null,zu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LC&&t.locale!=="ko"?null:t.data;default:return null}}var x7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x7[e.type]:t==="textarea"}function DC(e,t,r,n){fC(n),t=Uy(t,"onChange"),0<t.length&&(r=new $S("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sd=null,ep=null;function T7(e){ZC(e,0)}function bg(e){var t=Gu(e);if(aC(t))return e}function M7(e,t){if(e==="change")return t}var FC=!1;if(Os){var W1;if(Os){var B1="oninput"in document;if(!B1){var qx=document.createElement("div");qx.setAttribute("oninput","return;"),B1=typeof qx.oninput=="function"}W1=B1}else W1=!1;FC=W1&&(!document.documentMode||9<document.documentMode)}function Zx(){Sd&&(Sd.detachEvent("onpropertychange",jC),ep=Sd=null)}function jC(e){if(e.propertyName==="value"&&bg(ep)){var t=[];DC(t,ep,e,gS(e)),vC(T7,t)}}function k7(e,t,r){e==="focusin"?(Zx(),Sd=t,ep=r,Sd.attachEvent("onpropertychange",jC)):e==="focusout"&&Zx()}function E7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bg(ep)}function P7(e,t){if(e==="click")return bg(t)}function C7(e,t){if(e==="input"||e==="change")return bg(t)}function O7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ui=typeof Object.is=="function"?Object.is:O7;function tp(e,t){if(ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vw.call(t,i)||!ui(e[i],t[i]))return!1}return!0}function Jx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yx(e,t){var r=Jx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jx(r)}}function zC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=Ly();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ly(e.document)}return t}function MS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I7(e){var t=UC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zC(r.ownerDocument.documentElement,r)){if(n!==null&&MS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Yx(r,s);var o=Yx(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A7=Os&&"documentMode"in document&&11>=document.documentMode,Uu=null,Dw=null,$d=null,Fw=!1;function Kx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fw||Uu==null||Uu!==Ly(n)||(n=Uu,"selectionStart"in n&&MS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$d&&tp($d,n)||($d=n,n=Uy(Dw,"onSelect"),0<n.length&&(t=new $S("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Uu)))}function Ef(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vu={animationend:Ef("Animation","AnimationEnd"),animationiteration:Ef("Animation","AnimationIteration"),animationstart:Ef("Animation","AnimationStart"),transitionend:Ef("Transition","TransitionEnd")},H1={},VC={};Os&&(VC=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Sg(e){if(H1[e])return H1[e];if(!Vu[e])return e;var t=Vu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in VC)return H1[e]=t[r];return e}var GC=Sg("animationend"),WC=Sg("animationiteration"),BC=Sg("animationstart"),HC=Sg("transitionend"),qC=new Map,Xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(e,t){qC.set(e,t),Jl(t,[e])}for(var q1=0;q1<Xx.length;q1++){var Z1=Xx[q1],L7=Z1.toLowerCase(),R7=Z1[0].toUpperCase()+Z1.slice(1);ua(L7,"on"+R7)}ua(GC,"onAnimationEnd");ua(WC,"onAnimationIteration");ua(BC,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(HC,"onTransitionEnd");vc("onMouseEnter",["mouseout","mouseover"]);vc("onMouseLeave",["mouseout","mouseover"]);vc("onPointerEnter",["pointerout","pointerover"]);vc("onPointerLeave",["pointerout","pointerover"]);Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lh));function Qx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,L9(n,t,void 0,e),e.currentTarget=null}function ZC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qx(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qx(i,a,c),s=l}}}if(Ny)throw e=Aw,Ny=!1,Aw=null,e}function We(e,t){var r=t[Gw];r===void 0&&(r=t[Gw]=new Set);var n=e+"__bubble";r.has(n)||(JC(t,e,2,!1),r.add(n))}function J1(e,t,r){var n=0;t&&(n|=4),JC(r,e,n,t)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function rp(e){if(!e[Pf]){e[Pf]=!0,rC.forEach(function(r){r!=="selectionchange"&&(N7.has(r)||J1(r,!1,e),J1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pf]||(t[Pf]=!0,J1("selectionchange",!1,t))}}function JC(e,t,r,n){switch(IC(t)){case 1:var i=Y9;break;case 4:i=K9;break;default:i=bS}r=i.bind(null,t,r,e),i=void 0,!Iw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Y1(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sl(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}vC(function(){var c=s,d=gS(r),f=[];e:{var m=qC.get(e);if(m!==void 0){var y=$S,g=e;switch(e){case"keypress":if(Om(r)===0)break e;case"keydown":case"keyup":y=d7;break;case"focusin":g="focus",y=G1;break;case"focusout":g="blur",y=G1;break;case"beforeblur":case"afterblur":y=G1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=e7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=m7;break;case GC:case WC:case BC:y=n7;break;case HC:y=g7;break;case"scroll":y=X9;break;case"wheel":y=w7;break;case"copy":case"cut":case"paste":y=s7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gx}var v=(t&4)!==0,$=!v&&e==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var b=c,S;b!==null;){S=b;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,_!==null&&(x=Yd(b,_),x!=null&&v.push(np(b,x,S)))),$)break;b=b.return}0<v.length&&(m=new y(m,g,null,r,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Cw&&(g=r.relatedTarget||r.fromElement)&&(sl(g)||g[Is]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=c,g=g?sl(g):null,g!==null&&($=Yl(g),g!==$||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(v=Ux,x="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=Gx,x="onPointerLeave",_="onPointerEnter",b="pointer"),$=y==null?m:Gu(y),S=g==null?m:Gu(g),m=new v(x,b+"leave",y,r,d),m.target=$,m.relatedTarget=S,x=null,sl(d)===c&&(v=new v(_,b+"enter",g,r,d),v.target=S,v.relatedTarget=$,x=v),$=x,y&&g)t:{for(v=y,_=g,b=0,S=v;S;S=au(S))b++;for(S=0,x=_;x;x=au(x))S++;for(;0<b-S;)v=au(v),b--;for(;0<S-b;)_=au(_),S--;for(;b--;){if(v===_||_!==null&&v===_.alternate)break t;v=au(v),_=au(_)}v=null}else v=null;y!==null&&eT(f,m,y,v,!1),g!==null&&$!==null&&eT(f,$,g,v,!0)}}e:{if(m=c?Gu(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=M7;else if(Hx(m))if(FC)M=C7;else{M=E7;var k=k7}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=P7);if(M&&(M=M(e,c))){DC(f,M,r,d);break e}k&&k(e,m,c),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Tw(m,"number",m.value)}switch(k=c?Gu(c):window,e){case"focusin":(Hx(k)||k.contentEditable==="true")&&(Uu=k,Dw=c,$d=null);break;case"focusout":$d=Dw=Uu=null;break;case"mousedown":Fw=!0;break;case"contextmenu":case"mouseup":case"dragend":Fw=!1,Kx(f,r,d);break;case"selectionchange":if(A7)break;case"keydown":case"keyup":Kx(f,r,d)}var O;if(TS)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else zu?RC(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(LC&&r.locale!=="ko"&&(zu||A!=="onCompositionStart"?A==="onCompositionEnd"&&zu&&(O=AC()):(Ao=d,SS="value"in Ao?Ao.value:Ao.textContent,zu=!0)),k=Uy(c,A),0<k.length&&(A=new Vx(A,e,null,r,d),f.push({event:A,listeners:k}),O?A.data=O:(O=NC(r),O!==null&&(A.data=O)))),(O=b7?S7(e,r):$7(e,r))&&(c=Uy(c,"onBeforeInput"),0<c.length&&(d=new Vx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=O))}ZC(f,t)})}function np(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yd(e,r),s!=null&&n.unshift(np(e,s,i)),s=Yd(e,t),s!=null&&n.push(np(e,s,i))),e=e.return}return n}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eT(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Yd(r,s),l!=null&&o.unshift(np(r,l,a))):i||(l=Yd(r,s),l!=null&&o.push(np(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var D7=/\r\n?/g,F7=/\u0000|\uFFFD/g;function tT(e){return(typeof e=="string"?e:""+e).replace(D7,`
`).replace(F7,"")}function Cf(e,t,r){if(t=tT(t),tT(e)!==t&&r)throw Error(z(425))}function Vy(){}var jw=null,zw=null;function Uw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vw=typeof setTimeout=="function"?setTimeout:void 0,j7=typeof clearTimeout=="function"?clearTimeout:void 0,rT=typeof Promise=="function"?Promise:void 0,z7=typeof queueMicrotask=="function"?queueMicrotask:typeof rT<"u"?function(e){return rT.resolve(null).then(e).catch(U7)}:Vw;function U7(e){setTimeout(function(){throw e})}function K1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Qd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Qd(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bc=Math.random().toString(36).slice(2),ji="__reactFiber$"+Bc,ip="__reactProps$"+Bc,Is="__reactContainer$"+Bc,Gw="__reactEvents$"+Bc,V7="__reactListeners$"+Bc,G7="__reactHandles$"+Bc;function sl(e){var t=e[ji];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Is]||r[ji]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nT(e);e!==null;){if(r=e[ji])return r;e=nT(e)}return t}e=r,r=e.parentNode}return null}function Up(e){return e=e[ji]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function $g(e){return e[ip]||null}var Ww=[],Wu=-1;function ca(e){return{current:e}}function Je(e){0>Wu||(e.current=Ww[Wu],Ww[Wu]=null,Wu--)}function Ue(e,t){Wu++,Ww[Wu]=e.current,e.current=t}var Ko={},cr=ca(Ko),Lr=ca(!1),Cl=Ko;function wc(e,t){var r=e.type.contextTypes;if(!r)return Ko;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return e=e.childContextTypes,e!=null}function Gy(){Je(Lr),Je(cr)}function iT(e,t,r){if(cr.current!==Ko)throw Error(z(168));Ue(cr,t),Ue(Lr,r)}function YC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(z(108,k9(e)||"Unknown",i));return st({},r,n)}function Wy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ko,Cl=cr.current,Ue(cr,e),Ue(Lr,Lr.current),!0}function sT(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=YC(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,Je(Lr),Je(cr),Ue(cr,e)):Je(Lr),Ue(Lr,r)}var _s=null,xg=!1,X1=!1;function KC(e){_s===null?_s=[e]:_s.push(e)}function W7(e){xg=!0,KC(e)}function ha(){if(!X1&&_s!==null){X1=!0;var e=0,t=Ne;try{var r=_s;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_s=null,xg=!1}catch(i){throw _s!==null&&(_s=_s.slice(e+1)),SC(vS,ha),i}finally{Ne=t,X1=!1}}return null}var Bu=[],Hu=0,By=null,Hy=0,yn=[],gn=0,Ol=null,Ms=1,ks="";function Ma(e,t){Bu[Hu++]=Hy,Bu[Hu++]=By,By=e,Hy=t}function XC(e,t,r){yn[gn++]=Ms,yn[gn++]=ks,yn[gn++]=Ol,Ol=e;var n=Ms;e=ks;var i=32-ri(n)-1;n&=~(1<<i),r+=1;var s=32-ri(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ms=1<<32-ri(t)+i|r<<i|n,ks=s+e}else Ms=1<<s|r<<i|n,ks=e}function kS(e){e.return!==null&&(Ma(e,1),XC(e,1,0))}function ES(e){for(;e===By;)By=Bu[--Hu],Bu[Hu]=null,Hy=Bu[--Hu],Bu[Hu]=null;for(;e===Ol;)Ol=yn[--gn],yn[gn]=null,ks=yn[--gn],yn[gn]=null,Ms=yn[--gn],yn[gn]=null}var Zr=null,Hr=null,Xe=!1,Kn=null;function QC(e,t){var r=wn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function oT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zr=e,Hr=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ol!==null?{id:Ms,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zr=e,Hr=null,!0):!1;default:return!1}}function Bw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hw(e){if(Xe){var t=Hr;if(t){var r=t;if(!oT(e,t)){if(Bw(e))throw Error(z(418));t=Vo(r.nextSibling);var n=Zr;t&&oT(e,t)?QC(n,r):(e.flags=e.flags&-4097|2,Xe=!1,Zr=e)}}else{if(Bw(e))throw Error(z(418));e.flags=e.flags&-4097|2,Xe=!1,Zr=e}}}function aT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zr=e}function Of(e){if(e!==Zr)return!1;if(!Xe)return aT(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uw(e.type,e.memoizedProps)),t&&(t=Hr)){if(Bw(e))throw eO(),Error(z(418));for(;t;)QC(e,t),t=Vo(t.nextSibling)}if(aT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hr=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Zr?Vo(e.stateNode.nextSibling):null;return!0}function eO(){for(var e=Hr;e;)e=Vo(e.nextSibling)}function _c(){Hr=Zr=null,Xe=!1}function PS(e){Kn===null?Kn=[e]:Kn.push(e)}var B7=js.ReactCurrentBatchConfig;function Bn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var qy=ca(null),Zy=null,qu=null,CS=null;function OS(){CS=qu=Zy=null}function IS(e){var t=qy.current;Je(qy),e._currentValue=t}function qw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ac(e,t){Zy=e,CS=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(CS!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(Zy===null)throw Error(z(308));qu=e,Zy.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var ol=null;function AS(e){ol===null?ol=[e]:ol.push(e)}function tO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,AS(t)):(r.next=i.next,i.next=r),t.interleaved=r,As(e,n)}function As(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var So=!1;function LS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Go(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,As(e,r)}return i=n.interleaved,i===null?(t.next=t,AS(n)):(t.next=i.next,i.next=t),n.interleaved=t,As(e,r)}function Im(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wS(e,r)}}function lT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jy(e,t,r,n){var i=e.updateQueue;So=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(m=t,y=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(y,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(y,f,m):g,m==null)break e;f=st({},f,m);break e;case 2:So=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Al|=o,e.lanes=o,e.memoizedState=f}}function uT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(z(191,i));i.call(n)}}}var nO=new tC.Component().refs;function Zw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tg={isMounted:function(e){return(e=e._reactInternals)?Yl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vr(),i=Bo(e),s=Es(n,i);s.payload=t,r!=null&&(s.callback=r),t=Go(e,s,i),t!==null&&(ni(t,e,i,n),Im(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vr(),i=Bo(e),s=Es(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Go(e,s,i),t!==null&&(ni(t,e,i,n),Im(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vr(),n=Bo(e),i=Es(r,n);i.tag=2,t!=null&&(i.callback=t),t=Go(e,i,n),t!==null&&(ni(t,e,n,r),Im(t,e,n))}};function cT(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!tp(r,n)||!tp(i,s):!0}function iO(e,t,r){var n=!1,i=Ko,s=t.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Rr(t)?Cl:cr.current,n=t.contextTypes,s=(n=n!=null)?wc(e,i):Ko),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function hT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tg.enqueueReplaceState(t,t.state,null)}function Jw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=nO,LS(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Rr(t)?Cl:cr.current,i.context=wc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Zw(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Tg.enqueueReplaceState(i,i.state,null),Jy(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===nO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function If(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dT(e){var t=e._init;return t(e._payload)}function sO(e){function t(_,b){if(e){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Ho(_,b),_.index=0,_.sibling=null,_}function s(_,b,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,b,S,x){return b===null||b.tag!==6?(b=sv(S,_.mode,x),b.return=_,b):(b=i(b,S),b.return=_,b)}function l(_,b,S,x){var M=S.type;return M===ju?d(_,b,S.props.children,x,S.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===bo&&dT(M)===b.type)?(x=i(b,S.props),x.ref=hh(_,b,S),x.return=_,x):(x=Fm(S.type,S.key,S.props,null,_.mode,x),x.ref=hh(_,b,S),x.return=_,x)}function c(_,b,S,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=ov(S,_.mode,x),b.return=_,b):(b=i(b,S.children||[]),b.return=_,b)}function d(_,b,S,x,M){return b===null||b.tag!==7?(b=_l(S,_.mode,x,M),b.return=_,b):(b=i(b,S),b.return=_,b)}function f(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=sv(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bf:return S=Fm(b.type,b.key,b.props,null,_.mode,S),S.ref=hh(_,null,b),S.return=_,S;case Fu:return b=ov(b,_.mode,S),b.return=_,b;case bo:var x=b._init;return f(_,x(b._payload),S)}if(Ih(b)||oh(b))return b=_l(b,_.mode,S,null),b.return=_,b;If(_,b)}return null}function m(_,b,S,x){var M=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(_,b,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bf:return S.key===M?l(_,b,S,x):null;case Fu:return S.key===M?c(_,b,S,x):null;case bo:return M=S._init,m(_,b,M(S._payload),x)}if(Ih(S)||oh(S))return M!==null?null:d(_,b,S,x,null);If(_,S)}return null}function y(_,b,S,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(S)||null,a(b,_,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bf:return _=_.get(x.key===null?S:x.key)||null,l(b,_,x,M);case Fu:return _=_.get(x.key===null?S:x.key)||null,c(b,_,x,M);case bo:var k=x._init;return y(_,b,S,k(x._payload),M)}if(Ih(x)||oh(x))return _=_.get(S)||null,d(b,_,x,M,null);If(b,x)}return null}function g(_,b,S,x){for(var M=null,k=null,O=b,A=b=0,V=null;O!==null&&A<S.length;A++){O.index>A?(V=O,O=null):V=O.sibling;var F=m(_,O,S[A],x);if(F===null){O===null&&(O=V);break}e&&O&&F.alternate===null&&t(_,O),b=s(F,b,A),k===null?M=F:k.sibling=F,k=F,O=V}if(A===S.length)return r(_,O),Xe&&Ma(_,A),M;if(O===null){for(;A<S.length;A++)O=f(_,S[A],x),O!==null&&(b=s(O,b,A),k===null?M=O:k.sibling=O,k=O);return Xe&&Ma(_,A),M}for(O=n(_,O);A<S.length;A++)V=y(O,_,A,S[A],x),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?A:V.key),b=s(V,b,A),k===null?M=V:k.sibling=V,k=V);return e&&O.forEach(function(q){return t(_,q)}),Xe&&Ma(_,A),M}function v(_,b,S,x){var M=oh(S);if(typeof M!="function")throw Error(z(150));if(S=M.call(S),S==null)throw Error(z(151));for(var k=M=null,O=b,A=b=0,V=null,F=S.next();O!==null&&!F.done;A++,F=S.next()){O.index>A?(V=O,O=null):V=O.sibling;var q=m(_,O,F.value,x);if(q===null){O===null&&(O=V);break}e&&O&&q.alternate===null&&t(_,O),b=s(q,b,A),k===null?M=q:k.sibling=q,k=q,O=V}if(F.done)return r(_,O),Xe&&Ma(_,A),M;if(O===null){for(;!F.done;A++,F=S.next())F=f(_,F.value,x),F!==null&&(b=s(F,b,A),k===null?M=F:k.sibling=F,k=F);return Xe&&Ma(_,A),M}for(O=n(_,O);!F.done;A++,F=S.next())F=y(O,_,A,F.value,x),F!==null&&(e&&F.alternate!==null&&O.delete(F.key===null?A:F.key),b=s(F,b,A),k===null?M=F:k.sibling=F,k=F);return e&&O.forEach(function(X){return t(_,X)}),Xe&&Ma(_,A),M}function $(_,b,S,x){if(typeof S=="object"&&S!==null&&S.type===ju&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bf:e:{for(var M=S.key,k=b;k!==null;){if(k.key===M){if(M=S.type,M===ju){if(k.tag===7){r(_,k.sibling),b=i(k,S.props.children),b.return=_,_=b;break e}}else if(k.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===bo&&dT(M)===k.type){r(_,k.sibling),b=i(k,S.props),b.ref=hh(_,k,S),b.return=_,_=b;break e}r(_,k);break}else t(_,k);k=k.sibling}S.type===ju?(b=_l(S.props.children,_.mode,x,S.key),b.return=_,_=b):(x=Fm(S.type,S.key,S.props,null,_.mode,x),x.ref=hh(_,b,S),x.return=_,_=x)}return o(_);case Fu:e:{for(k=S.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(_,b.sibling),b=i(b,S.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=ov(S,_.mode,x),b.return=_,_=b}return o(_);case bo:return k=S._init,$(_,b,k(S._payload),x)}if(Ih(S))return g(_,b,S,x);if(oh(S))return v(_,b,S,x);If(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,S),b.return=_,_=b):(r(_,b),b=sv(S,_.mode,x),b.return=_,_=b),o(_)):r(_,b)}return $}var bc=sO(!0),oO=sO(!1),Vp={},Ui=ca(Vp),sp=ca(Vp),op=ca(Vp);function al(e){if(e===Vp)throw Error(z(174));return e}function RS(e,t){switch(Ue(op,t),Ue(sp,e),Ue(Ui,Vp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kw(t,e)}Je(Ui),Ue(Ui,t)}function Sc(){Je(Ui),Je(sp),Je(op)}function aO(e){al(op.current);var t=al(Ui.current),r=kw(t,e.type);t!==r&&(Ue(sp,e),Ue(Ui,r))}function NS(e){sp.current===e&&(Je(Ui),Je(sp))}var nt=ca(0);function Yy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q1=[];function DS(){for(var e=0;e<Q1.length;e++)Q1[e]._workInProgressVersionPrimary=null;Q1.length=0}var Am=js.ReactCurrentDispatcher,ev=js.ReactCurrentBatchConfig,Il=0,it=null,Pt=null,Dt=null,Ky=!1,xd=!1,ap=0,H7=0;function Kt(){throw Error(z(321))}function FS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ui(e[r],t[r]))return!1;return!0}function jS(e,t,r,n,i,s){if(Il=s,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Am.current=e===null||e.memoizedState===null?Y7:K7,e=r(n,i),xd){s=0;do{if(xd=!1,ap=0,25<=s)throw Error(z(301));s+=1,Dt=Pt=null,t.updateQueue=null,Am.current=X7,e=r(n,i)}while(xd)}if(Am.current=Xy,t=Pt!==null&&Pt.next!==null,Il=0,Dt=Pt=it=null,Ky=!1,t)throw Error(z(300));return e}function zS(){var e=ap!==0;return ap=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?it.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Tn(){if(Pt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Dt===null?it.memoizedState:Dt.next;if(t!==null)Dt=t,Pt=e;else{if(e===null)throw Error(z(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?it.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function lp(e,t){return typeof t=="function"?t(e):t}function tv(e){var t=Tn(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=Pt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Il&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,it.lanes|=d,Al|=d}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,ui(n,t.memoizedState)||(Ir=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,it.lanes|=s,Al|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rv(e){var t=Tn(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ui(s,t.memoizedState)||(Ir=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function lO(){}function uO(e,t){var r=it,n=Tn(),i=t(),s=!ui(n.memoizedState,i);if(s&&(n.memoizedState=i,Ir=!0),n=n.queue,US(dO.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,up(9,hO.bind(null,r,n,i,t),void 0,null),Ut===null)throw Error(z(349));Il&30||cO(r,t,i)}return i}function cO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hO(e,t,r,n){t.value=r,t.getSnapshot=n,pO(t)&&fO(e)}function dO(e,t,r){return r(function(){pO(t)&&fO(e)})}function pO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ui(e,r)}catch{return!0}}function fO(e){var t=As(e,1);t!==null&&ni(t,e,1,-1)}function pT(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:e},t.queue=e,e=e.dispatch=J7.bind(null,it,e),[t.memoizedState,e]}function up(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mO(){return Tn().memoizedState}function Lm(e,t,r,n){var i=Di();it.flags|=e,i.memoizedState=up(1|t,r,void 0,n===void 0?null:n)}function Mg(e,t,r,n){var i=Tn();n=n===void 0?null:n;var s=void 0;if(Pt!==null){var o=Pt.memoizedState;if(s=o.destroy,n!==null&&FS(n,o.deps)){i.memoizedState=up(t,r,s,n);return}}it.flags|=e,i.memoizedState=up(1|t,r,s,n)}function fT(e,t){return Lm(8390656,8,e,t)}function US(e,t){return Mg(2048,8,e,t)}function yO(e,t){return Mg(4,2,e,t)}function gO(e,t){return Mg(4,4,e,t)}function vO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wO(e,t,r){return r=r!=null?r.concat([e]):null,Mg(4,4,vO.bind(null,t,e),r)}function VS(){}function _O(e,t){var r=Tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bO(e,t){var r=Tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function SO(e,t,r){return Il&21?(ui(r,t)||(r=TC(),it.lanes|=r,Al|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=r)}function q7(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=ev.transition;ev.transition={};try{e(!1),t()}finally{Ne=r,ev.transition=n}}function $O(){return Tn().memoizedState}function Z7(e,t,r){var n=Bo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xO(e))TO(t,r);else if(r=tO(e,t,r,n),r!==null){var i=vr();ni(r,e,n,i),MO(r,t,n)}}function J7(e,t,r){var n=Bo(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xO(e))TO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ui(a,o)){var l=t.interleaved;l===null?(i.next=i,AS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=tO(e,t,i,n),r!==null&&(i=vr(),ni(r,e,n,i),MO(r,t,n))}}function xO(e){var t=e.alternate;return e===it||t!==null&&t===it}function TO(e,t){xd=Ky=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function MO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wS(e,r)}}var Xy={readContext:xn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},Y7={readContext:xn,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:fT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lm(4194308,4,vO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lm(4,2,e,t)},useMemo:function(e,t){var r=Di();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Di();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z7.bind(null,it,e),[n.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:pT,useDebugValue:VS,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=pT(!1),t=e[0];return e=q7.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=it,i=Di();if(Xe){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),Ut===null)throw Error(z(349));Il&30||cO(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,fT(dO.bind(null,n,s,e),[e]),n.flags|=2048,up(9,hO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Di(),t=Ut.identifierPrefix;if(Xe){var r=ks,n=Ms;r=(n&~(1<<32-ri(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ap++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=H7++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K7={readContext:xn,useCallback:_O,useContext:xn,useEffect:US,useImperativeHandle:wO,useInsertionEffect:yO,useLayoutEffect:gO,useMemo:bO,useReducer:tv,useRef:mO,useState:function(){return tv(lp)},useDebugValue:VS,useDeferredValue:function(e){var t=Tn();return SO(t,Pt.memoizedState,e)},useTransition:function(){var e=tv(lp)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:lO,useSyncExternalStore:uO,useId:$O,unstable_isNewReconciler:!1},X7={readContext:xn,useCallback:_O,useContext:xn,useEffect:US,useImperativeHandle:wO,useInsertionEffect:yO,useLayoutEffect:gO,useMemo:bO,useReducer:rv,useRef:mO,useState:function(){return rv(lp)},useDebugValue:VS,useDeferredValue:function(e){var t=Tn();return Pt===null?t.memoizedState=e:SO(t,Pt.memoizedState,e)},useTransition:function(){var e=rv(lp)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:lO,useSyncExternalStore:uO,useId:$O,unstable_isNewReconciler:!1};function $c(e,t){try{var r="",n=t;do r+=M9(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function nv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q7=typeof WeakMap=="function"?WeakMap:Map;function kO(e,t,r){r=Es(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){e0||(e0=!0,o_=n),Yw(e,t)},r}function EO(e,t,r){r=Es(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Yw(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Yw(e,t),typeof n!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function mT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q7;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=pF.bind(null,e,t,r),t.then(e,e))}function yT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gT(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Es(-1,1),t.tag=2,Go(r,t,1))),r.lanes|=1),e)}var eF=js.ReactCurrentOwner,Ir=!1;function mr(e,t,r,n){t.child=e===null?oO(t,null,r,n):bc(t,e.child,r,n)}function vT(e,t,r,n,i){r=r.render;var s=t.ref;return ac(t,i),n=jS(e,t,r,n,s,i),r=zS(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Xe&&r&&kS(t),t.flags|=1,mr(e,t,n,i),t.child)}function wT(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!YS(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,PO(e,t,s,n,i)):(e=Fm(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:tp,r(o,n)&&e.ref===t.ref)return Ls(e,t,i)}return t.flags|=1,e=Ho(s,n),e.ref=t.ref,e.return=t,t.child=e}function PO(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(tp(s,n)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,Ls(e,t,i)}return Kw(e,t,r,n,i)}function CO(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ju,Wr),Wr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Ju,Wr),Wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ue(Ju,Wr),Wr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ue(Ju,Wr),Wr|=n;return mr(e,t,i,r),t.child}function OO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kw(e,t,r,n,i){var s=Rr(r)?Cl:cr.current;return s=wc(t,s),ac(t,i),r=jS(e,t,r,n,s,i),n=zS(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Xe&&n&&kS(t),t.flags|=1,mr(e,t,r,i),t.child)}function _T(e,t,r,n,i){if(Rr(r)){var s=!0;Wy(t)}else s=!1;if(ac(t,i),t.stateNode===null)Rm(e,t),iO(t,r,n),Jw(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=xn(c):(c=Rr(r)?Cl:cr.current,c=wc(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&hT(t,o,n,c),So=!1;var m=t.memoizedState;o.state=m,Jy(t,n,o,i),l=t.memoizedState,a!==n||m!==l||Lr.current||So?(typeof d=="function"&&(Zw(t,r,d,n),l=t.memoizedState),(a=So||cT(t,r,a,n,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,rO(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Bn(t.type,a),o.props=c,f=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Rr(r)?Cl:cr.current,l=wc(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&hT(t,o,n,l),So=!1,m=t.memoizedState,o.state=m,Jy(t,n,o,i);var g=t.memoizedState;a!==f||m!==g||Lr.current||So?(typeof y=="function"&&(Zw(t,r,y,n),g=t.memoizedState),(c=So||cT(t,r,c,n,m,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Xw(e,t,r,n,s,i)}function Xw(e,t,r,n,i,s){OO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&sT(t,r,!1),Ls(e,t,s);n=t.stateNode,eF.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=bc(t,e.child,null,s),t.child=bc(t,null,a,s)):mr(e,t,a,s),t.memoizedState=n.state,i&&sT(t,r,!0),t.child}function IO(e){var t=e.stateNode;t.pendingContext?iT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iT(e,t.context,!1),RS(e,t.containerInfo)}function bT(e,t,r,n,i){return _c(),PS(i),t.flags|=256,mr(e,t,r,n),t.child}var Qw={dehydrated:null,treeContext:null,retryLane:0};function e_(e){return{baseLanes:e,cachePool:null,transitions:null}}function AO(e,t,r){var n=t.pendingProps,i=nt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(nt,i&1),e===null)return Hw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pg(o,n,0,null),e=_l(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=e_(r),t.memoizedState=Qw,e):GS(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tF(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ho(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ho(a,s):(s=_l(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?e_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Qw,n}return s=e.child,e=s.sibling,n=Ho(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function GS(e,t){return t=Pg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Af(e,t,r,n){return n!==null&&PS(n),bc(t,e.child,null,r),e=GS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tF(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=nv(Error(z(422))),Af(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Pg({mode:"visible",children:n.children},i,0,null),s=_l(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&bc(t,e.child,null,o),t.child.memoizedState=e_(o),t.memoizedState=Qw,s);if(!(t.mode&1))return Af(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(z(419)),n=nv(s,n,void 0),Af(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ir||a){if(n=Ut,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(e,i),ni(n,e,i,-1))}return JS(),n=nv(Error(z(421))),Af(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fF.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Hr=Vo(i.nextSibling),Zr=t,Xe=!0,Kn=null,e!==null&&(yn[gn++]=Ms,yn[gn++]=ks,yn[gn++]=Ol,Ms=e.id,ks=e.overflow,Ol=t),t=GS(t,n.children),t.flags|=4096,t)}function ST(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qw(e.return,t,r)}function iv(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function LO(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(mr(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ST(e,r,t);else if(e.tag===19)ST(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ue(nt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Yy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),iv(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}iv(t,!0,r,null,s);break;case"together":iv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Al|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=Ho(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ho(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rF(e,t,r){switch(t.tag){case 3:IO(t),_c();break;case 5:aO(t);break;case 1:Rr(t.type)&&Wy(t);break;case 4:RS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ue(qy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ue(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?AO(e,t,r):(Ue(nt,nt.current&1),e=Ls(e,t,r),e!==null?e.sibling:null);Ue(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return LO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,CO(e,t,r)}return Ls(e,t,r)}var RO,t_,NO,DO;RO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t_=function(){};NO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,al(Ui.current);var s=null;switch(r){case"input":i=$w(e,i),n=$w(e,n),s=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),s=[];break;case"textarea":i=Mw(e,i),n=Mw(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vy)}Ew(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};DO=function(e,t,r,n){r!==n&&(t.flags|=4)};function dh(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nF(e,t,r){var n=t.pendingProps;switch(ES(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Rr(t.type)&&Gy(),Xt(t),null;case 3:return n=t.stateNode,Sc(),Je(Lr),Je(cr),DS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Of(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(u_(Kn),Kn=null))),t_(e,t),Xt(t),null;case 5:NS(t);var i=al(op.current);if(r=t.type,e!==null&&t.stateNode!=null)NO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Xt(t),null}if(e=al(Ui.current),Of(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ji]=t,n[ip]=s,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<Lh.length;i++)We(Lh[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":Ox(n,s),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},We("invalid",n);break;case"textarea":Ax(n,s),We("invalid",n)}Ew(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cf(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cf(n.textContent,a,e),i=["children",""+a]):Zd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":Sf(n),Ix(n,s,!0);break;case"textarea":Sf(n),Lx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ji]=t,e[ip]=n,RO(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pw(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<Lh.length;i++)We(Lh[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":Ox(e,n),i=$w(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),We("invalid",e);break;case"textarea":Ax(e,n),i=Mw(e,n),We("invalid",e);break;default:i=n}Ew(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hC(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jd(e,l):typeof l=="number"&&Jd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",e):l!=null&&pS(e,s,l,o))}switch(r){case"input":Sf(e),Ix(e,n,!1);break;case"textarea":Sf(e),Lx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?nc(e,!!n.multiple,s,!1):n.defaultValue!=null&&nc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)DO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=al(op.current),al(Ui.current),Of(t)){if(n=t.stateNode,r=t.memoizedProps,n[ji]=t,(s=n.nodeValue!==r)&&(e=Zr,e!==null))switch(e.tag){case 3:Cf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cf(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=t,t.stateNode=n}return Xt(t),null;case 13:if(Je(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&Hr!==null&&t.mode&1&&!(t.flags&128))eO(),_c(),t.flags|=98560,s=!1;else if(s=Of(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[ji]=t}else _c(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else Kn!==null&&(u_(Kn),Kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?Ct===0&&(Ct=3):JS())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Sc(),t_(e,t),e===null&&rp(t.stateNode.containerInfo),Xt(t),null;case 10:return IS(t.type._context),Xt(t),null;case 17:return Rr(t.type)&&Gy(),Xt(t),null;case 19:if(Je(nt),s=t.memoizedState,s===null)return Xt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)dh(s,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yy(e),o!==null){for(t.flags|=128,dh(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ue(nt,nt.current&1|2),t.child}e=e.sibling}s.tail!==null&&pt()>xc&&(t.flags|=128,n=!0,dh(s,!1),t.lanes=4194304)}else{if(!n)if(e=Yy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Xt(t),null}else 2*pt()-s.renderingStartTime>xc&&r!==1073741824&&(t.flags|=128,n=!0,dh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pt(),t.sibling=null,r=nt.current,Ue(nt,n?r&1|2:r&1),t):(Xt(t),null);case 22:case 23:return ZS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wr&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function iF(e,t){switch(ES(t),t.tag){case 1:return Rr(t.type)&&Gy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sc(),Je(Lr),Je(cr),DS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return NS(t),null;case 13:if(Je(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));_c()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(nt),null;case 4:return Sc(),null;case 10:return IS(t.type._context),null;case 22:case 23:return ZS(),null;case 24:return null;default:return null}}var Lf=!1,ir=!1,sF=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Zu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ut(e,t,n)}else r.current=null}function r_(e,t,r){try{r()}catch(n){ut(e,t,n)}}var $T=!1;function oF(e,t){if(jw=jy,e=UC(),MS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var y;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++c===i&&(a=o),m===s&&++d===n&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zw={focusedElem:e,selectionRange:r},jy=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,$=g.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:Bn(t.type,v),$);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){ut(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=$T,$T=!1,g}function Td(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&r_(t,r,s)}i=i.next}while(i!==n)}}function kg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function n_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function FO(e){var t=e.alternate;t!==null&&(e.alternate=null,FO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ji],delete t[ip],delete t[Gw],delete t[V7],delete t[G7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jO(e){return e.tag===5||e.tag===3||e.tag===4}function xT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vy));else if(n!==4&&(e=e.child,e!==null))for(i_(e,t,r),e=e.sibling;e!==null;)i_(e,t,r),e=e.sibling}function s_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(s_(e,t,r),e=e.sibling;e!==null;)s_(e,t,r),e=e.sibling}var Bt=null,qn=!1;function Vs(e,t,r){for(r=r.child;r!==null;)zO(e,t,r),r=r.sibling}function zO(e,t,r){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(wg,r)}catch{}switch(r.tag){case 5:ir||Zu(r,t);case 6:var n=Bt,i=qn;Bt=null,Vs(e,t,r),Bt=n,qn=i,Bt!==null&&(qn?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(qn?(e=Bt,r=r.stateNode,e.nodeType===8?K1(e.parentNode,r):e.nodeType===1&&K1(e,r),Qd(e)):K1(Bt,r.stateNode));break;case 4:n=Bt,i=qn,Bt=r.stateNode.containerInfo,qn=!0,Vs(e,t,r),Bt=n,qn=i;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r_(r,t,o),i=i.next}while(i!==n)}Vs(e,t,r);break;case 1:if(!ir&&(Zu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ut(r,t,a)}Vs(e,t,r);break;case 21:Vs(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Vs(e,t,r),ir=n):Vs(e,t,r);break;default:Vs(e,t,r)}}function TT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sF),t.forEach(function(n){var i=mF.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function On(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,qn=!1;break e;case 3:Bt=a.stateNode.containerInfo,qn=!0;break e;case 4:Bt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));zO(s,o,i),Bt=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ut(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UO(t,e),t=t.sibling}function UO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),gi(e),n&4){try{Td(3,e,e.return),kg(3,e)}catch(v){ut(e,e.return,v)}try{Td(5,e,e.return)}catch(v){ut(e,e.return,v)}}break;case 1:On(t,e),gi(e),n&512&&r!==null&&Zu(r,r.return);break;case 5:if(On(t,e),gi(e),n&512&&r!==null&&Zu(r,r.return),e.flags&32){var i=e.stateNode;try{Jd(i,"")}catch(v){ut(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lC(i,s),Pw(a,o);var c=Pw(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?pC(i,f):d==="dangerouslySetInnerHTML"?hC(i,f):d==="children"?Jd(i,f):pS(i,d,f,c)}switch(a){case"input":xw(i,s);break;case"textarea":uC(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?nc(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?nc(i,!!s.multiple,s.defaultValue,!0):nc(i,!!s.multiple,s.multiple?[]:"",!1))}i[ip]=s}catch(v){ut(e,e.return,v)}}break;case 6:if(On(t,e),gi(e),n&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){ut(e,e.return,v)}}break;case 3:if(On(t,e),gi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qd(t.containerInfo)}catch(v){ut(e,e.return,v)}break;case 4:On(t,e),gi(e);break;case 13:On(t,e),gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HS=pt())),n&4&&TT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(c=ir)||d,On(t,e),ir=c):On(t,e),gi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(m=Z,y=m.child,m.tag){case 0:case 11:case 14:case 15:Td(4,m,m.return);break;case 1:Zu(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ut(n,r,v)}}break;case 5:Zu(m,m.return);break;case 22:if(m.memoizedState!==null){kT(f);continue}}y!==null?(y.return=m,Z=y):kT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dC("display",o))}catch(v){ut(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ut(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:On(t,e),gi(e),n&4&&TT(e);break;case 21:break;default:On(t,e),gi(e)}}function gi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jO(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Jd(i,""),n.flags&=-33);var s=xT(e);s_(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=xT(e);i_(e,a,o);break;default:throw Error(z(161))}}catch(l){ut(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aF(e,t,r){Z=e,VO(e)}function VO(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Lf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ir;a=Lf;var c=ir;if(Lf=o,(ir=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?ET(i):l!==null?(l.return=o,Z=l):ET(i);for(;s!==null;)Z=s,VO(s),s=s.sibling;Z=i,Lf=a,ir=c}MT(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):MT(e)}}function MT(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||kg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Bn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uT(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uT(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ir||t.flags&512&&n_(t)}catch(m){ut(t,t.return,m)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function kT(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function ET(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kg(4,t)}catch(l){ut(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ut(t,i,l)}}var s=t.return;try{n_(t)}catch(l){ut(t,s,l)}break;case 5:var o=t.return;try{n_(t)}catch(l){ut(t,o,l)}}}catch(l){ut(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var lF=Math.ceil,Qy=js.ReactCurrentDispatcher,WS=js.ReactCurrentOwner,Sn=js.ReactCurrentBatchConfig,Se=0,Ut=null,xt=null,Zt=0,Wr=0,Ju=ca(0),Ct=0,cp=null,Al=0,Eg=0,BS=0,Md=null,Cr=null,HS=0,xc=1/0,vs=null,e0=!1,o_=null,Wo=null,Rf=!1,Lo=null,t0=0,kd=0,a_=null,Nm=-1,Dm=0;function vr(){return Se&6?pt():Nm!==-1?Nm:Nm=pt()}function Bo(e){return e.mode&1?Se&2&&Zt!==0?Zt&-Zt:B7.transition!==null?(Dm===0&&(Dm=TC()),Dm):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:IC(e.type)),e):1}function ni(e,t,r,n){if(50<kd)throw kd=0,a_=null,Error(z(185));jp(e,r,n),(!(Se&2)||e!==Ut)&&(e===Ut&&(!(Se&2)&&(Eg|=r),Ct===4&&Co(e,Zt)),Nr(e,n),r===1&&Se===0&&!(t.mode&1)&&(xc=pt()+500,xg&&ha()))}function Nr(e,t){var r=e.callbackNode;B9(e,t);var n=Fy(e,e===Ut?Zt:0);if(n===0)r!==null&&Dx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dx(r),t===1)e.tag===0?W7(PT.bind(null,e)):KC(PT.bind(null,e)),z7(function(){!(Se&6)&&ha()}),r=null;else{switch(MC(n)){case 1:r=vS;break;case 4:r=$C;break;case 16:r=Dy;break;case 536870912:r=xC;break;default:r=Dy}r=YO(r,GO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function GO(e,t){if(Nm=-1,Dm=0,Se&6)throw Error(z(327));var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var n=Fy(e,e===Ut?Zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=r0(e,n);else{t=n;var i=Se;Se|=2;var s=BO();(Ut!==e||Zt!==t)&&(vs=null,xc=pt()+500,wl(e,t));do try{hF();break}catch(a){WO(e,a)}while(1);OS(),Qy.current=s,Se=i,xt!==null?t=0:(Ut=null,Zt=0,t=Ct)}if(t!==0){if(t===2&&(i=Lw(e),i!==0&&(n=i,t=l_(e,i))),t===1)throw r=cp,wl(e,0),Co(e,n),Nr(e,pt()),r;if(t===6)Co(e,n);else{if(i=e.current.alternate,!(n&30)&&!uF(i)&&(t=r0(e,n),t===2&&(s=Lw(e),s!==0&&(n=s,t=l_(e,s))),t===1))throw r=cp,wl(e,0),Co(e,n),Nr(e,pt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:ka(e,Cr,vs);break;case 3:if(Co(e,n),(n&130023424)===n&&(t=HS+500-pt(),10<t)){if(Fy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vw(ka.bind(null,e,Cr,vs),t);break}ka(e,Cr,vs);break;case 4:if(Co(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ri(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lF(n/1960))-n,10<n){e.timeoutHandle=Vw(ka.bind(null,e,Cr,vs),n);break}ka(e,Cr,vs);break;case 5:ka(e,Cr,vs);break;default:throw Error(z(329))}}}return Nr(e,pt()),e.callbackNode===r?GO.bind(null,e):null}function l_(e,t){var r=Md;return e.current.memoizedState.isDehydrated&&(wl(e,t).flags|=256),e=r0(e,t),e!==2&&(t=Cr,Cr=r,t!==null&&u_(t)),e}function u_(e){Cr===null?Cr=e:Cr.push.apply(Cr,e)}function uF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ui(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Co(e,t){for(t&=~BS,t&=~Eg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),n=1<<r;e[r]=-1,t&=~n}}function PT(e){if(Se&6)throw Error(z(327));lc();var t=Fy(e,0);if(!(t&1))return Nr(e,pt()),null;var r=r0(e,t);if(e.tag!==0&&r===2){var n=Lw(e);n!==0&&(t=n,r=l_(e,n))}if(r===1)throw r=cp,wl(e,0),Co(e,t),Nr(e,pt()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,Cr,vs),Nr(e,pt()),null}function qS(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(xc=pt()+500,xg&&ha())}}function Ll(e){Lo!==null&&Lo.tag===0&&!(Se&6)&&lc();var t=Se;Se|=1;var r=Sn.transition,n=Ne;try{if(Sn.transition=null,Ne=1,e)return e()}finally{Ne=n,Sn.transition=r,Se=t,!(Se&6)&&ha()}}function ZS(){Wr=Ju.current,Je(Ju)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j7(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(ES(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gy();break;case 3:Sc(),Je(Lr),Je(cr),DS();break;case 5:NS(n);break;case 4:Sc();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:IS(n.type._context);break;case 22:case 23:ZS()}r=r.return}if(Ut=e,xt=e=Ho(e.current,null),Zt=Wr=t,Ct=0,cp=null,BS=Eg=Al=0,Cr=Md=null,ol!==null){for(t=0;t<ol.length;t++)if(r=ol[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ol=null}return e}function WO(e,t){do{var r=xt;try{if(OS(),Am.current=Xy,Ky){for(var n=it.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ky=!1}if(Il=0,Dt=Pt=it=null,xd=!1,ap=0,WS.current=null,r===null||r.return===null){Ct=1,cp=t,xt=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=yT(o);if(y!==null){y.flags&=-257,gT(y,o,a,s,t),y.mode&1&&mT(s,c,t),t=y,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){mT(s,c,t),JS();break e}l=Error(z(426))}}else if(Xe&&a.mode&1){var $=yT(o);if($!==null){!($.flags&65536)&&($.flags|=256),gT($,o,a,s,t),PS($c(l,a));break e}}s=l=$c(l,a),Ct!==4&&(Ct=2),Md===null?Md=[s]:Md.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=kO(s,l,t);lT(s,_);break e;case 1:a=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wo===null||!Wo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=EO(s,a,t);lT(s,x);break e}}s=s.return}while(s!==null)}qO(r)}catch(M){t=M,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(1)}function BO(){var e=Qy.current;return Qy.current=Xy,e===null?Xy:e}function JS(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ut===null||!(Al&268435455)&&!(Eg&268435455)||Co(Ut,Zt)}function r0(e,t){var r=Se;Se|=2;var n=BO();(Ut!==e||Zt!==t)&&(vs=null,wl(e,t));do try{cF();break}catch(i){WO(e,i)}while(1);if(OS(),Se=r,Qy.current=n,xt!==null)throw Error(z(261));return Ut=null,Zt=0,Ct}function cF(){for(;xt!==null;)HO(xt)}function hF(){for(;xt!==null&&!N9();)HO(xt)}function HO(e){var t=JO(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?qO(e):xt=t,WS.current=null}function qO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iF(r,t),r!==null){r.flags&=32767,xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,xt=null;return}}else if(r=nF(r,t,Wr),r!==null){xt=r;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Ct===0&&(Ct=5)}function ka(e,t,r){var n=Ne,i=Sn.transition;try{Sn.transition=null,Ne=1,dF(e,t,r,n)}finally{Sn.transition=i,Ne=n}return null}function dF(e,t,r,n){do lc();while(Lo!==null);if(Se&6)throw Error(z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(H9(e,s),e===Ut&&(xt=Ut=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rf||(Rf=!0,YO(Dy,function(){return lc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Ne;Ne=1;var a=Se;Se|=4,WS.current=null,oF(e,r),UO(r,e),I7(zw),jy=!!jw,zw=jw=null,e.current=r,aF(r),D9(),Se=a,Ne=o,Sn.transition=s}else e.current=r;if(Rf&&(Rf=!1,Lo=e,t0=i),s=e.pendingLanes,s===0&&(Wo=null),z9(r.stateNode),Nr(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(e0)throw e0=!1,e=o_,o_=null,e;return t0&1&&e.tag!==0&&lc(),s=e.pendingLanes,s&1?e===a_?kd++:(kd=0,a_=e):kd=0,ha(),null}function lc(){if(Lo!==null){var e=MC(t0),t=Sn.transition,r=Ne;try{if(Sn.transition=null,Ne=16>e?16:e,Lo===null)var n=!1;else{if(e=Lo,Lo=null,t0=0,Se&6)throw Error(z(331));var i=Se;for(Se|=4,Z=e.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Td(8,d,s)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var m=d.sibling,y=d.return;if(FO(d),d===c){Z=null;break}if(m!==null){m.return=y,Z=m;break}Z=y}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var $=v.sibling;v.sibling=null,v=$}while(v!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Td(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Z=_;break e}Z=s.return}}var b=e.current;for(Z=b;Z!==null;){o=Z;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Z=S;else e:for(o=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kg(9,a)}}catch(M){ut(a,a.return,M)}if(a===o){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(Se=i,ha(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(wg,e)}catch{}n=!0}return n}finally{Ne=r,Sn.transition=t}}return!1}function CT(e,t,r){t=$c(r,t),t=kO(e,t,1),e=Go(e,t,1),t=vr(),e!==null&&(jp(e,1,t),Nr(e,t))}function ut(e,t,r){if(e.tag===3)CT(e,e,r);else for(;t!==null;){if(t.tag===3){CT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wo===null||!Wo.has(n))){e=$c(r,e),e=EO(t,e,1),t=Go(t,e,1),e=vr(),t!==null&&(jp(t,1,e),Nr(t,e));break}}t=t.return}}function pF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vr(),e.pingedLanes|=e.suspendedLanes&r,Ut===e&&(Zt&r)===r&&(Ct===4||Ct===3&&(Zt&130023424)===Zt&&500>pt()-HS?wl(e,0):BS|=r),Nr(e,t)}function ZO(e,t){t===0&&(e.mode&1?(t=Tf,Tf<<=1,!(Tf&130023424)&&(Tf=4194304)):t=1);var r=vr();e=As(e,t),e!==null&&(jp(e,t,r),Nr(e,r))}function fF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ZO(e,r)}function mF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),ZO(e,r)}var JO;JO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)Ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ir=!1,rF(e,t,r);Ir=!!(e.flags&131072)}else Ir=!1,Xe&&t.flags&1048576&&XC(t,Hy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rm(e,t),e=t.pendingProps;var i=wc(t,cr.current);ac(t,r),i=jS(null,t,n,e,i,r);var s=zS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(s=!0,Wy(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LS(t),i.updater=Tg,t.stateNode=i,i._reactInternals=t,Jw(t,n,e,r),t=Xw(null,t,n,!0,s,r)):(t.tag=0,Xe&&s&&kS(t),mr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rm(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=gF(n),e=Bn(n,e),i){case 0:t=Kw(null,t,n,e,r);break e;case 1:t=_T(null,t,n,e,r);break e;case 11:t=vT(null,t,n,e,r);break e;case 14:t=wT(null,t,n,Bn(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),Kw(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),_T(e,t,n,i,r);case 3:e:{if(IO(t),e===null)throw Error(z(387));n=t.pendingProps,s=t.memoizedState,i=s.element,rO(e,t),Jy(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=$c(Error(z(423)),t),t=bT(e,t,n,r,i);break e}else if(n!==i){i=$c(Error(z(424)),t),t=bT(e,t,n,r,i);break e}else for(Hr=Vo(t.stateNode.containerInfo.firstChild),Zr=t,Xe=!0,Kn=null,r=oO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_c(),n===i){t=Ls(e,t,r);break e}mr(e,t,n,r)}t=t.child}return t;case 5:return aO(t),e===null&&Hw(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Uw(n,i)?o=null:s!==null&&Uw(n,s)&&(t.flags|=32),OO(e,t),mr(e,t,o,r),t.child;case 6:return e===null&&Hw(t),null;case 13:return AO(e,t,r);case 4:return RS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bc(t,null,n,r):mr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),vT(e,t,n,i,r);case 7:return mr(e,t,t.pendingProps,r),t.child;case 8:return mr(e,t,t.pendingProps.children,r),t.child;case 12:return mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ue(qy,n._currentValue),n._currentValue=o,s!==null)if(ui(s.value,o)){if(s.children===i.children&&!Lr.current){t=Ls(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Es(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),qw(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),qw(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ac(t,r),i=xn(i),n=n(i),t.flags|=1,mr(e,t,n,r),t.child;case 14:return n=t.type,i=Bn(n,t.pendingProps),i=Bn(n.type,i),wT(e,t,n,i,r);case 15:return PO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),Rm(e,t),t.tag=1,Rr(n)?(e=!0,Wy(t)):e=!1,ac(t,r),iO(t,n,i),Jw(t,n,i,r),Xw(null,t,n,!0,e,r);case 19:return LO(e,t,r);case 22:return CO(e,t,r)}throw Error(z(156,t.tag))};function YO(e,t){return SC(e,t)}function yF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,r,n){return new yF(e,t,r,n)}function YS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gF(e){if(typeof e=="function")return YS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mS)return 11;if(e===yS)return 14}return 2}function Ho(e,t){var r=e.alternate;return r===null?(r=wn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fm(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")YS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ju:return _l(r.children,i,s,t);case fS:o=8,i|=8;break;case ww:return e=wn(12,r,t,i|2),e.elementType=ww,e.lanes=s,e;case _w:return e=wn(13,r,t,i),e.elementType=_w,e.lanes=s,e;case bw:return e=wn(19,r,t,i),e.elementType=bw,e.lanes=s,e;case sC:return Pg(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nC:o=10;break e;case iC:o=9;break e;case mS:o=11;break e;case yS:o=14;break e;case bo:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=wn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function _l(e,t,r,n){return e=wn(7,e,n,t),e.lanes=r,e}function Pg(e,t,r,n){return e=wn(22,e,n,t),e.elementType=sC,e.lanes=r,e.stateNode={isHidden:!1},e}function sv(e,t,r){return e=wn(6,e,null,t),e.lanes=r,e}function ov(e,t,r){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vF(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z1(0),this.expirationTimes=z1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KS(e,t,r,n,i,s,o,a,l){return e=new vF(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},LS(s),e}function wF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function KO(e){if(!e)return Ko;e=e._reactInternals;e:{if(Yl(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Rr(r))return YC(e,r,t)}return t}function XO(e,t,r,n,i,s,o,a,l){return e=KS(r,n,!0,e,i,s,o,a,l),e.context=KO(null),r=e.current,n=vr(),i=Bo(r),s=Es(n,i),s.callback=t??null,Go(r,s,i),e.current.lanes=i,jp(e,i,n),Nr(e,n),e}function Cg(e,t,r,n){var i=t.current,s=vr(),o=Bo(i);return r=KO(r),t.context===null?t.context=r:t.pendingContext=r,t=Es(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Go(i,t,o),e!==null&&(ni(e,i,o,s),Im(e,i,o)),o}function n0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function OT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function XS(e,t){OT(e,t),(e=e.alternate)&&OT(e,t)}function _F(){return null}var QO=typeof reportError=="function"?reportError:function(e){console.error(e)};function QS(e){this._internalRoot=e}Og.prototype.render=QS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Cg(e,t,null,null)};Og.prototype.unmount=QS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ll(function(){Cg(null,e,null,null)}),t[Is]=null}};function Og(e){this._internalRoot=e}Og.prototype.unstable_scheduleHydration=function(e){if(e){var t=PC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Po.length&&t!==0&&t<Po[r].priority;r++);Po.splice(r,0,e),r===0&&OC(e)}};function e$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IT(){}function bF(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=n0(o);s.call(c)}}var o=XO(t,n,e,0,null,!1,!1,"",IT);return e._reactRootContainer=o,e[Is]=o.current,rp(e.nodeType===8?e.parentNode:e),Ll(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=n0(l);a.call(c)}}var l=KS(e,0,!1,null,null,!1,!1,"",IT);return e._reactRootContainer=l,e[Is]=l.current,rp(e.nodeType===8?e.parentNode:e),Ll(function(){Cg(t,l,r,n)}),l}function Ag(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=n0(o);a.call(l)}}Cg(t,o,e,i)}else o=bF(r,t,e,i,n);return n0(o)}kC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ah(t.pendingLanes);r!==0&&(wS(t,r|1),Nr(t,pt()),!(Se&6)&&(xc=pt()+500,ha()))}break;case 13:Ll(function(){var n=As(e,1);if(n!==null){var i=vr();ni(n,e,1,i)}}),XS(e,1)}};_S=function(e){if(e.tag===13){var t=As(e,134217728);if(t!==null){var r=vr();ni(t,e,134217728,r)}XS(e,134217728)}};EC=function(e){if(e.tag===13){var t=Bo(e),r=As(e,t);if(r!==null){var n=vr();ni(r,e,t,n)}XS(e,t)}};PC=function(){return Ne};CC=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};Ow=function(e,t,r){switch(t){case"input":if(xw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$g(n);if(!i)throw Error(z(90));aC(n),xw(n,i)}}}break;case"textarea":uC(e,r);break;case"select":t=r.value,t!=null&&nc(e,!!r.multiple,t,!1)}};yC=qS;gC=Ll;var SF={usingClientEntryPoint:!1,Events:[Up,Gu,$g,fC,mC,qS]},ph={findFiberByHostInstance:sl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$F={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_C(e),e===null?null:e.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||_F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{wg=Nf.inject($F),zi=Nf}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e$(t))throw Error(z(200));return wF(e,t,null,r)};en.createRoot=function(e,t){if(!e$(e))throw Error(z(299));var r=!1,n="",i=QO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=KS(e,1,!1,null,null,r,!1,n,i),e[Is]=t.current,rp(e.nodeType===8?e.parentNode:e),new QS(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=_C(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return Ll(e)};en.hydrate=function(e,t,r){if(!Ig(t))throw Error(z(200));return Ag(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!e$(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=QO;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=XO(t,null,e,1,r??null,i,!1,s,o),e[Is]=t.current,rp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Og(t)};en.render=function(e,t,r){if(!Ig(t))throw Error(z(200));return Ag(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!Ig(e))throw Error(z(40));return e._reactRootContainer?(Ll(function(){Ag(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};en.unstable_batchedUpdates=qS;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ig(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Ag(e,t,r,!1,n)};en.version="18.2.0-next-9e3b772b8-20220608";function eI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eI)}catch(e){console.error(e)}}eI(),XP.exports=en;var xF=XP.exports,AT=xF;gw.createRoot=AT.createRoot,gw.hydrateRoot=AT.hydrateRoot;var Ar=function(){return Ar=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ar.apply(this,arguments)};function i0(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Be="-ms-",Ed="-moz-",Ee="-webkit-",tI="comm",Lg="rule",t$="decl",TF="@import",rI="@keyframes",MF="@layer",kF=Math.abs,r$=String.fromCharCode,c_=Object.assign;function EF(e,t){return Ft(e,0)^45?(((t<<2^Ft(e,0))<<2^Ft(e,1))<<2^Ft(e,2))<<2^Ft(e,3):0}function nI(e){return e.trim()}function ws(e,t){return(e=t.exec(e))?e[0]:e}function fe(e,t,r){return e.replace(t,r)}function jm(e,t){return e.indexOf(t)}function Ft(e,t){return e.charCodeAt(t)|0}function Tc(e,t,r){return e.slice(t,r)}function Fi(e){return e.length}function iI(e){return e.length}function Rh(e,t){return t.push(e),e}function PF(e,t){return e.map(t).join("")}function LT(e,t){return e.filter(function(r){return!ws(r,t)})}var Rg=1,Mc=1,sI=0,Mn=0,$t=0,Hc="";function Ng(e,t,r,n,i,s,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Rg,column:Mc,length:o,return:"",siblings:a}}function Qs(e,t){return c_(Ng("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function lu(e){for(;e.root;)e=Qs(e.root,{children:[e]});Rh(e,e.siblings)}function CF(){return $t}function OF(){return $t=Mn>0?Ft(Hc,--Mn):0,Mc--,$t===10&&(Mc=1,Rg--),$t}function ii(){return $t=Mn<sI?Ft(Hc,Mn++):0,Mc++,$t===10&&(Mc=1,Rg++),$t}function bl(){return Ft(Hc,Mn)}function zm(){return Mn}function Dg(e,t){return Tc(Hc,e,t)}function h_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IF(e){return Rg=Mc=1,sI=Fi(Hc=e),Mn=0,[]}function AF(e){return Hc="",e}function av(e){return nI(Dg(Mn-1,d_(e===91?e+2:e===40?e+1:e)))}function LF(e){for(;($t=bl())&&$t<33;)ii();return h_(e)>2||h_($t)>3?"":" "}function RF(e,t){for(;--t&&ii()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return Dg(e,zm()+(t<6&&bl()==32&&ii()==32))}function d_(e){for(;ii();)switch($t){case e:return Mn;case 34:case 39:e!==34&&e!==39&&d_($t);break;case 40:e===41&&d_(e);break;case 92:ii();break}return Mn}function NF(e,t){for(;ii()&&e+$t!==47+10;)if(e+$t===42+42&&bl()===47)break;return"/*"+Dg(t,Mn-1)+"*"+r$(e===47?e:ii())}function DF(e){for(;!h_(bl());)ii();return Dg(e,Mn)}function FF(e){return AF(Um("",null,null,null,[""],e=IF(e),0,[0],e))}function Um(e,t,r,n,i,s,o,a,l){for(var c=0,d=0,f=o,m=0,y=0,g=0,v=1,$=1,_=1,b=0,S="",x=i,M=s,k=n,O=S;$;)switch(g=b,b=ii()){case 40:if(g!=108&&Ft(O,f-1)==58){jm(O+=fe(av(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:O+=av(b);break;case 9:case 10:case 13:case 32:O+=LF(g);break;case 92:O+=RF(zm()-1,7);continue;case 47:switch(bl()){case 42:case 47:Rh(jF(NF(ii(),zm()),t,r,l),l);break;default:O+="/"}break;case 123*v:a[c++]=Fi(O)*_;case 125*v:case 59:case 0:switch(b){case 0:case 125:$=0;case 59+d:_==-1&&(O=fe(O,/\f/g,"")),y>0&&Fi(O)-f&&Rh(y>32?NT(O+";",n,r,f-1,l):NT(fe(O," ","")+";",n,r,f-2,l),l);break;case 59:O+=";";default:if(Rh(k=RT(O,t,r,c,d,i,a,S,x=[],M=[],f,s),s),b===123)if(d===0)Um(O,t,k,k,x,s,f,a,M);else switch(m===99&&Ft(O,3)===110?100:m){case 100:case 108:case 109:case 115:Um(e,k,k,n&&Rh(RT(e,k,k,0,0,i,a,S,i,x=[],f,M),M),i,M,f,a,n?x:M);break;default:Um(O,k,k,k,[""],M,0,a,M)}}c=d=y=0,v=_=1,S=O="",f=o;break;case 58:f=1+Fi(O),y=g;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&OF()==125)continue}switch(O+=r$(b),b*v){case 38:_=d>0?1:(O+="\f",-1);break;case 44:a[c++]=(Fi(O)-1)*_,_=1;break;case 64:bl()===45&&(O+=av(ii())),m=bl(),d=f=Fi(S=O+=DF(zm())),b++;break;case 45:g===45&&Fi(O)==2&&(v=0)}}return s}function RT(e,t,r,n,i,s,o,a,l,c,d,f){for(var m=i-1,y=i===0?s:[""],g=iI(y),v=0,$=0,_=0;v<n;++v)for(var b=0,S=Tc(e,m+1,m=kF($=o[v])),x=e;b<g;++b)(x=nI($>0?y[b]+" "+S:fe(S,/&\f/g,y[b])))&&(l[_++]=x);return Ng(e,t,r,i===0?Lg:a,l,c,d,f)}function jF(e,t,r,n){return Ng(e,t,r,tI,r$(CF()),Tc(e,2,-2),0,n)}function NT(e,t,r,n,i){return Ng(e,t,r,t$,Tc(e,0,n),Tc(e,n+1,-1),n,i)}function oI(e,t,r){switch(EF(e,t)){case 5103:return Ee+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ee+e+e;case 4789:return Ed+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ee+e+Ed+e+Be+e+e;case 5936:switch(Ft(e,t+11)){case 114:return Ee+e+Be+fe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ee+e+Be+fe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ee+e+Be+fe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ee+e+Be+e+e;case 6165:return Ee+e+Be+"flex-"+e+e;case 5187:return Ee+e+fe(e,/(\w+).+(:[^]+)/,Ee+"box-$1$2"+Be+"flex-$1$2")+e;case 5443:return Ee+e+Be+"flex-item-"+fe(e,/flex-|-self/g,"")+(ws(e,/flex-|baseline/)?"":Be+"grid-row-"+fe(e,/flex-|-self/g,""))+e;case 4675:return Ee+e+Be+"flex-line-pack"+fe(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ee+e+Be+fe(e,"shrink","negative")+e;case 5292:return Ee+e+Be+fe(e,"basis","preferred-size")+e;case 6060:return Ee+"box-"+fe(e,"-grow","")+Ee+e+Be+fe(e,"grow","positive")+e;case 4554:return Ee+fe(e,/([^-])(transform)/g,"$1"+Ee+"$2")+e;case 6187:return fe(fe(fe(e,/(zoom-|grab)/,Ee+"$1"),/(image-set)/,Ee+"$1"),e,"")+e;case 5495:case 3959:return fe(e,/(image-set\([^]*)/,Ee+"$1$`$1");case 4968:return fe(fe(e,/(.+:)(flex-)?(.*)/,Ee+"box-pack:$3"+Be+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ee+e+e;case 4200:if(!ws(e,/flex-|baseline/))return Be+"grid-column-align"+Tc(e,t)+e;break;case 2592:case 3360:return Be+fe(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,i){return t=i,ws(n.props,/grid-\w+-end/)})?~jm(e+(r=r[t].value),"span")?e:Be+fe(e,"-start","")+e+Be+"grid-row-span:"+(~jm(r,"span")?ws(r,/\d+/):+ws(r,/\d+/)-+ws(e,/\d+/))+";":Be+fe(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return ws(n.props,/grid-\w+-start/)})?e:Be+fe(fe(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return fe(e,/(.+)-inline(.+)/,Ee+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(e)-1-t>6)switch(Ft(e,t+1)){case 109:if(Ft(e,t+4)!==45)break;case 102:return fe(e,/(.+:)(.+)-([^]+)/,"$1"+Ee+"$2-$3$1"+Ed+(Ft(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~jm(e,"stretch")?oI(fe(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return fe(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,c){return Be+i+":"+s+c+(o?Be+i+"-span:"+(a?l:+l-+s)+c:"")+e});case 4949:if(Ft(e,t+6)===121)return fe(e,":",":"+Ee)+e;break;case 6444:switch(Ft(e,Ft(e,14)===45?18:11)){case 120:return fe(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ee+(Ft(e,14)===45?"inline-":"")+"box$3$1"+Ee+"$2$3$1"+Be+"$2box$3")+e;case 100:return fe(e,":",":"+Be)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return fe(e,"scroll-","scroll-snap-")+e}return e}function s0(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function zF(e,t,r,n){switch(e.type){case MF:if(e.children.length)break;case TF:case t$:return e.return=e.return||e.value;case tI:return"";case rI:return e.return=e.value+"{"+s0(e.children,n)+"}";case Lg:if(!Fi(e.value=e.props.join(",")))return""}return Fi(r=s0(e.children,n))?e.return=e.value+"{"+r+"}":""}function UF(e){var t=iI(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function VF(e){return function(t){t.root||(t=t.return)&&e(t)}}function GF(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case t$:e.return=oI(e.value,e.length,r);return;case rI:return s0([Qs(e,{value:fe(e.value,"@","@"+Ee)})],n);case Lg:if(e.length)return PF(r=e.props,function(i){switch(ws(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lu(Qs(e,{props:[fe(i,/:(read-\w+)/,":"+Ed+"$1")]})),lu(Qs(e,{props:[i]})),c_(e,{props:LT(r,n)});break;case"::placeholder":lu(Qs(e,{props:[fe(i,/:(plac\w+)/,":"+Ee+"input-$1")]})),lu(Qs(e,{props:[fe(i,/:(plac\w+)/,":"+Ed+"$1")]})),lu(Qs(e,{props:[fe(i,/:(plac\w+)/,Be+"input-$1")]})),lu(Qs(e,{props:[i]})),c_(e,{props:LT(r,n)});break}return""})}}var WF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kc=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",n$=typeof window<"u"&&"HTMLElement"in window,BF=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Fg=Object.freeze([]),Ec=Object.freeze({});function HF(e,t,r){return r===void 0&&(r=Ec),e.theme!==r.theme&&e.theme||t||r.theme}var aI=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ZF=/(^-|-$)/g;function DT(e){return e.replace(qF,"-").replace(ZF,"")}var JF=/(a)(d)/gi,FT=function(e){return String.fromCharCode(e+(e>25?39:97))};function p_(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=FT(t%52)+r;return(FT(t%52)+r).replace(JF,"$1-$2")}var lv,Yu=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},lI=function(e){return Yu(5381,e)};function YF(e){return p_(lI(e)>>>0)}function KF(e){return e.displayName||e.name||"Component"}function uv(e){return typeof e=="string"&&!0}var uI=typeof Symbol=="function"&&Symbol.for,cI=uI?Symbol.for("react.memo"):60115,XF=uI?Symbol.for("react.forward_ref"):60112,QF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ej={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tj=((lv={})[XF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lv[cI]=hI,lv);function jT(e){return("type"in(t=e)&&t.type.$$typeof)===cI?hI:"$$typeof"in e?tj[e.$$typeof]:QF;var t}var rj=Object.defineProperty,nj=Object.getOwnPropertyNames,zT=Object.getOwnPropertySymbols,ij=Object.getOwnPropertyDescriptor,sj=Object.getPrototypeOf,UT=Object.prototype;function dI(e,t,r){if(typeof t!="string"){if(UT){var n=sj(t);n&&n!==UT&&dI(e,n,r)}var i=nj(t);zT&&(i=i.concat(zT(t)));for(var s=jT(e),o=jT(t),a=0;a<i.length;++a){var l=i[a];if(!(l in ej||r&&r[l]||o&&l in o||s&&l in s)){var c=ij(t,l);try{rj(e,l,c)}catch{}}}}return e}function Pc(e){return typeof e=="function"}function i$(e){return typeof e=="object"&&"styledComponentId"in e}function ll(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function VT(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function hp(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function f_(e,t,r){if(r===void 0&&(r=!1),!r&&!hp(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=f_(e[n],t[n]);else if(hp(t))for(var n in t)e[n]=f_(e[n],t[n]);return e}function s$(e,t){Object.defineProperty(e,"toString",{value:t})}function Gp(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var oj=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;t>=s;)if((s<<=1)<0)throw Gp(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),i=n+r;this.groupSizes[t]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return r},e}(),Vm=new Map,o0=new Map,Gm=1,Df=function(e){if(Vm.has(e))return Vm.get(e);for(;o0.has(Gm);)Gm++;var t=Gm++;return Vm.set(e,t),o0.set(t,e),t},aj=function(e,t){Gm=t+1,Vm.set(e,t),o0.set(t,e)},lj="style[".concat(kc,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),uj=new RegExp("^".concat(kc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cj=function(e,t,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&e.registerName(t,n)},hj=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(`/*!sc*/
`),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(uj);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(aj(d,c),cj(e,d,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function dj(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pI=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(kc,"]")));return l[l.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(kc,"active"),n.setAttribute("data-styled-version","6.1.1");var o=dj();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},pj=function(){function e(t){this.element=pI(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw Gp(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),fj=function(){function e(t){this.element=pI(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),mj=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),GT=n$,yj={isServer:!n$,useCSSOMInjection:!BF},fI=function(){function e(t,r,n){t===void 0&&(t=Ec),r===void 0&&(r={});var i=this;this.options=Ar(Ar({},yj),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&n$&&GT&&(GT=!1,function(s){for(var o=document.querySelectorAll(lj),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(kc)!=="active"&&(hj(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),s$(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(f){var m=function(_){return o0.get(_)}(f);if(m===void 0)return"continue";var y=s.names.get(m),g=o.getGroup(f);if(y===void 0||g.length===0)return"continue";var v="".concat(kc,".g").concat(f,'[id="').concat(m,'"]'),$="";y!==void 0&&y.forEach(function(_){_.length>0&&($+="".concat(_,","))}),l+="".concat(g).concat(v,'{content:"').concat($,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)c(d);return l}(i)})}return e.registerId=function(t){return Df(t)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Ar(Ar({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new mj(i):n?new pj(i):new fj(i)}(this.options),new oj(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Df(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Df(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Df(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gj=/&/g,vj=/^\s*\/\/.*$/gm;function mI(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=mI(r.children,t)),r})}function wj(e){var t,r,n,i=e===void 0?Ec:e,s=i.options,o=s===void 0?Ec:s,a=i.plugins,l=a===void 0?Fg:a,c=function(m,y,g){return g===r||g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(t):m},d=l.slice();d.push(function(m){m.type===Lg&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(gj,r).replace(n,c))}),o.prefix&&d.push(GF),d.push(zF);var f=function(m,y,g,v){y===void 0&&(y=""),g===void 0&&(g=""),v===void 0&&(v="&"),t=v,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var $=m.replace(vj,""),_=FF(g||y?"".concat(g," ").concat(y," { ").concat($," }"):$);o.namespace&&(_=mI(_,o.namespace));var b=[];return s0(_,UF(d.concat(VF(function(S){return b.push(S)})))),b};return f.hash=l.length?l.reduce(function(m,y){return y.name||Gp(15),Yu(m,y.name)},5381).toString():"",f}var _j=new fI,m_=wj(),yI=qd.createContext({shouldForwardProp:void 0,styleSheet:_j,stylis:m_});yI.Consumer;qd.createContext(void 0);function WT(){return Pl.useContext(yI)}var bj=function(){function e(t,r){var n=this;this.inject=function(i,s){s===void 0&&(s=m_);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,s$(this,function(){throw Gp(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=m_),this.name+t.hash},e}(),Sj=function(e){return e>="A"&&e<="Z"};function BT(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;Sj(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var gI=function(e){return e==null||e===!1||e===""},vI=function(e){var t,r,n=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!gI(s)&&(Array.isArray(s)&&s.isCss||Pc(s)?n.push("".concat(BT(i),":"),s,";"):hp(s)?n.push.apply(n,i0(i0(["".concat(i," {")],vI(s),!1),["}"],!1)):n.push("".concat(BT(i),": ").concat((t=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in WF||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Sl(e,t,r,n){if(gI(e))return[];if(i$(e))return[".".concat(e.styledComponentId)];if(Pc(e)){if(!Pc(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Sl(i,t,r,n)}var s;return e instanceof bj?r?(e.inject(r,n),[e.getName(n)]):[e]:hp(e)?vI(e):Array.isArray(e)?Array.prototype.concat.apply(Fg,e.map(function(o){return Sl(o,t,r,n)})):[e.toString()]}function $j(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Pc(r)&&!i$(r))return!1}return!0}var xj=lI("6.1.1"),Tj=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&$j(t),this.componentId=r,this.baseHash=Yu(xj,r),this.baseStyle=n,fI.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=ll(i,this.staticRulesId);else{var s=VT(Sl(this.rules,t,r,n)),o=p_(Yu(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=ll(i,o),this.staticRulesId=o}else{for(var l=Yu(this.baseHash,n.hash),c="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")c+=f;else if(f){var m=VT(Sl(f,t,r,n));l=Yu(l,m+d),c+=m}}if(c){var y=p_(l>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(c,".".concat(y),void 0,this.componentId)),i=ll(i,y)}}return i},e}(),wI=qd.createContext(void 0);wI.Consumer;var cv={};function Mj(e,t,r){var n=i$(e),i=e,s=!uv(e),o=t.attrs,a=o===void 0?Fg:o,l=t.componentId,c=l===void 0?function(x,M){var k=typeof x!="string"?"sc":DT(x);cv[k]=(cv[k]||0)+1;var O="".concat(k,"-").concat(YF("6.1.1"+k+cv[k]));return M?"".concat(M,"-").concat(O):O}(t.displayName,t.parentComponentId):l,d=t.displayName,f=d===void 0?function(x){return uv(x)?"styled.".concat(x):"Styled(".concat(KF(x),")")}(e):d,m=t.displayName&&t.componentId?"".concat(DT(t.displayName),"-").concat(t.componentId):t.componentId||c,y=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=t.shouldForwardProp;if(n&&i.shouldForwardProp){var v=i.shouldForwardProp;if(t.shouldForwardProp){var $=t.shouldForwardProp;g=function(x,M){return v(x,M)&&$(x,M)}}else g=v}var _=new Tj(r,m,n?i.componentStyle:void 0);function b(x,M){return function(k,O,A){var V=k.attrs,F=k.componentStyle,q=k.defaultProps,X=k.foldedComponentIds,de=k.styledComponentId,Y=k.target,Ye=qd.useContext(wI),Gt=WT(),Ce=k.shouldForwardProp||Gt.shouldForwardProp,N=function($r,Cn,xr){for(var jr,Xi=Ar(Ar({},Cn),{className:void 0,theme:xr}),ih=0;ih<$r.length;ih+=1){var ou=Pc(jr=$r[ih])?jr(Xi):jr;for(var mi in ou)Xi[mi]=mi==="className"?ll(Xi[mi],ou[mi]):mi==="style"?Ar(Ar({},Xi[mi]),ou[mi]):ou[mi]}return Cn.className&&(Xi.className=ll(Xi.className,Cn.className)),Xi}(V,O,HF(O,Ye,q)||Ec),Q=N.as||Y,oe={};for(var we in N)N[we]===void 0||we[0]==="$"||we==="as"||we==="theme"||(we==="forwardedAs"?oe.as=N.forwardedAs:Ce&&!Ce(we,Q)||(oe[we]=N[we]));var tt=function($r,Cn){var xr=WT(),jr=$r.generateAndInjectStyles(Cn,xr.styleSheet,xr.stylis);return jr}(F,N),Pn=ll(X,de);return tt&&(Pn+=" "+tt),N.className&&(Pn+=" "+N.className),oe[uv(Q)&&!aI.has(Q)?"class":"className"]=Pn,oe.ref=A,Pl.createElement(Q,oe)}(S,x,M)}b.displayName=f;var S=qd.forwardRef(b);return S.attrs=y,S.componentStyle=_,S.displayName=f,S.shouldForwardProp=g,S.foldedComponentIds=n?ll(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=m,S.target=n?i.target:e,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=n?function(M){for(var k=[],O=1;O<arguments.length;O++)k[O-1]=arguments[O];for(var A=0,V=k;A<V.length;A++)f_(M,V[A],!0);return M}({},i.defaultProps,x):x}}),s$(S,function(){return".".concat(S.styledComponentId)}),s&&dI(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function HT(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var qT=function(e){return Object.assign(e,{isCss:!0})};function kj(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Pc(e)||hp(e)){var n=e;return qT(Sl(HT(Fg,i0([n],t,!0))))}var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Sl(i):qT(Sl(HT(i,t)))}function y_(e,t,r){if(r===void 0&&(r=Ec),!t)throw Gp(1,t);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,r,kj.apply(void 0,i0([i],s,!1)))};return n.attrs=function(i){return y_(e,t,Ar(Ar({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return y_(e,t,Ar(Ar({},r),i))},n}var _I=function(e){return y_(Mj,e)},Wp=_I;aI.forEach(function(e){Wp[e]=_I(e)});const Ej=Wp.div`
    color: black;
    min-height: 100vh;
    height: auto;
    margin: 0; /* Reset margin to ensure full height */
    display: grid; 
    gap: 5%;

    grid-template-columns: 1fr; 
    grid-template-rows: 0.2fr 1.8fr 0.2fr;  
    grid-template-areas: 
    "_head"
    "_middle"
    "_footer";
    overflow:auto;
    @media (max-width: 1000px) {
        gap: 0%;

    }

    `,Pj=Wp.div`
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    h1{
        margin-top: 2%;
        border-radius: 40px;
        border: 1px solid;
        padding: 1.5%;
        font-size: 30px;
        width: 500px;
        text-align: center;
        @media (max-width:1000px){
            margin: 2% 0;
        }


    }
    @media (max-width:700px){
            h1{width: 100%;border:none;font-size:100%;}
            border: 1px solid;
        }
`,Cj=Wp.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    .map{
        height: 100%;
        width: 70%;
        @media (max-width:1000px){
            width: 100%;
            height: 100%;
        }
        @media(max-width:500px){
            height: 100%;
        }
    }
`,Oj=Wp.div`
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    background-color: rgb(223, 223, 223);
    @media (max-width:700px){
            
            font-size:70%;
        }
`,Ij=()=>sr.jsx(Pj,{children:sr.jsx("h1",{children:"Test For Alexandria MapView"})}),Aj="modulepreload",Lj=function(e){return"/map/"+e},ZT={},H=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Lj(s),s in ZT)return;ZT[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Aj,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function h(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Sle(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}let Ro;function L(e){return typeof Ro[e]=="function"?Ro[e]=Ro[e](globalThis):Ro[e]}var LP,RP,NP,DP;Ro=(LP=globalThis.dojoConfig)!=null&&LP.has||(RP=globalThis.esriConfig)!=null&&RP.has?{...(NP=globalThis.dojoConfig)==null?void 0:NP.has,...(DP=globalThis.esriConfig)==null?void 0:DP.has}:{},L.add=(e,t,r,n)=>((n||Ro[e]===void 0)&&(Ro[e]=t),r&&L(e)),L.cache=Ro,L.add("big-integer-warning-enabled",!0),L.add("esri-deprecation-warnings",!0),L.add("esri-tests-disable-screenshots",!1),L.add("esri-tests-use-full-window",!1),L.add("esri-tests-post-to-influx",!0),(()=>{var t;L.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(L.add("host-browser",e),L.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),L.add("dom",e),L("host-browser")){const r=navigator,n=r.userAgent,i=r.appVersion,s=parseFloat(i);if(L.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),L.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),L.add("khtml",i.includes("Konqueror")?s:void 0),L.add("edge",parseFloat(n.split("Edge/")[1])||void 0),L.add("opr",parseFloat(n.split("OPR/")[1])||void 0),L.add("webkit",!L("wp")&&!L("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),L.add("chrome",!L("edge")&&!L("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),L.add("android",!L("wp")&&parseFloat(n.split("Android ")[1])||void 0),L.add("safari",!i.includes("Safari")||L("wp")||L("chrome")||L("android")||L("edge")||L("opr")?void 0:parseFloat(i.split("Version/")[1])),L.add("mac",i.includes("Macintosh")),!L("wp")&&/(iPhone|iPod|iPad)/.test(n)){const o=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replaceAll("_",""));L.add(o,l),L.add("ios",l)}L("webkit")||(!n.includes("Gecko")||L("wp")||L("khtml")||L("edge")||L.add("mozilla",s),L("mozilla")&&L.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&L.add("esri-mobile",t),r&&L.add("esri-iPhone",r),L.add("esri-geolocation",!!navigator.geolocation)}L.add("esri-wasm","WebAssembly"in globalThis),L.add("esri-performance-mode-frames-between-render",20),L.add("esri-force-performance-mode",!1),L.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),L.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),L.add("esri-atomics","Atomics"in globalThis),L.add("esri-workers","Worker"in globalThis),L.add("web-feat:cache","caches"in globalThis),L.add("esri-workers-arraybuffer-transfer",!L("safari")||Number(L("safari"))>=12),L.add("workers-pool-size",8),L.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),L.add("featurelayer-simplify-payload-size-factors",[1,1,4]),L.add("featurelayer-animation-enabled",!0),L.add("featurelayer-snapshot-enabled",!0),L.add("featurelayer-snapshot-point-min-threshold",8e4),L.add("featurelayer-snapshot-point-max-threshold",4e5),L.add("featurelayer-snapshot-point-coverage",.1),L.add("featurelayer-advanced-symbols",!1),L.add("featurelayer-pbf",!0),L.add("featurelayer-pbf-statistics",!1),L.add("feature-layers-workers",!0),L.add("feature-polyline-generalization-factor",1),L.add("mapview-transitions-duration",200),L.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),L.add("mapserver-pbf-version-support",10.81),L.add("mapservice-popup-identify-max-tolerance",20),L.add("heatmap-allow-raster-fallback",!1),L.add("heatmap-force-raster",!1),L("host-webworker")||L("host-browser")&&(L.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),L.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{L.add("esri-image-decode",!0,!0,!0)}).catch(()=>{L.add("esri-image-decode",!1,!0,!0)})}return!1}),L.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const JT=new Set;function Rj(e,t,r=!1){r&&JT.has(t)||(r&&JT.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function bI(e,t,r={}){if(L("esri-deprecation-warnings")){const{moduleName:n}=r;Cc(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function $le(e,t,r={}){if(L("esri-deprecation-warnings")){const{moduleName:n}=r;Cc(e,`Property: ${(n?n+"::":"")+t}`,r)}}function Cc(e,t,r={}){if(L("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;n&&(a+=`
	🛠️ Replacement: ${n}`),i&&(a+=`
	⚙️ Version: ${i}`),s&&(a+=`
	🔗 See ${s} for more details.`),Rj(e,a,o)}}function xle(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Nj(e,t){for(const r of e)if(r!=null&&t(r))return r}function a0(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let o$=class g_{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(a0(t)){const n=this._getOrCreateGroup(r);for(const i of t)this._isHandle(i)&&n.push(i)}else this._isHandle(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&a0(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&(!!t.remove||t instanceof g_)}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(this._ensureGroupKey(t),r),r}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){for(const r of t)r instanceof g_?r.removeAll():r.remove()}},hv=class Ea{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Ea._m}getInt(){return this._seed=(Ea._a*this._seed+Ea._c)%Ea._m,this._seed}getFloat(){return this.getInt()/(Ea._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/Ea._m*n}};hv._m=2147483647,hv._a=48271,hv._c=0;const Tle=1.5;function Mle(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function jg(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function kle(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function Ele(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}function Ple(e){return e&&typeof e.length=="number"}const Dj=!!Array.prototype.fill;function Cle(e,t){if(Dj)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function Ole(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}let SI=class{constructor(){this.last=0}};const $I=new SI;function v_(e,t,r,n){n=n||$I;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function Fj(e,t,r,n){const i=r??e.length,s=v_(e,t,i,n);if(s!==-1)return e[s]=e[i-1],r==null&&e.pop(),t}const In=new Set;function jj(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;In.clear();for(let a=0;a<n;++a)In.add(t[a]);i=i||$I;const o=Math.max(0,i.last-10);for(let a=o;a<r;++a)if(In.has(e[a])&&(s==null||s.push(e[a]),In.delete(e[a]),e[a]=e[r-1],--r,--a,In.size===0||r===0))return In.clear(),r;for(let a=0;a<o;++a)if(In.has(e[a])&&(s==null||s.push(e[a]),In.delete(e[a]),e[a]=e[r-1],--r,--a,In.size===0||r===0))return In.clear(),r;return In.clear(),r}function zj(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function l0(e,t){return e!=null}function xI(e){return 32+e.length}function a$(){return 16}function Ale(e){if(!e)return 0;let t=MI;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=xI(n);break;case"number":t+=a$();break;case"boolean":t+=4}}return t}function Uj(e){if(!e)return 0;if(Array.isArray(e))return Vj(e);let t=MI;for(const r in e)e.hasOwnProperty(r)&&(t+=TI(e[r]));return t}function Vj(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=kI;for(let n=0;n<t;n++)r+=TI(e[n]);return r}function TI(e){switch(typeof e){case"object":return Uj(e);case"string":return xI(e);case"number":return a$();case"boolean":return 4;default:return 8}}function Gj(e,t){return kI+e.length*t}const MI=32,kI=32;function Lle(e){return e instanceof ArrayBuffer}function l$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function EI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function PI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function u$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function CI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function c$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function OI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function zg(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function Ug(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function Wj(e){return!("buffer"in e)}function Rle(...e){return e.reduce((t,r)=>t+(r?Wj(r)?Gj(r,a$()):r.byteLength+Bj:0),0)}const Bj=145,Nle=1024;function Dle(e){return Ug(e)||zg(e)||c$(e)||u$(e)||l$(e)}function Fle(e){return Ug(e)||zg(e)}function jle(e){return Ug(e)?179769e303:zg(e)?3402823e32:OI(e)?4294967295:CI(e)?65535:EI(e)||PI(e)?255:c$(e)?2147483647:u$(e)?32767:l$(e)?127:256}function II(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&II(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function j(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=RI(e);if(t!=null)return t;if(u0(e))return e.clone();if(AI(e))return e.map(j);if(LI(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=j(e[n]);return r}function w_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=RI(e);if(t!=null)return t;if(AI(e)){let r=!0;const n=e.map(i=>{const s=w_(i);return i!=null&&s==null&&(r=!1),s});return r?n:null}if(u0(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!LI(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=w_(i);if(i!=null&&s==null)return null;r[n]=s}return r}return null}function u0(e){return typeof e.clone=="function"}function AI(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function LI(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function YT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function RI(e){if(l$(e)||EI(e)||PI(e)||u$(e)||CI(e)||c$(e)||OI(e)||zg(e)||Ug(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,j(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(j(r));return t}return null}function h$(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function NI(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&jg(e,t):e instanceof Set?t instanceof Set&&qj(e,t):e instanceof Map?t instanceof Map&&Zj(e,t):!!YT(e)&&YT(t)&&Hj(e,t))}function Hj(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function qj(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Zj(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function Jj(e,t,r=!1){return FI(e,t,r)}function Bp(e,t){if(t!=null)return t[e]||DI(e.split("."),!1,t)}function Kl(e,t,r){const n=e.split("."),i=n.pop(),s=DI(n,!0,r);s&&i&&(s[i]=t)}function DI(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function FI(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=j(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.concat():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):n[i]=o.concat())):o&&typeof o=="object"?n[i]=FI(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}var FP;const Te={apiKey:void 0,applicationName:"",applicationUrl:(FP=globalThis.location)==null?void 0:FP.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Jj(Te,globalThis.esriConfig,!0),delete Te.has),!Te.assetsPath){{const e="4.28";Te.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Te.defaultAssetsPath=Te.assetsPath}const Yj=/\{([^\}]+)\}/g;function KT(e){return e??""}function d$(e,t){return t?e.replaceAll(Yj,typeof t=="object"?(r,n)=>KT(Bp(n,t)):(r,n)=>KT(t(n))):e}function zle(e,t){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function jI(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function Ule(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}function Vle(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const XT={info:0,warn:1,error:2,none:3};let W=class er{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,er._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=er.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const r=er._loggers;return er._loggers=t,r},set throttlingDisabled(t){er._throttlingDisabled=t}}}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,er._loggers.get(t)||new er({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!er._throttlingDisabled){const i=this._argsToKey(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=er._tickCounter)return;this._loggedMessages[t].set(i,er._tickCounter),er._scheduleTickCounterIncrement()}for(const i of Te.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...n){console[t](`[${r}]`,...n)}_matchLevel(t){const r=Te.log.level||"warn";return XT[this._parentWithMember("level",r)]<=XT[t]}_argsToKey(...t){return jI(JSON.stringify(t,(n,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}static _scheduleTickCounterIncrement(){er._tickCounterScheduled||(er._tickCounterScheduled=!0,Promise.resolve().then(()=>{er._tickCounter++,er._tickCounterScheduled=!1}))}};W._loggers=new Map,W._tickCounter=0,W._tickCounterScheduled=!1,W._throttlingDisabled=!1;function zI(e,t){if(e==null)throw new Error(t??"value is None")}function Ze(e){return e==null||e.destroy(),null}function Gle(e){return e==null||e.dispose(),null}function ct(e){return e==null||e.remove(),null}function dp(e){return e==null||e.abort(),null}function Wle(e){return e==null||e.release(),null}function Kj(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}const UI=Symbol("Accessor-beforeDestroy"),Xj={remove:()=>{}};function je(e){return e?{remove(){e&&(e(),e=void 0)}}:Xj}function Qj(e){e.forEach(t=>t==null?void 0:t.remove())}function Hp(e){return je(()=>Qj(e))}function Xo(e){return e.__accessor__??null}function ez(e,t){var r;return((r=e==null?void 0:e.metadatas)==null?void 0:r[t])!=null}function Wm(e,t,r){return r?c0(e,t,{policy:r,path:""}):c0(e,t,null)}function c0(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const s=i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[s]))return n[s]=t[s],n;if(n[s]===void 0)return n[s]=j(t[s]),n;let l=n[s],c=t[s];if(l===c)return n;if(Array.isArray(c)||Array.isArray(n))l=l?Array.isArray(l)?n[s]=l.concat():n[s]=[l]:n[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(d=>{l.includes(d)||l.push(d)}));else if(c&&typeof c=="object")if(r){const d=r.path;r.path=o,n[s]=c0(l,c,r),r.path=d}else n[s]=c0(l,c,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[s]=c);return n},e||{}):e}function VI(e){return Array.isArray(e)?e:e.split(".")}function QT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function tz(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...QT(r));return t}return QT(e)}function GI(e,t,r,n){const i=tz(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return Hp(s)}return n(e,i[0],r)}function WI(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=Xo(t);return ez(n,r)?n.get(r):t[r]}function BI(e,t,r){if(e==null)return e;const n=WI(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:BI(n,t,r+1)}function qp(e,t,r=0){return typeof t!="string"||t.includes(".")?BI(e,VI(t),r):WI(t,e)}function Vi(e,t){return qp(e,t)}function eM(e,t){return qp(t,e)!==void 0}function Zp(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=j(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Vg(e,t){const r=Zp(e);let n=r[t];return n||(n=r[t]={}),n}function rz(e,t){return Wm(e,t,iz)}const nz=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function iz(e){return nz.test(e)?"replace":"merge"}function sz(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function oz(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let Xl=class __{constructor(t,r,n,i=1,s=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(__.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):oz(r)&&r.acquire(...t),r}release(t){t&&!__.test.disabled&&(this._releaseFunction?this._releaseFunction(t):sz(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Xl.test={disabled:!1};var xs;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(xs||(xs={}));let az=class{constructor(t,r){this._observers=t,this._observer=r}remove(){zj(this._observers,this._observer)}},HI=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return lz;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new az(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const lz=je();var ve;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ve||(ve={}));const qle=ve.USER+1;function qI(e){switch(e){case"defaults":return ve.DEFAULTS;case"service":return ve.SERVICE;case"portal-item":return ve.PORTAL_ITEM;case"web-scene":return ve.WEB_SCENE;case"web-map":return ve.WEB_MAP;case"link-chart":return ve.LINK_CHART;case"user":return ve.USER;default:return null}}function b_(e){switch(e){case ve.DEFAULTS:return"defaults";case ve.SERVICE:return"service";case ve.PORTAL_ITEM:return"portal-item";case ve.WEB_SCENE:return"web-scene";case ve.WEB_MAP:return"web-map";case ve.LINK_CHART:return"link-chart";case ve.USER:return"user"}}function uz(e){return b_(e)}var ke;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(ke||(ke={}));const h0={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},Nh=[];let Pd=h0;function ee(e){Pd.onObservableAccessed(e)}let Bm=!1,Hm=!1;function Rs(e,t,r){if(Bm)return p$(e,t,r);ZI(e);const n=t.call(r);return JI(),n}function cz(e,t){return Rs(h0,e,t)}function p$(e,t,r){const n=Bm;Bm=!0,ZI(e);let i=null;try{i=t.call(r)}catch(s){Hm&&W.getLogger("esri.core.accessorSupport.tracking").error(s)}return JI(),Bm=n,i}function ZI(e){Pd=e,Nh.push(e)}function JI(){const e=Nh.length;if(e>1){const t=Nh.pop();Pd=Nh[e-2],t.onTrackingEnd()}else if(e===1){const t=Nh.pop();Pd=h0,t.onTrackingEnd()}else Pd=h0}function YI(e,t){if(t.flags&ke.DepTrackingInitialized)return;const r=Hm;Hm=!1,t.flags&ke.AutoTracked?p$(t,t.metadata.get,e):KI(e,t),Hm=r}const hz=[];function KI(e,t){t.flags&ke.ExplicitlyTracking||(t.flags|=ke.ExplicitlyTracking,p$(t,()=>{const r=t.metadata.dependsOn||hz;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=VI(n);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=tM(o,i[s],s!==i.length-1)}else tM(e,n,!1)}),t.flags&=~ke.ExplicitlyTracking)}function tM(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=Xo(e);if(i){const s=i.propertiesByName.get(n);s&&(ee(s),YI(e,s))}return r?e[n]:void 0}let rM=class extends HI{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=ke.Dirty|(r.nonNullable?ke.NonNullable:0)|(r.hasOwnProperty("value")?ke.HasDefaultValue:0)|(r.get===void 0?ke.DepTrackingInitialized:0)|(r.dependsOn===void 0?ke.AutoTracked:0)}destroy(){this.flags&ke.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){ee(this);const r=t.store,n=this.propertyName,i=this.flags,s=r.get(n);if(i&ke.Computing||~i&ke.Dirty&&r.has(n))return s;this.flags|=ke.Computing;const o=t.host;let a;i&ke.AutoTracked?a=Rs(this,this.metadata.get,o):(KI(o,this),a=this.metadata.get.call(o)),r.set(n,a,ve.COMPUTED);const l=r.get(n);return l===s?this.flags&=~ke.Dirty:cz(this.commit,this),this.flags&=~ke.Computing,l}onObservableAccessed(t){if(t===this)return;let r=this._accessed;if(r==null)r=[],this._accessed=r;else if(r.includes(t))return;r.push(t)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=ke.DepTrackingInitialized;const t=this._accessed;if(t==null||t.length===0)return;let r=this._handles;r==null&&(r=[],this._handles=r);for(let n=0;n<t.length;++n)r.push(t[n].observe(this));t.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~ke.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&ke.Overriden&&(this.flags|=ke.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},dz=class XI{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new XI;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,j(n))}),r}get(t){return this._values.get(t)}originOf(){return ve.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Ff(e,t,r){return e!==void 0}function nM(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&ke.NonNullable)||(n.lifecycle,xs.INITIALIZING,!1))}function pz(e){return e&&typeof e.destroy=="function"}W.getLogger("esri.core.accessorSupport.Properties");let fz=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=xs.INITIALIZING,this.store=new dz,this._origin=ve.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new rM(n,r[n]);this.propertiesByName.set(n,i)}this.metadatas=r}initialize(){this.lifecycle=xs.CONSTRUCTING}constructed(){this.lifecycle=xs.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,r]of this.propertiesByName){if(r.metadata.autoDestroy){const n=this.internalGet(t);n&&pz(n)&&(n.destroy(),~r.flags&ke.NonNullable&&this._internalSet(r,null))}r.destroy()}}get initialized(){return this.lifecycle!==xs.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);ee(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&ke.HasDefaultValue)return"defaults"}return b_(r)}has(t){return!!this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(Ff(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);Ff(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!Ff(i))return"";const s=new Set,o=Rs({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=i.metadata.get)==null?void 0:l.call(t)});let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;if(s.size===0)return a;n+="  ";for(const l of s)l instanceof rM&&(a+=`${n}${l.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(Ff(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&ke.Overriden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&ke.Overriden&&(r.flags&=~ke.Overriden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!nM(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:a}=s;if(dv.release(s),!o)return;r=a}n.flags|=ke.Overriden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!nM(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:a,value:l}=o;if(dv.release(o),!a)return;r=l}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=qI(t)}getDefaultOrigin(){return b_(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==xs.INITIALIZING?this._origin:ve.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;i.has(s,n)&&h$(r,i.get(s))&&~t.flags&ke.Overriden&&n===i.originOf(s)||(t.invalidate(),i.set(s,r,n),t.commit(),YI(this.host,t))}_cast(t,r){const n=dv.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},mz=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const dv=new Xl(mz);function yz(e,t){return e.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,n)=>n===""?"$":(Bp(n,t)??"").toString())}let QI=class{constructor(t,r,n){this.name=t,this.details=n,this.message=(r&&yz(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},G=class eA extends QI{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return j(r)}catch{return"[object]"}}))}}catch(t){throw W.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new eA(t.name,t.message,t.details)}};G.prototype.type="error";function d0(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))d0(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void d0(Vi(e,i),s,r)}const n=e.__accessor__;n!=null&&gz(t,n),e[t]=r}}function gz(e,t){if(L("esri-unknown-property-errors")&&!vz(e,t))throw new G("set:unknown-property",wz(e,t))}function vz(e,t){return t.metadatas[e]!=null}function wz(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let _z;function bz(){return _z}var iM;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(iM||(iM={}));function Sz(e){e.length=0}let yr=class{constructor(t=50,r=50){this._pool=new Xl(Array,void 0,Sz,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return pv.acquire()}static release(t){return pv.release(t)}static prune(){pv.prune()}};const pv=new yr(100);let tA=class extends Xl{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const jf=[];function p0(e){jf.push(e),jf.length===1&&queueMicrotask(()=>{const t=jf.slice();jf.length=0;for(const r of t)r()})}let rA=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var S_;(function(e){const t=(s,o,a,l)=>{let c=o,d=o;const f=a>>>1,m=s[c-1];for(;d<=f;){d=c<<1,d<a&&l(s[d-1],s[d])<0&&++d;const y=s[d-1];if(l(y,m)<=0)break;s[c-1]=y,c=d}s[c-1]=m},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l);const c=o+1;for(let d=a-1;d>o;d--){const f=s[o];s[o]=s[d],s[d]=f,t(s,c,d,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l),yield;const c=o+1;for(let d=a-1;d>o;d--){const f=s[o];s[o]=s[d],s[d]=f,t(s,c,d,l),yield}}e.sort=n,e.iterableSort=i})(S_||(S_={}));const sM=S_,$z=1.5,xz=1.1;let nA=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new SI,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>oM(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,oM(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=v_(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(v_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=jj(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){sM.sort(this.data,0,this.length,t)}iterableSort(t){return sM.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){for(let n=0;n<this.length;++n){const i=this.data[n];if(t.call(r,i,n))return i}}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const n=this.length,i=this.data;for(let s=0;s<n;++s)t.call(r,i[s],s,i)}forEach(t,r){for(let n=0;n<this.length;++n)t.call(r,this.data[n],n,this.data)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}};function oM(e){e.data.length>$z*e.length&&(e.data.length=Math.floor(e.length*xz))}function Tz(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return je(()=>e.clearTimeout(n))}}}const qc=Tz(globalThis);function Gg(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Jp(e,t,r){if(!Gg(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const i of n)e.addEventListener(i,r);return je(()=>{for(const i of n)e.removeEventListener(i,r)})}return e.addEventListener(t,r),je(()=>e.removeEventListener(t,r))}function iA(e,t,r){if(!Gg(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Jp(e,t,i=>{n.remove(),r.call(e,i)});return n}const Mz={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function kz({key:e}){return Mz[e]||e}function Tt(e="Aborted"){return new G("AbortError",e)}function mt(e,t="Aborted"){if(Ns(e))throw Tt(t)}function Wg(e){return e!=null?"aborted"in e?e:e.signal:e}function Ns(e){const t=Wg(e);return t!=null&&t.aborted}function sA(e){if(pi(e))throw e}function aM(e){if(!pi(e))throw e}function si(e,t){const r=Wg(e);if(r!=null){if(!r.aborted)return iA(r,"abort",()=>t());t()}}function f$(e,t){const r=Wg(e);if(r!=null)return mt(r),iA(r,"abort",()=>t(Tt()))}function rue(e,t){return Wg(t)==null?e:new Promise((r,n)=>{let i=si(t,()=>n(Tt()));const s=()=>{i=ct(i)};e.then(s,s),e.then(r,n)})}function pi(e){return(e==null?void 0:e.name)==="AbortError"}async function lM(e){try{return await e}catch(t){if(!pi(t))throw t;return}}async function Bg(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await Bg(n),s={};return r.map((o,a)=>s[o]=i[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const s=r[i];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function Ez(e){return(await Bg(e)).filter(t=>!!t.value).map(t=>t.value)}async function nue(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function iue(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function oA(e,t=void 0,r){const n=new AbortController;return si(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);si(n,()=>{o&&(clearTimeout(o),s(Tt()))})})}function da(e){return e&&typeof e.then=="function"}function uM(e){return da(e)?e:Promise.resolve(e)}function Pz(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(Tt()),s=ci();const m=s.promise;if(o){const y=o;o=null,y.abort()}return m}if(i=s||ci(),s=null,t>0){const m=new AbortController;r=uM(e(...l,m.signal));const y=r;oA(t).then(()=>{r===y&&(s?m.abort():o=m)})}else r=1,r=uM(e(...l));const c=()=>{const m=n;n=i=r=o=null,m!=null&&a(...m)},d=r,f=i;return d.then(c,c),d.then(f.resolve,f.reject),f.promise};return a}function ci(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>qc.setTimeout(()=>n.reject(s),i),n.promise=r,n}async function cM(e){await Promise.resolve(),mt(e)}function sue(e){return e}function oue(e){return 1e3*e}function aue(e){return e}let Cz=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Oz=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},$_=0;const fh={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},x_=["prepare","preRender","render","postRender","update","finish"],T_=[],Rl=new nA;let Iz=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const f0={frameTasks:Rl,willDispatch:!1,clearFrameTasks:Az,dispatch:uA,executeFrameTasks:Lz};function Yp(e){const t=new Oz(e);return T_.push(t),f0.willDispatch||(f0.willDispatch=!0,p0(uA)),t}function Oc(e){const t=new Cz(e);return Rl.push(t),m0==null&&($_=performance.now(),m0=requestAnimationFrame(aA)),new Iz(t)}let m0=null;function Az(e=!1){Rl.forAll(t=>{t.removed=!0}),e&&lA()}function aA(){const e=performance.now();m0=null,m0=Rl.length>0?requestAnimationFrame(aA):null,f0.executeFrameTasks(e)}function Lz(e){const t=e-$_;$_=e;const r=1e3/60,n=Math.max(0,t-r);fh.time=e,fh.frameDuration=r-n;for(let i=0;i<x_.length;i++){const s=performance.now(),o=x_[i];Rl.forAll(a=>{var l;a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(fh.elapsedFrameTime=performance.now()-e,fh.deltaTime=a.ticks===0?0:t,(l=a.phases[o])==null||l.call(a,fh)))}),Rz[i].record(performance.now()-s)}lA(),Nz.record(performance.now()-e)}const zf=new nA;function lA(){Rl.forAll(e=>{e.removed&&zf.push(e)}),Rl.removeUnorderedMany(zf.data,zf.length),zf.clear()}function uA(){for(;T_.length;){const e=T_.shift();e.isActive&&e.callback()}f0.willDispatch=!1}function hue(e=1,t){const r=ci(),n=()=>{Ns(t)?r.reject(Tt()):e===0?r():(--e,p0(()=>n()))};return n(),r.promise}const Rz=x_.map(e=>new rA(e)),Nz=new rA("total");function Dz(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function hM(e,t){if(!t)return e;for(const r of t)e.add(r);return e}function Fz(e,t){const r=new Set;return hM(r,e),hM(r,t),r}function due(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function pue(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function fue(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function mue(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}let jz=0;function Cd(){return++jz}let Hg=class{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new zz(t),dM.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;dM.unregister(this._observerObject),this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){const r=this._accessed;r.includes(t)||r.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed,n=this._observerObject;for(let i=0;i<r.length;++i)t.push(r[i].observe(n));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},zz=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Uz}};const dM=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function Uz(){}let uc=!1;const y0=[];function cA(e,t){let r=new Hg(s),n=null,i=!1;function s(){if(!r||i)return;if(uc)return void dA(s);const a=n;r.clear(),uc=!0,i=!0,n=Rs(r,e),i=!1,uc=!1,t(n,a),pA()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=Rs(r,e),i=!1,je(o)}function hA(e,t){let r=new Hg(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=Rs(r,e),n):null}return o(),je(s)}function Vz(e){let t=new Hg(n),r=!1;function n(){t&&!r&&(uc?dA(n):(t.clear(),uc=!0,r=!0,Rs(t,e),r=!1,uc=!1,pA()))}function i(){t&&(t.destroy(),t=null)}return r=!0,Rs(t,e),r=!1,je(i)}function dA(e){y0.includes(e)||y0.unshift(e)}function pA(){for(;y0.length;)y0.pop()()}var Od;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Od||(Od={}));let pp=class{constructor(){this.uid=Cd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(Od.Untracked,t,r,n,i,s,h$)}static acquireTracked(t,r,n,i){return this.pool.acquire(Od.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===Od.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,s,o,a){this.uid=Cd(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Cd(),this.removed=!0}};pp.pool=new tA(pp);const qm=new yr,Ps=new Set;let g0;function v0(e){Ps.delete(e),Ps.add(e),g0||(g0=Yp(Bz))}function Gz(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Wz(e){for(const t of Ps.values())t.target===e&&(t.removed=!0)}function Bz(){let e=10;for(;g0&&e--;){g0=null;const t=Hz(),r=qm.acquire();for(const n of t){const i=n.uid;Gz(n),i===n.uid&&n.removed&&r.push(n)}for(const n of Ps)n.removed&&(r.push(n),Ps.delete(n));for(const n of r)pp.pool.release(n);qm.release(r),qm.release(t),M_.forEach(n=>n())}}function Hz(){const e=qm.acquire();e.length=Ps.size;let t=0;for(const r of Ps)e[t]=r,++t;return Ps.clear(),e}const M_=new Set;function qz(e){return M_.add(e),je(()=>M_.delete(e))}function Zz(e,t,r){let n=GI(e,t,r,(i,s,o)=>{let a,l,c=hA(()=>qp(i,s),(d,f)=>{i.__accessor__.destroyed||a&&a.uid!==l?n.remove():(a||(a=pp.acquireUntracked(d,o,f,i,s),l=a.uid),v0(a))});return je(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,v0(a)),a=null),n=c=null})});return n}function Jz(e,t,r){const n=GI(e,t,r,(i,s,o)=>{let a=!1;return cA(()=>qp(i,s),(l,c)=>{i.__accessor__.destroyed?n.remove():a||(a=!0,h$(c,l)||o.call(i,l,c,s,i),a=!1)})});return n}function Yz(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?je():n?Jz(e,t,r):Zz(e,t,r)}function Kz(e,t,r){let n,i,s=hA(e,(o,a)=>{n&&n.uid!==i?s.remove():(n||(n=pp.acquireTracked(o,t,a,r),i=n.uid),v0(n))});return je(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,v0(n)),n=null),s=null})}function Xz(e,t,r){let n=!1;return cA(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function Qz(e,t,r=!1,n=NI){return r?Xz(e,t,n):Kz(e,t,n)}function pM(e){return Dz(Ps,t=>t.oldValue===e)}function qg(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function eU(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}const cc=W.getLogger("esri.core.accessorSupport.ensureTypes");function tU(e){return e==null?e:new Date(e)}function rU(e){return e==null?e:!!e}function nU(e){return e==null?e:e.toString()}function Xn(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function m$(e){return e==null?e:Math.round(parseFloat(e))}function fA(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function w0(e,t){return t!=null&&e&&!(t instanceof e)}function mA(e){return e&&"isCollection"in e}function fM(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function iU(e,t){if(!(t!=null&&t.constructor)||!mA(t.constructor))return k_(e,t)?t:new e(t);const r=fM(e.prototype.itemType),n=fM(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(k_(e,t),t):new e(t):t}function k_(e,t){return!!fA(t)&&(cc.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Zg(e)+"'"),!0)}function y$(e,t){return t==null?t:mA(e)?iU(e,t):w0(e,t)?k_(e,t)?t:new e(t):t}function Zg(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const sU=new WeakMap;function oU(e){switch(e){case Number:return Xn;case ft:return m$;case Boolean:return rU;case String:return nU;case Date:return tU;default:return eU(sU,e,()=>y$.bind(null,e))}}function Dr(e,t){const r=oU(e);return arguments.length===1?r:r(t)}function fp(e,t,r){return arguments.length===1?fp.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function aU(e,t){return arguments.length===1?fp(r=>Dr(e,r)):fp(r=>Dr(e,r),t)}function yA(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>yA(e,t-1,n)):e(r)}function _0(e,t,r){if(arguments.length===2)return s=>_0(e,t,s);if(!r)return r;r=yA(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function lU(e,t,r){return arguments.length===2?_0(n=>Dr(e,n),t):_0(n=>Dr(e,n),t,r)}function gA(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function E_(e,t){if(arguments.length===2)return E_(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,d=c==="string"||c==="number";return d&&(r.has(a)||i.some(f=>c==="string"&&f===String||c==="number"&&f===Number))||c==="object"&&i.some(f=>!w0(a,f))?a:(d&&n.length?(s||(s=n.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),cc.error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(f=>Zg(f)).join(", ")),cc.error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):cc.error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Nl(e,t){if(arguments.length===2)return Nl(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=Dr(c),n.push(Zg(c)),i.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!w0(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,d=r[c];if(!d)return cc.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!w0(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!fA(l)){const f={};for(const m in l)m!==e.key&&(f[m]=l[m]);return d(f)}return d(l)}}let ft=class{};const _ue={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function uU(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function vA(e){switch(e.type){case"native":return Dr(e.value);case"array":return fp(vA(e.value));case"one-of":return cU(e);default:return null}}function cU(e){let t=null;return(r,n)=>C_(r,e)?r:(t==null&&(t=P_(e)),cc.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function P_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ft:return"integer";case Date:return"date";default:return Zg(e.value)}case"array":return`array of ${P_(e.value)}`;case"one-of":{const t=e.values.map(r=>P_(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function C_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case ft:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!C_(r,t.value));case"one-of":return t.values.some(r=>C_(e,r))}}function p(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=Vg(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&W.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let f=Vi(this,l);if(typeof f=="function"){d||(d=l.split(".").slice(0,-1).join("."));const m=Vi(this,d);m&&(f=f.bind(m))}return f},i.readOnly||(i.set=c?function(f){this._override(r,f)}:function(f){d0(this,l,f)})}const o=e.type,a=e.types;i.cast||(o?i.cast=hU(o):a&&(Array.isArray(a)?i.cast=fp(Nl(a[0])):i.cast=Nl(a))),rz(i,e),e.range&&(i.cast=dU(i.cast,e.range))}}function wA(e,t,r){const n=Vg(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function hU(e){let t=0,r=e;if(uU(e))return vA(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(gA(n))return t===0?E_(n):_0(E_(n),t);if(t===1)return aU(n);if(t>1)return lU(n,t);const i=e;return i.from?i.from:Dr(i)}function dU(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function pU(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let Ds=class extends QI{constructor(t,r,n){super(t,r,n)}};Ds.prototype.type="warning";function _A(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const O_=W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function mM(e,t,r){var n,i;e&&(!r&&!t.read||(n=t.read)!=null&&n.reader||((i=t.read)==null?void 0:i.enabled)===!1||yU(e)&&Kl("read.reader",bA(e),t))}function bA(e){var r,n;const t=e.ndimArray??0;if(t>1)return mU(e);if(t===1)return yM(e);if("type"in e&&$A(e.type)){const i=(n=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:n.Type,s=yM(typeof i=="function"?{type:i}:{types:i});return(o,a,l)=>{const c=s(o,a,l);return c&&new e.type(c)}}return g$(e)}function g$(e){return"type"in e?fU(e.type):gU(e.types)}function fU(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void O_.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function SA(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>SA(e,i,r,n-1)):e(t,void 0,r)}function mU(e){const t=g$(e),r=SA.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)i=[i];return i}}function yM(e){const t=g$(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function $A(e){if(!_A(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?v$(t.Type):xA(t.Type))}function yU(e){return"types"in e?xA(e.types):v$(e.type)}function v$(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||$A(e))}function xA(e){for(const t in e.typeMap)if(!v$(e.typeMap[t]))return!1;return!0}function gU(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void O_.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=vU(e));const l=e.key;if(typeof l!="string")return;const c=i[l],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const m=`Type '${c||"unknown"}' is not supported`;return o!=null&&o.messages&&i&&o.messages.push(new Ds(`${r}:unsupported`,m,{definition:i,context:o})),void O_.error(m)}const f=new d;return f.read(i,o),n?n(f):f}}function vU(e){var r,n;const t={};for(const i in e.typeMap){const s=e.typeMap[i],o=Zp(s.prototype);if(typeof e.key=="function")continue;const a=o[e.key];if(!a)continue;(r=a.json)!=null&&r.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"&&(t[a.json.type[0]]=s);const l=(n=a.json)==null?void 0:n.write;if(!(l!=null&&l.writer)){t[i]=s;continue}const c=l.target,d=typeof c=="string"?c:e.key,f={};l.writer(i,f,d),f[d]&&(t[f[d]]=s)}return t}function wU(e){if(e.json||(e.json={}),vM(e.json),wM(e.json),gM(e.json),e.json.origins)for(const t in e.json.origins)vM(e.json.origins[t]),wM(e.json.origins[t]),gM(e.json.origins[t]);return!0}function gM(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function vM(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function wM(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function _M(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&_A(e.type))?t.write.writer=SU:r>1?t.write.writer=$U(r):t.types?Array.isArray(t.types)?t.write.writer=bU(t.types[0]):t.write.writer=_U(t.types):t.write.writer=mp}function _U(e){return(t,r,n,i)=>t?TA(t,e,i)?mp(t,r,n,i):void 0:mp(t,r,n,i)}function TA(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new G(`${n}:unsupported`,i,{definition:e,context:r})),W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function bU(e){return(t,r,n,i)=>!t||!Array.isArray(t)?mp(t,r,n,i):mp(t.filter(s=>TA(s,e,i)),r,n,i)}function mp(e,t,r,n){Kl(r,b0(e,n),t)}function b0(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?S0(e):e}function S0(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function SU(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>b0(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[b0(e,n)],Kl(r,i,t)}function MA(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>MA(n,t,r-1)):b0(e,t)}function $U(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=MA(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Kl(n,s,r)}}function xU(e,t){return w$(e,"any",t==null?void 0:t.origin)}function I_(e,t){return w$(e,"read",t==null?void 0:t.origin)}function kA(e,t){return w$(e,"write",t==null?void 0:t.origin)}function w$(e,t,r){let n=e==null?void 0:e.json;if(n!=null&&n.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function TU(e){const t=MU(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?kU(n):t;mM(i,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),_M(i,n)}mM(t,e.json,!0),_M(t,e.json)}function MU(e){return e.json.types?A_(e.json):e.type?EA(e):A_(e)}function kU(e){return e.type?EA(e):A_(e)}function EA(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!gA(r);)r=r[0],t++;return{type:r,ndimArray:t}}function A_(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function EU(e){wU(e)&&(pU(e),TU(e))}const fv=new Set,mv=new Set;function P(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,CU(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!fv.has(i.initialize)&&(fv.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!mv.has(i.destroy)&&(mv.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);fv.clear(),mv.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const c=this[UI];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let d=0;d<n.length;d++)n[d].call(this)}}})}this.postscript(...a)}}};s.__accessorMetadata__=Zp(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function PU(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;ee(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function CU(e){const t=e.prototype,r=Zp(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];EU(s),n[i]={enumerable:!0,configurable:!0,get:PU(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this)){if(a.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(a.lifecycle===xs.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);a.set(i,o)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}var PA,CA;function OU(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const eo=Symbol("Accessor-Handles"),L_=Symbol("Accessor-Initialized");let te=class OA{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}Zp(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const d=this.inherited;let f;this.inherited=function(...m){if(s.prototype[a])return s.prototype[a].apply(this,m)};try{f=l.apply(this,c)}catch(m){throw this.inherited=d,m}return this.inherited=d,f}:t[a]}for(const a in r){const l=OU(r[a]);p(l)(o.prototype,a)}return P(n)(o)}constructor(...t){if(this[PA]=null,this[CA]=!1,this.constructor===OA)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new fz(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&this.normalizeCtorArgs&&(r.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const r=this.__accessor__,n=r.ctorArgs||t;r.initialize(),n&&(this.set(n),r.ctorArgs=null),r.constructed(),this.initialize(),this[L_]=!0}initialize(){}[UI](){this[eo]=Ze(this[eo])}destroy(){var t;this.destroyed||(Wz(this),this.__accessor__.destroy(),(t=bz())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[L_]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){Vi(this,t)}get(t){return bI(W.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Vi(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return d0(this,t,r),this}watch(t,r,n){return Yz(this,t,r,n)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const s of i)s.remove();return}let n=this[eo];n==null&&(n=this[eo]=new o$),n.add(t,r)}removeHandles(t){const r=this[eo];r!=null&&r.remove(t)}removeAllHandles(){const t=this[eo];t!=null&&t.removeAll()}hasHandles(t){const r=this[eo];return r!=null&&r.has(t)}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};PA=eo,CA=L_;const zs=e=>{let t=class extends e{clone(){var l;const r=Xo(this);zI(r,"unable to clone instance of non-accessor class");const n=r.metadatas,i=r.store,s={},o=new Map;for(const c in n){const d=n[c],f=i==null?void 0:i.originOf(c),m=d.clonable;if(d.readOnly||m===!1||f!==ve.USER&&f!==ve.DEFAULTS&&f!==ve.WEB_MAP&&f!==ve.WEB_SCENE)continue;const y=this[c];let g=null;g=typeof m=="function"?m(y):m==="reference"?y:w_(y),y!=null&&g==null||(f===ve.DEFAULTS?o.set(c,g):s[c]=g)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const c=(l=Xo(a))==null?void 0:l.store;if(c)for(const[d,f]of o)c.set(d,f,ve.DEFAULTS)}return a}};return t=h([P("esri.core.Clonable")],t),t};let bM=class extends zs(te){};bM=h([P("esri.core.Clonable")],bM);function pa(){return[0,0,0]}function IU(e){return[e[0],e[1],e[2]]}function Kp(e,t,r){return[e,t,r]}function AU(e,t=pa()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function LU(e,t){return new Float64Array(e,t,3)}function IA(){return pa()}function AA(){return Kp(1,1,1)}function LA(){return Kp(1,0,0)}function RA(){return Kp(0,1,0)}function NA(){return Kp(0,0,1)}const RU=IA(),NU=AA(),DU=LA(),FU=RA(),jU=NA();Object.freeze(Object.defineProperty({__proto__:null,ONES:NU,UNIT_X:DU,UNIT_Y:FU,UNIT_Z:jU,ZEROS:RU,clone:IU,create:pa,createView:LU,fromArray:AU,fromValues:Kp,ones:AA,unitX:LA,unitY:RA,unitZ:NA,zeros:IA},Symbol.toStringTag,{value:"Module"}));let _$=1e-6;function En(){return _$}function zU(e){_$=e}const Jg=Math.random,UU=Math.PI/180,VU=180/Math.PI;function b$(e){return e*UU}function GU(e){return e*VU}function WU(e,t){return Math.abs(e-t)<=_$*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Jg,equals:WU,getEpsilon:En,setEpsilon:zU,toDegree:GU,toRadian:b$},Symbol.toStringTag,{value:"Module"}));function S$(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function R_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function DA(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function BU(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function FA(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function jA(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function zA(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function HU(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function qU(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function ZU(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function JU(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function YU(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function KU(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function XU(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function UA(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function QU(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function VA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function GA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function WA(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function eV(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function tV(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function N_(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function BA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function rV(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=i*l-s*a,e[1]=s*o-n*l,e[2]=n*a-i*o,e}function nV(e,t,r,n){const i=t[0],s=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e}function iV(e,t,r,n,i,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,c=o*(s-1),d=o*(3-2*s);return e[0]=t[0]*a+r[0]*l+n[0]*c+i[0]*d,e[1]=t[1]*a+r[1]*l+n[1]*c+i[1]*d,e[2]=t[2]*a+r[2]*l+n[2]*c+i[2]*d,e}function sV(e,t,r,n,i,s){const o=1-s,a=o*o,l=s*s,c=a*o,d=3*s*a,f=3*l*o,m=l*s;return e[0]=t[0]*c+r[0]*d+n[0]*f+i[0]*m,e[1]=t[1]*c+r[1]*d+n[1]*f+i[1]*m,e[2]=t[2]*c+r[2]*d+n[2]*f+i[2]*m,e}function oV(e,t){t=t||1;const r=Jg,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e}function aV(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function lV(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function uV(e,t,r){const n=r[0],i=r[1],s=r[2],o=r[3],a=t[0],l=t[1],c=t[2];let d=i*c-s*l,f=s*a-n*c,m=n*l-i*a,y=i*m-s*f,g=s*d-n*m,v=n*f-i*d;const $=2*o;return d*=$,f*=$,m*=$,y*=2,g*=2,v*=2,e[0]=a+d+y,e[1]=l+f+g,e[2]=c+m+v,e}function cV(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function hV(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function dV(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function pV(e,t){R_(Uf,e),R_(Vf,t),N_(Uf,Uf),N_(Vf,Vf);const r=BA(Uf,Vf);return r>1?0:r<-1?Math.PI:Math.acos(r)}const Uf=pa(),Vf=pa();function fV(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function mV(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function yV(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],a=t[2],l=En();return Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))}function gV(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const vV=FA,wV=jA,_V=zA,bV=VA,SV=GA,$V=S$,xV=WA;Object.freeze(Object.defineProperty({__proto__:null,abs:ZU,add:BU,angle:pV,bezier:sV,ceil:HU,copy:R_,cross:rV,direction:gV,dist:bV,distance:VA,div:_V,divide:zA,dot:BA,equals:yV,exactEquals:mV,floor:qU,hermite:iV,inverse:tV,len:$V,length:S$,lerp:nV,max:KU,min:YU,mul:wV,multiply:jA,negate:eV,normalize:N_,random:oV,rotateX:cV,rotateY:hV,rotateZ:dV,round:XU,scale:UA,scaleAndAdd:QU,set:DA,sign:JU,sqrDist:SV,sqrLen:xV,squaredDistance:GA,squaredLength:WA,str:fV,sub:vV,subtract:FA,transformMat3:lV,transformMat4:aV,transformQuat:uV},Symbol.toStringTag,{value:"Module"}));function TV(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function MV(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function kV(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function HA(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function qA(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function ZA(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function EV(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function PV(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function CV(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function OV(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function IV(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function AV(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function LV(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function JA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function YA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function KA(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function XA(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function RV(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function NV(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function DV(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=s*o),e}function FV(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function jV(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function zV(e,t){const r=Jg;let n,i,s,o,a,l;t=t||1;do n=2*r()-1,i=2*r()-1,a=n*n+i*i;while(a>=1);do s=2*r()-1,o=2*r()-1,l=s*s+o*o;while(l>=1);const c=Math.sqrt((1-a)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*s*c,e[3]=t*o*c,e}function UV(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,e}function VV(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2],c=r[3],d=c*n+a*s-l*i,f=c*i+l*n-o*s,m=c*s+o*i-a*n,y=-o*n-a*i-l*s;return e[0]=d*c+y*-o+f*-l-m*-a,e[1]=f*c+y*-a+m*-o-d*-l,e[2]=m*c+y*-l+d*-a-f*-o,e[3]=t[3],e}function GV(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function WV(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function BV(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=t[0],a=t[1],l=t[2],c=t[3],d=En();return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-c)<=d*Math.max(1,Math.abs(s),Math.abs(c))}const HV=HA,qV=qA,ZV=ZA,JV=JA,YV=YA,KV=KA,XV=XA;Object.freeze(Object.defineProperty({__proto__:null,add:kV,ceil:EV,copy:TV,dist:JV,distance:JA,div:ZV,divide:ZA,dot:FV,equals:BV,exactEquals:WV,floor:PV,inverse:NV,len:KV,length:KA,lerp:jV,max:OV,min:CV,mul:qV,multiply:qA,negate:RV,normalize:DV,random:zV,round:IV,scale:AV,scaleAndAdd:LV,set:MV,sqrDist:YV,sqrLen:XV,squaredDistance:YA,squaredLength:XA,str:GV,sub:HV,subtract:HA,transformMat4:UV,transformQuat:VV},Symbol.toStringTag,{value:"Module"}));const SM=new Float32Array(1);function $ue(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Bi(e,t,r){return Math.min(Math.max(e,t),r)}function xue(e){return(e&e-1)==0}function Tue(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function QV(e,t,r){return e+(t-e)*r}function Mue(e,t,r,n,i){return QV(n,i,(e-t)/(r-t))}function eG(e){return e*Math.PI/180}function QA(e){return 180*e/Math.PI}function kue(e){return Math.acos(Bi(e,-1,1))}function e4(e){return Math.asin(Bi(e,-1,1))}function yv(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const $0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function tG(e){return $0.setFloat64(0,e),$0.getBigInt64(0)}function rG(e){return $0.setBigInt64(0,e),$0.getFloat64(0)}const gv=BigInt("1000000");nG(1);function nG(e){const t=tG(e=Math.abs(e)),r=rG(t<=gv?gv:t-gv);return Math.abs(e-r)}function Eue(e){return t4(Math.max(-$M,Math.min(e,$M)))}function t4(e){return SM[0]=e,SM[0]}function Pue(e,t){const r=S$(e),n=e4(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return DA(t,r,n,i),t}function Cue(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(yv(t,1)&&yv(r,1)&&yv(n,1))}const $M=t4(34028234663852886e22);let $$=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}ndiff(t,r=0){return Math.ceil((t-r)/this.range)*this.range+r}_normalize(t,r,n,i=0,s=!1){return(n-=i)<t?n+=this.ndiff(t-n):n>r&&(n-=this.ndiff(n-r)),s&&n===r&&(n=t),n+i}normalize(t,r=0,n=!1){return this._normalize(this.min,this.max,t,r,n)}clamp(t,r=0){return Bi(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+this.ndiff(t-r,n)}minimalMonotonic(t,r,n){return this._normalize(t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function x$(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}x$(new $$(0,2*Math.PI));x$(new $$(-Math.PI,Math.PI));const iG=x$(new $$(0,360));let sG=class r4{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new r4;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,j(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??ve.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var i;return((i=this._values.get(n))==null?void 0:i.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===ve.DEFAULTS){const i=this._values.get(t);if((i==null?void 0:i.origin)!=null&&i.origin>n)return}this._values.set(t,new oG(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===ve.DEFAULTS?t:ve.USER}},oG=class{constructor(t,r){this.value=t,this.origin=r}};function aG(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),ve.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),ve.DEFAULTS)})}function lG(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&eM(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&eM(i,r))return!0;return!1}function uG(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function cG(e,t,r,n,i){let s=I_(t[r],i);uG(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=I_(t[o],i),lG(s,r,n)&&(e[o]=!0)}function hG(e,t,r,n){const i=r.metadatas,s=xU(i[t],n),o=s==null?void 0:s.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const n4={origin:"service"};function dG(e,t,r=n4){if(!t||typeof t!="object")return;const n=Xo(e),i=n.metadatas,s={};for(const o of Object.getOwnPropertyNames(t))cG(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=I_(i[o],r).read,l=a==null?void 0:a.source;let c;c=l&&typeof l=="string"?qp(t,l):t[o],a!=null&&a.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&n.set(o,c)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||hG(e,o,n,r)}n.setDefaultOrigin("user")}function Aue(e,t,r,n=n4){var s;const i={...n,messages:[]};r(i),(s=i.messages)==null||s.forEach(o=>{o.type!=="warning"||e.loaded?n!=null&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}function pG(e,t,r,n,i){var o,a;const s={};return(a=(o=t.write)==null?void 0:o.writer)==null||a.call(e,n,s,r,i),s}function i4(e,t,r,n,i,s){if(!(n!=null&&n.write))return!1;const o=Vi(e,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&(s!=null&&s.layerContainerType)&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new G("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&(s!=null&&s.messages)?s.messages.push(a):a&&!s&&W.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===ve.DEFAULTS)&&fG(e,r,s,n,o)||!i.ignoreOrigin&&(s!=null&&s.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<qI(s.origin))}function fG(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r??void 0);return jg(o,i)}return!1}return s===i}function Lue(e,t,r,n){const i=Xo(e),s=i.metadatas,o=kA(s[t],n);return!!o&&i4(e,i,t,o,r,n)}function mG(e,t,r){var s,o;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Wm(t,e.toJSON(r));const n=Xo(e),i=n.metadatas;for(const a in i){const l=kA(i[a],r);if(!i4(e,n,a,l,void 0,r))continue;const c=Vi(e,a),d=pG(e,l,l.write&&typeof l.write.target=="string"?l.write.target:a,c,r);Object.keys(d).length>0&&(t=Wm(t,d),(o=(s=r==null?void 0:r.resources)==null?void 0:s.pendingOperations)!=null&&o.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Wm(t,d,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:uz(n.store.originOf(a)),newOrigin:r.origin}))}return t}const Xp=e=>{let t=class extends e{constructor(...r){super(...r);const n=Xo(this),i=n.store,s=new sG;n.store=s,aG(n,i,s)}read(r,n){dG(this,r,n)}write(r,n){return mG(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return yG.call(this,r,n)}};return t=h([P("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function yG(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function D_(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let ne=class extends Xp(te){};ne=h([P("esri.core.JSONSupport")],ne);const gG=Object.prototype.toString;function vG(e){const t="__accessorMetadata__"in e?Dr(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return wG.apply(this,r)}}function wG(e,t,r,n){Vg(e,t).cast=n}function _G(e){return(t,r)=>{Vg(t,e).cast=t[r]}}function _r(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&gG.call(e[0])==="[object Function]"?vG(e[0]):e.length===1&&typeof e[0]=="string"?_G(e[0]):void 0}function Re(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const c=wA(s,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}function Pe(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const c=wA(s,l,i);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}let kn=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&Kl(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const n in t)r[t[n]]=n;return r}_getKeysSorted(t){const r=[];for(const n in t)r.push(n);return r.sort(),r}};function Fr(){return function(e,t){return new kn(e,{ignoreUnknown:!0,...t})}}let T$=class{constructor(t,r,n,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Ve=new T$(6378137,1/298.257223563,3e5,.006694379990137799),Cs=new T$(3396190,1/169.8944472236118,23e4),Qo=new T$(1737400,0,0),bG=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,SG={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function xM(e){const t=e==null?void 0:e.match(bG);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:d}=SG;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=d);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function $G(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function xG(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function TG(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const MG=W.getLogger("esri.core.urlUtils"),Zc=Te.request,TM="esri/config: esriConfig.request.proxyUrl is not set.",s4=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,o4=/^\s*http:/i,kG=/^\s*https:/i,EG=/^\s*file:/i,PG=/:\d+$/,CG=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,OG=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),IG=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let hc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(OG);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(IG),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const Gf={},AG=new hc(Te.applicationUrl);let or=AG;const LG=RG();let M$=LG;const k$=()=>or,jue=()=>M$;function RG(){const e=or.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${or.scheme}://${or.host}${or.port!=null?`:${or.port}`:""}`}${t}`}function ur(e){if(!e)return null;const t={path:null,query:null},r=new hc(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=E$(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function E$(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function yp(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t==null?void 0:t[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>D_(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):D_(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function NG(e=!1){let t,r=Zc.proxyUrl;if(typeof e=="string"){t=GG(e);const n=Yg(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw MG.warn(TM),new G("urlutils:proxy-not-set",TM);return t&&F_()&&(r=L$(r)),ur(r)}function zue(e){const t=Yg(e);let r,n;if(t){const i=P$(t.proxyUrl);r=i.path,n=i.query?E$(i.query):null}if(r){const i=ur(e);e=r+"?"+i.path;const s=yp({...n,...i.query});s&&(e=`${e}?${s}`)}return e}const mh={path:"",query:""};function P$(e){const t=e.indexOf("?");return t!==-1?(mh.path=e.slice(0,t),mh.query=e.slice(t+1)):(mh.path=e,mh.query=null),mh}function a4(e){return e=(e=T0(e=ZG(e=P$(e).path),!0)).toLowerCase()}function DG(e){const t={proxyUrl:e.proxyUrl,urlPrefix:a4(e.urlPrefix)},r=Zc.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function Yg(e){const t=Zc.proxyRules,r=a4(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function Uue(e,t){if(!e||!t)return!1;e=x0(e),t=x0(t);const r=xM(e),n=xM(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&Ic(e,t,!0)}function FG(e,t){return e=x0(e),t=x0(t),T0(e)===T0(t)}function x0(e){const t=(e=qo(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function l4(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),r=Zc.interceptors;if(r){for(const n of r)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function Ic(e,t,r=!1){if(!e||!t)return!1;const n=z_(e),i=z_(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function C$(e){if(typeof e=="string"){if(!Jr(e))return!0;e=z_(e)}if(Ic(e,or))return!0;const t=Zc.trustedServers||[];for(let r=0;r<t.length;r++){const n=jG(t[r]);for(let i=0;i<n.length;i++)if(Ic(e,n[i]))return!0}return!1}function jG(e){return Gf[e]||(A$(e)||Hi(e)?Gf[e]=[new hc(vn(e))]:Gf[e]=[new hc(`http://${e}`),new hc(`https://${e}`)]),Gf[e]}function vn(e,t=M$,r){return Hi(e)?r&&r.preserveProtocolRelative?e:or.scheme==="http"&&or.authority===oi(e).slice(2)?`http:${e}`:`https:${e}`:A$(e)?e:Kg(e[0]==="/"?qG(t):t,e)}function O$(e,t=M$,r){if(e==null||!Jr(e))return e;const n=qo(e),i=n.toLowerCase(),s=qo(t).toLowerCase().replace(/\/+$/,""),o=r?qo(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(f,m,y)=>(y=f.indexOf(m,y))===-1?f.length:y;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||o&&c<o.length)return e;e=n.slice(c);const d=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(d>0)for(let f=0;f<d;f++)e=`../${e}`;else e=`./${e}`;return e}function qo(e){return e=KG(e=YG(e=JG(e=vn(e=e.trim()))))}function Kg(...e){const t=e.filter(l0);if(!(t!=null&&t.length))return;const r=[];if(Jr(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),BG(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function oi(e,t=!1){if(e==null||I$(e)||Ql(e))return null;let r=e.indexOf("://");if(r===-1&&Hi(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=T0(e,!0)),e}function Jr(e){return Hi(e)||A$(e)}function I$(e){return e!=null&&e.slice(0,5)==="blob:"}function Ql(e){return e!=null&&e.slice(0,5)==="data:"}function zG(e){const t=gp(e);return t&&t.isBase64?xG(t.data):null}function Vue(e){return TG(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const UG=/^data:(.*?)(;base64)?,(.*)$/;function gp(e){const t=e.match(UG);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function u4(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Gue(e){return(await fetch(e)).blob()}function Wue(e){const t=zG(e);if(!t)return null;const r=gp(e);return new Blob([t],{type:r.mediaType})}function Bue(e,t){VG(e,t)}function VG(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function Hi(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function A$(e){return e!=null&&s4.test(e)}function GG(e){return e!=null&&kG.test(e)||or.scheme==="https"&&Hi(e)}function WG(e){return e!=null&&o4.test(e)||or.scheme==="http"&&Hi(e)}function BG(e){return e!=null&&EG.test(e)}function L$(e){return Hi(e)?`https:${e}`:e.replace(o4,"https:")}function HG(){return or.scheme==="http"}function F_(){return or.scheme==="https"}function T0(e,t=!1){return Hi(e)?e.slice(2):(e=e.replace(s4,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function qG(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Hue(e){let t=0;if(Jr(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function que(e,t){if(!e)return"";const r=ur(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const i=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(i,"")}function ZG(e){return e.endsWith("/")?e:`${e}/`}function c4(e){return e.replace(/\/+$/,"")}function JG(e){if(/^https?:\/\//i.test(e)){const t=P$(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function YG(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function KG(e){const t=Zc.httpsDomains;if(!WG(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),PG.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return HG()&&n===or.authority&&!CG.test(e)||(F_()&&n===or.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||F_()&&!Yg(e))&&(e=L$(e)),e}function j_(e,t,r){if(!(t&&r&&e&&Jr(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function z_(e){return typeof e=="string"?new hc(vn(e)):(e.scheme||(e.scheme=or.scheme),e)}function Zue(e){return XG.test(e)}function h4(e,t){const r=ur(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function d4(e,t,r){const n=ur(e),i=n.query||{};return i[t]=String(r),`${n.path}?${yp(i)}`}function vv(e,t){if(!t)return e;const r=ur(e),n=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(n[s]=o);const i=yp(n);return i?`${r.path}?${i}`:r.path}function Jue(e){if(e==null)return null;const t=e.match(p4);return t?t[2]:null}function MM(e){if(e==null)return null;const t=e.match(p4);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Yue(e){return typeof e=="string"?gp(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(gp(n.result)),n.onerror=i=>r(i)})}const p4=/([^.]*)\.([^\/]*)$/,XG=/(^data:image\/svg|\.svg$)/i,f4="20231109",m4="bd3f0f31f667aa883ebe3002833f813cc4a75869";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const QG="4.28";let Fe,R$=QG;R$="4.28.9";function Kue(e){Fe=e}function Xue(e){const t=Fe==null?void 0:Fe.findCredential(e);return t!=null&&t.token?d4(e,"token",t.token):e}L("host-webworker");const eW=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function y4(e){const t=oi(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!eW.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function tW(e,t,r=!1,n){return new Promise((i,s)=>{if(Ns(n))return void s(kM());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const d=e;c(),i(d)},l=()=>{if(!e)return;const d=e;c(),d.src="",s(kM())};const c=()=>{L("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,n!=null&&n.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};n!=null&&n.addEventListener("abort",l),L("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function kM(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const rW="Timeout exceeded";function nW(){return new Error(rW)}function iW(e){Te.request.crossOriginNoCorsDomains||(Te.request.crossOriginNoCorsDomains={});const t=Te.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[oi(r)??""]=0:(t[oi("http://"+r)??""]=0,t[oi("https://"+r)??""]=0)}function sW(e){const t=Te.request.crossOriginNoCorsDomains;if(t){let r=oi(e);if(r)return r=r.toLowerCase(),!Ic(r,k$())&&t[r]<Date.now()-36e5}return!1}async function oW(e){var i;const t=Te.request.crossOriginNoCorsDomains,r=oi(e);t&&r&&(t[r.toLowerCase()]=Date.now());const n=ur(e);e=n.path,((i=n.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Yt(e,t){var c;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=E$(t.query.toString().replaceAll("+"," ")));const r=Ql(e),n=I$(e);n||r||(e=qo(e));const i={url:e,requestOptions:{...t}};let s=l4(e);if(s){const d=await fW(s,i);if(d!=null)return{data:d,getHeader:N$,httpStatus:200,requestOptions:i.requestOptions,url:i.url};s.after||s.error||(s=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(L("host-webworker")||L("host-node")))throw Gi("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw Gi("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Gi("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await hW(),M0)return M0.execute(e,t);const o=new AbortController;si(t,()=>o.abort());const a={controller:o,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:s,params:i,redoRequest:!1,useIdentity:Zn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await yW(a);return(c=s==null?void 0:s.after)==null||c.call(s,l),l}let M0;const Zn=Te.request,g4="FormData"in globalThis,aW=new Set([499,498,403,401]),lW=new Set(["COM_0056","COM_0057","SB_0008"]),uW=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],N$=()=>null,k0=Symbol();function cW(e){const t=oi(e);t&&!Yt._corsServers.includes(t)&&Yt._corsServers.push(t)}function EM(e){const t=oi(e);return!t||t.endsWith(".arcgis.com")||Yt._corsServers.includes(t)||C$(t)}function Gi(e,t,r,n){let i="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:N$,ssl:!1};if(t instanceof G)return t.details?(t.details=j(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(c=>n.headers.get(c)),a=n==null?void 0:n.status,l=t.message;l&&(i=l),o&&(s.getHeader=o),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||a||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=k0 in t?t[k0]:t}return pi(t)?Tt():new G(e,i,s)}async function hW(){L("host-webworker")?M0||(M0=await H(()=>import("./request-b40584fe.js"),[])):Yt._abortableFetch||(Yt._abortableFetch=globalThis.fetch.bind(globalThis))}async function U_(){Fe||await H(()=>import("./IdentityManager-a98370fe.js"),["assets/IdentityManager-a98370fe.js","assets/widget-931ed9b6.js"])}async function dW(e){var a;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(g4&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust&&!("polyfill"in Yt._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Zn.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(a=r.query)!=null&&a.token||s!=null&&s.get("token")),!e.hasToken&&Te.apiKey&&y4(t)&&(r.query||(r.query={}),r.query.token=Te.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!v4(t)&&!Ns(n)){let l;r.authMode==="immediate"?(await U_(),l=await Fe.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await U_(),l=await Fe.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):Fe&&(l=Fe.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function v4(e){return uW.some(t=>t.test(e))}async function pW(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},i=I$(t)||Ql(t),s=r.responseType||"json",o=i?0:r.timeout!=null?r.timeout:Zn.timeout;let a=!1;if(!i){e.useSSL&&(t=L$(t)),r.cacheBust&&n.cache==="default"&&(t=d4(t,"request.preventCache",Date.now()));let m={...r.query};e.credentialToken&&(m.token=e.credentialToken);let y=yp(m);L("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let v;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>Zn.maxUrlLength;const $=r.useProxy||!!Yg(t);if($){const _=NG(t);v=_.path,!a&&v.length+1+g>Zn.maxUrlLength&&(a=!0),_.query&&(m={..._.query,...m})}if(n.method==="HEAD"&&(a||$)){if(a)throw g>Zn.maxUrlLength?Gi("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Gi("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if($)throw Gi("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=vv(t,m):(n.body=yp(m),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=vv(t,m),$&&(e.useProxy=!0,t=`${v}?${t}`),m.token&&g4&&n.body instanceof FormData&&!$G(t)&&n.body.set("token",m.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!Ic(t,k$())){if(C$(t))e.withCredentials=!0;else if(Fe){const _=Fe.findServerInfo(t);_!=null&&_.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",sW(t)&&await oW(a?vv(t,m):t))}let l,c,d=0,f=!1;o>0&&(d=setTimeout(()=>{f=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")c=n,c.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||mW(r.headers)||!i&&!e.useProxy&&Zn.proxyUrl&&!EM(t)){if(l=await Yt._abortableFetch(t,n),e.useProxy||cW(t),r.responseType==="native")c=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(d&&(clearTimeout(d),d=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=PM(c,"application/xml");break;case"document":c=PM(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await CM(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await CM(t,e)}catch(m){if(m.name==="AbortError")throw f?nW():Tt("Request canceled");if(!(!l&&m instanceof TypeError&&Zn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||EM(t))throw m;e.redoRequest=!0,DG({proxyUrl:Zn.proxyUrl,urlPrefix:oi(t)??""})}finally{d&&clearTimeout(d)}return[l,c]}async function fW(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Gi("request:interceptor",i,t)}if((n instanceof Error||n instanceof G)&&(r=Gi("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function mW(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function PM(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function yW(e){var s,o;let t,r;await dW(e);try{do[t,r]=await pW(e);while(!await gW(e,t,r))}catch(a){const l=Gi("request:server",a,e.params,t);throw l.details.ssl=e.useSSL,(s=e.interceptor)!=null&&s.error&&e.interceptor.error(l),l}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((o=r.user)!=null&&o.username)&&!C$(n)){const a=oi(n,!0);a&&Zn.trustedServers.push(a)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&iW(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Fe){const a=Fe.findServerInfo(i.server);let l=a==null?void 0:a.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const c=Fe.findCredential(l,i.userId);c&&Fe._getIdenticalSvcIdx(l,c)===-1&&c.resources.unshift(l)}}return{data:r,getHeader:t?a=>t==null?void 0:t.headers.get(a):N$,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function gW(e,t,r){var c;if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(r&&(r.error?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[k0]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[k0]=r,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o==null?void 0:o.toUpperCase());const l=n.authMode;if(s===403&&(a===4||(c=i.message)!=null&&c.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&aW.has(s)&&!v4(e.params.url)&&(s!==403||(!o||!lW.has(o))&&(a==null||a===2&&e.credentialToken))){await U_();try{const d=await Fe.getCredential(e.params.url,{error:Gi("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=d,e.credentialToken=d.token,e.useSSL=e.useSSL||d.ssl,!1}catch(d){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=d}}if(i)throw i;return!0}function CM(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Zn.priority,i.src=e,tW(i,e,r,n)}Yt._abortableFetch=null,Yt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const vW=W.getLogger("esri.assets");function Le(e){if(!Te.assetsPath)throw vW.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new G("assets:path-not-set","config.assetsPath is not set");return Kg(Te.assetsPath,e)}let wv,C=null;function D$(){return!!C}function wW(){return!!L("esri-wasm")}function w4(){return wv||(wv=H(()=>import("./pe-wasm-a1896466.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Le(`esri/geometry/support/${t}`)})).then(e=>{b4(e)}),wv)}var V_,qe,G_;(function(e){function t(s,o,a){C.ensureCache.prepare();const l=Qa(a),c=a===l,d=C.ensureFloat64(l),f=C._pe_geog_to_proj(C.getPointer(s),o,d);return f&&Oo(a,o,d,c),f}function r(s,o,a,l){switch(l){case qe.PE_TRANSFORM_P_TO_G:return n(s,o,a);case qe.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function n(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){C.ensureCache.prepare();const c=Qa(a),d=a===c,f=C.ensureFloat64(c),m=C._pe_proj_to_geog_center(C.getPointer(s),o,f,l);return m&&Oo(a,o,f,d),m}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(V_||(V_={})),function(e){function t(){e.PE_BUFFER_MAX=C.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=C.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=C.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=C.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=C.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=C.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=C.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=C.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=C.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=C.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=C.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=C.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=C.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=C.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=C.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=C.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=C.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=C.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=C.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=C.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=C.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=C.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=C.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=C.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=C.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=C.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=C.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=C.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=C.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=C.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=C.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=C.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(qe||(qe={})),function(e){const t={},r={},n=y=>{if(y){const g=y.getType();switch(g){case qe.PE_TYPE_GEOGCS:y=C.castObject(y,C.PeGeogcs);break;case qe.PE_TYPE_PROJCS:y=C.castObject(y,C.PeProjcs);break;case qe.PE_TYPE_GEOGTRAN:y=C.castObject(y,C.PeGeogtran);break;default:g&qe.PE_TYPE_UNIT&&(y=C.castObject(y,C.PeUnit))}}return y};function i(){C.PeFactory.prototype.initialize(null)}function s(y){return o(qe.PE_TYPE_COORDSYS,y)}function o(y,g){let v=null,$=t[y];if($||($={},t[y]=$),$.hasOwnProperty(String(g)))v=$[g];else{const _=C.PeFactory.prototype.factoryByType(y,g);C.compare(_,C.NULL)||(v=_,$[g]=v)}return v=n(v),v}function a(y,g){let v=null,$=r[y];if($||($={},r[y]=$),$.hasOwnProperty(g))v=$[g];else{const _=C.PeFactory.prototype.fromString(y,g);C.compare(_,C.NULL)||(v=_,$[g]=v)}return v=n(v),v}function l(y){return o(qe.PE_TYPE_GEOGCS,y)}function c(y){return o(qe.PE_TYPE_GEOGTRAN,y)}function d(y){return C.PeFactory.prototype.getCode(y)}function f(y){return o(qe.PE_TYPE_PROJCS,y)}function m(y){return o(qe.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=d,e.projcs=f,e.unit=m}(G_||(G_={}));let _4=null;var E0,W_,B_,H_,P0,q_,C0,O0,Z_;function b4(e){function t(s,o,a){s[o]=a(s[o])}C=e,qe.init(),E0.init(),P0.init(),C0.init(),O0.init(),_4=class extends C.PeGCSExtent{destroy(){C.destroy(this)}};const r=[C.PeDatum,C.PeGeogcs,C.PeGeogtran,C.PeObject,C.PeParameter,C.PePrimem,C.PeProjcs,C.PeSpheroid,C.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(qe.PE_NAME_MAX))});for(const s of[C.PeGeogtran,C.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(qe.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const d=C.getValue(l,"*");a[c]=d?C.wrapPointer(d,C.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(C.PeHorizon.prototype,"getCoord",s=>function(){const o=this.getSize();if(!o)return null;const a=[];return Oo(a,o,s.call(this)),a}),t(C.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=C._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!C.compare(l,C.NULL)){a=[l];const c=this.getSteps();if(c>1){const d=C.getPointer(l);for(let f=1;f<c;f++)a.push(C.wrapPointer(d+o*f,C.PeGTlistExtendedGTs))}}return a}});const n=C._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!C.compare(l,C.NULL)){a=[l];const c=l.getNump();if(c>1){const d=C.getPointer(l);for(let f=1;f<c;f++)a.push(C.wrapPointer(d+n*f,C.PeHorizon))}}return o.set(s,a),a};t(C.PeProjcs.prototype,"horizonGcsGenerate",i),t(C.PeProjcs.prototype,"horizonPcsGenerate",i),C.PeObject.prototype.toString=function(s=qe.PE_STR_OPTS_NONE){C.ensureCache.prepare();const o=C.getPointer(this),a=C.ensureInt8(new Array(qe.PE_BUFFER_MAX));return C.UTF8ToString(C._pe_object_to_string_ext(o,s,a))}}function es(e){if(!e)return;const t=C.getClass(e);if(!t)return;const r=C.getCache(t);if(!r)return;const n=C.getPointer(e);n&&delete r[n]}function Wf(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(C.ensureInt8(n));return r}function Qa(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Oo(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=C.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=C.getValue(r,"double"),e[s][1]=C.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=C.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=C._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,a,l,c){let d=null;const f=new C.PeInteger(c);try{const m=C.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,f);if((c=f.val)&&(d=[m],c>1)){const y=C.getPointer(m);for(let g=1;g<c;g++)d.push(C.wrapPointer(y+t*g,C.PeGTlistExtendedEntry))}}finally{C.destroy(f)}return d}e.init=r,e.getGTlist=n})(E0||(E0={})),function(e){function t(r){if(r!=null&&r.length){for(const n of r)es(n),n.getEntries().forEach(i=>{es(i);const s=i.getGeogtran();es(s),s.getParameters().forEach(es),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{es(o);const a=o.getDatum();es(a),es(a.getSpheroid()),es(o.getPrimem()),es(o.getUnit())})});C.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(W_||(W_={})),function(e){function t(r,n,i,s,o){C.ensureCache.prepare();const a=Qa(i),l=i===a,c=C.ensureFloat64(a);let d=0;s&&(d=C.ensureFloat64(s));const f=C._pe_geog_to_geog(C.getPointer(r),n,c,d,o);return f&&Oo(i,n,c,l),f}e.geogToGeog=t}(B_||(B_={})),function(e){const t=(c,d,f,m,y,g)=>{let v,$;switch(C.ensureCache.prepare(),c){case"dd":v=C._pe_geog_to_dd,$=qe.PE_DD_MAX;break;case"ddm":v=C._pe_geog_to_ddm,$=qe.PE_DDM_MAX;break;case"dms":v=C._pe_geog_to_dms,$=qe.PE_DMS_MAX}let _=0;d&&(_=C.getPointer(d));const b=Qa(m),S=C.ensureFloat64(b),x=Wf(f,$),M=v(_,f,S,y,C.ensureInt32(x));if(M)for(let k=0;k<f;k++)g[k]=C.UTF8ToString(x[k]);return M},r=(c,d,f,m,y)=>{let g;switch(C.ensureCache.prepare(),c){case"dd":g=C._pe_dd_to_geog;break;case"ddm":g=C._pe_ddm_to_geog;break;case"dms":g=C._pe_dms_to_geog}let v=0;d&&(v=C.getPointer(d));const $=m.map(x=>C.ensureString(x)),_=C.ensureInt32($),b=C.ensureFloat64(new Array(2*f)),S=g(v,f,_,b);return S&&Oo(y,f,b),S};function n(c,d,f,m,y){return t("dms",c,d,f,m,y)}function i(c,d,f,m){return r("dms",c,d,f,m)}function s(c,d,f,m,y){return t("ddm",c,d,f,m,y)}function o(c,d,f,m){return r("ddm",c,d,f,m)}function a(c,d,f,m,y){return t("dd",c,d,f,m,y)}function l(c,d,f,m){return r("dd",c,d,f,m)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(H_||(H_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=C.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=C.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,a,l,c,d){C.ensureCache.prepare();let f=0;i&&(f=C.getPointer(i));const m=Qa(o),y=C.ensureFloat64(m),g=Wf(s,qe.PE_MGRS_MAX),v=C.ensureInt32(g),$=C._pe_geog_to_mgrs_extended(f,s,y,a,l,c,v);if($)for(let _=0;_<s;_++)d[_]=C.UTF8ToString(g[_]);return $}function n(i,s,o,a,l){C.ensureCache.prepare();let c=0;i&&(c=C.getPointer(i));const d=o.map(g=>C.ensureString(g)),f=C.ensureInt32(d),m=C.ensureFloat64(new Array(2*s)),y=C._pe_mgrs_to_geog_extended(c,s,f,a,m);return y&&Oo(l,s,m),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(P0||(P0={})),function(e){function t(n,i,s,o,a,l,c){C.ensureCache.prepare();let d=0;n&&(d=C.getPointer(n));const f=Qa(s),m=C.ensureFloat64(f),y=Wf(i,qe.PE_MGRS_MAX),g=C.ensureInt32(y),v=C._pe_geog_to_usng(d,i,m,o,a,l,g);if(v)for(let $=0;$<i;$++)c[$]=C.UTF8ToString(y[$]);return v}function r(n,i,s,o){C.ensureCache.prepare();let a=0;n&&(a=C.getPointer(n));const l=s.map(m=>C.ensureString(m)),c=C.ensureInt32(l),d=C.ensureFloat64(new Array(2*i)),f=C._pe_usng_to_geog(a,i,c,d);return f&&Oo(o,i,d),f}e.geogToUsng=t,e.usngToGeog=r}(q_||(q_={})),function(e){function t(){e.PE_UTM_OPTS_NONE=C.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=C.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=C.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,a,l){C.ensureCache.prepare();let c=0;i&&(c=C.getPointer(i));const d=Qa(o),f=C.ensureFloat64(d),m=Wf(s,qe.PE_UTM_MAX),y=C.ensureInt32(m),g=C._pe_geog_to_utm(c,s,f,a,y);if(g)for(let v=0;v<s;v++)l[v]=C.UTF8ToString(m[v]);return g}function n(i,s,o,a,l){C.ensureCache.prepare();let c=0;i&&(c=C.getPointer(i));const d=o.map(g=>C.ensureString(g)),f=C.ensureInt32(d),m=C.ensureFloat64(new Array(2*s)),y=C._pe_utm_to_geog(c,s,f,a,m);return y&&Oo(l,s,m),y}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(C0||(C0={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=C.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=C.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=C.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=C.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=C.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=r,e.generate=n}(O0||(O0={})),function(e){function t(){return C.PeVersion.prototype.version_string()}e.versionString=t}(Z_||(Z_={}));const _W=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return V_},get PeDefs(){return qe},get PeFactory(){return G_},get PeGCSExtent(){return _4},get PeGTTransformations(){return B_},get PeGTlistExtended(){return E0},get PeGTlistExtendedEntry(){return W_},get PeNotationDms(){return H_},get PeNotationMgrs(){return P0},get PeNotationUsng(){return q_},get PeNotationUtm(){return C0},get PePCSInfo(){return O0},get PeVersion(){return Z_},_init:b4,get _pe(){return C},isLoaded:D$,isSupported:wW,load:w4},Symbol.toStringTag,{value:"Module"}));var Dl;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Dl||(Dl={}));let u;const w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(u=2e3;u<=2045;u++)w[u]=0;for(u=2056;u<=2065;u++)w[u]=0;for(u=2067;u<=2135;u++)w[u]=0;for(u=2137;u<=2154;u++)w[u]=0;for(u=2161;u<=2170;u++)w[u]=0;for(u=2172;u<=2193;u++)w[u]=0;for(u=2195;u<=2198;u++)w[u]=0;for(u=2200;u<=2203;u++)w[u]=0;for(u=2205;u<=2217;u++)w[u]=0;for(u=2222;u<=2224;u++)w[u]=1;for(u=2225;u<=2250;u++)w[u]=2;for(u=2251;u<=2253;u++)w[u]=1;for(u=2257;u<=2264;u++)w[u]=2;for(u=2274;u<=2279;u++)w[u]=2;for(u=2280;u<=2282;u++)w[u]=1;for(u=2283;u<=2289;u++)w[u]=2;for(u=2290;u<=2292;u++)w[u]=0;for(u=2308;u<=2313;u++)w[u]=0;for(u=2315;u<=2491;u++)w[u]=0;for(u=2494;u<=2866;u++)w[u]=0;for(u=2867;u<=2869;u++)w[u]=1;for(u=2870;u<=2888;u++)w[u]=2;for(u=2891;u<=2895;u++)w[u]=2;for(u=2896;u<=2898;u++)w[u]=1;for(u=2902;u<=2908;u++)w[u]=2;for(u=2915;u<=2920;u++)w[u]=2;for(u=2921;u<=2923;u++)w[u]=1;for(u=2924;u<=2930;u++)w[u]=2;for(u=2931;u<=2962;u++)w[u]=0;for(u=2964;u<=2968;u++)w[u]=2;for(u=2969;u<=2973;u++)w[u]=0;for(u=2975;u<=2991;u++)w[u]=0;for(u=2995;u<=3051;u++)w[u]=0;for(u=3054;u<=3079;u++)w[u]=0;for(u=3081;u<=3088;u++)w[u]=0;for(u=3092;u<=3101;u++)w[u]=0;for(u=3106;u<=3138;u++)w[u]=0;for(u=3146;u<=3151;u++)w[u]=0;for(u=3153;u<=3166;u++)w[u]=0;for(u=3168;u<=3172;u++)w[u]=0;for(u=3174;u<=3203;u++)w[u]=0;for(u=3294;u<=3358;u++)w[u]=0;for(u=3367;u<=3403;u++)w[u]=0;for(u=3408;u<=3416;u++)w[u]=0;for(u=3417;u<=3438;u++)w[u]=2;for(u=3441;u<=3446;u++)w[u]=2;for(u=3447;u<=3450;u++)w[u]=0;for(u=3451;u<=3459;u++)w[u]=2;for(u=3460;u<=3478;u++)w[u]=0;for(u=3554;u<=3559;u++)w[u]=0;for(u=3560;u<=3570;u++)w[u]=2;for(u=3571;u<=3581;u++)w[u]=0;for(u=3594;u<=3597;u++)w[u]=0;for(u=3601;u<=3604;u++)w[u]=0;for(u=3637;u<=3639;u++)w[u]=0;for(u=3665;u<=3667;u++)w[u]=0;for(u=3693;u<=3695;u++)w[u]=0;for(u=3701;u<=3727;u++)w[u]=0;for(u=3728;u<=3739;u++)w[u]=2;for(u=3740;u<=3751;u++)w[u]=0;for(u=3753;u<=3760;u++)w[u]=2;for(u=3761;u<=3773;u++)w[u]=0;for(u=3775;u<=3777;u++)w[u]=0;for(u=3779;u<=3781;u++)w[u]=0;for(u=3783;u<=3785;u++)w[u]=0;for(u=3788;u<=3791;u++)w[u]=0;for(u=3797;u<=3802;u++)w[u]=0;for(u=3814;u<=3816;u++)w[u]=0;for(u=3825;u<=3829;u++)w[u]=0;for(u=3832;u<=3841;u++)w[u]=0;for(u=3844;u<=3852;u++)w[u]=0;for(u=3873;u<=3885;u++)w[u]=0;for(u=3890;u<=3893;u++)w[u]=0;for(u=3907;u<=3912;u++)w[u]=0;for(u=3942;u<=3950;u++)w[u]=0;for(u=3968;u<=3970;u++)w[u]=0;for(u=3973;u<=3976;u++)w[u]=0;for(u=3986;u<=3989;u++)w[u]=0;for(u=3994;u<=3997;u++)w[u]=0;for(u=4048;u<=4051;u++)w[u]=0;for(u=4056;u<=4063;u++)w[u]=0;for(u=4093;u<=4096;u++)w[u]=0;for(u=4390;u<=4398;u++)w[u]=0;for(u=4399;u<=4413;u++)w[u]=2;for(u=4418;u<=4433;u++)w[u]=2;for(u=4455;u<=4457;u++)w[u]=2;for(u=4484;u<=4489;u++)w[u]=0;for(u=4491;u<=4554;u++)w[u]=0;for(u=4568;u<=4589;u++)w[u]=0;for(u=4652;u<=4656;u++)w[u]=0;for(u=4766;u<=4800;u++)w[u]=0;for(u=5014;u<=5016;u++)w[u]=0;for(u=5069;u<=5072;u++)w[u]=0;for(u=5105;u<=5130;u++)w[u]=0;for(u=5167;u<=5188;u++)w[u]=0;for(u=5253;u<=5259;u++)w[u]=0;for(u=5269;u<=5275;u++)w[u]=0;for(u=5292;u<=5311;u++)w[u]=0;for(u=5329;u<=5331;u++)w[u]=0;for(u=5343;u<=5349;u++)w[u]=0;for(u=5355;u<=5357;u++)w[u]=0;for(u=5387;u<=5389;u++)w[u]=0;for(u=5459;u<=5463;u++)w[u]=0;for(u=5479;u<=5482;u++)w[u]=0;for(u=5518;u<=5520;u++)w[u]=0;for(u=5530;u<=5539;u++)w[u]=0;for(u=5550;u<=5552;u++)w[u]=0;for(u=5562;u<=5583;u++)w[u]=0;for(u=5623;u<=5625;u++)w[u]=2;for(u=5631;u<=5639;u++)w[u]=0;for(u=5649;u<=5653;u++)w[u]=0;for(u=5663;u<=5680;u++)w[u]=0;for(u=5682;u<=5685;u++)w[u]=0;for(u=5875;u<=5877;u++)w[u]=0;for(u=5896;u<=5899;u++)w[u]=0;for(u=5921;u<=5940;u++)w[u]=0;for(u=6050;u<=6125;u++)w[u]=0;for(u=6244;u<=6275;u++)w[u]=0;for(u=6328;u<=6348;u++)w[u]=0;for(u=6350;u<=6356;u++)w[u]=0;for(u=6366;u<=6372;u++)w[u]=0;for(u=6381;u<=6387;u++)w[u]=0;for(u=6393;u<=6404;u++)w[u]=0;for(u=6480;u<=6483;u++)w[u]=0;for(u=6511;u<=6514;u++)w[u]=0;for(u=6579;u<=6581;u++)w[u]=0;for(u=6619;u<=6624;u++)w[u]=0;for(u=6625;u<=6627;u++)w[u]=2;for(u=6628;u<=6632;u++)w[u]=0;for(u=6634;u<=6637;u++)w[u]=0;for(u=6669;u<=6692;u++)w[u]=0;for(u=6707;u<=6709;u++)w[u]=0;for(u=6720;u<=6723;u++)w[u]=0;for(u=6732;u<=6738;u++)w[u]=0;for(u=6931;u<=6933;u++)w[u]=0;for(u=6956;u<=6959;u++)w[u]=0;for(u=7005;u<=7007;u++)w[u]=0;for(u=7057;u<=7070;u++)w[u]=2;for(u=7074;u<=7082;u++)w[u]=0;for(u=7109;u<=7118;u++)w[u]=0;for(u=7119;u<=7127;u++)w[u]=1;for(u=7374;u<=7376;u++)w[u]=0;for(u=7528;u<=7586;u++)w[u]=0;for(u=7587;u<=7645;u++)w[u]=2;for(u=7692;u<=7696;u++)w[u]=0;for(u=7755;u<=7787;u++)w[u]=0;for(u=7791;u<=7795;u++)w[u]=0;for(u=7799;u<=7801;u++)w[u]=0;for(u=7803;u<=7805;u++)w[u]=0;for(u=7825;u<=7831;u++)w[u]=0;for(u=7845;u<=7859;u++)w[u]=0;for(u=8013;u<=8032;u++)w[u]=0;for(u=8065;u<=8068;u++)w[u]=1;for(u=8518;u<=8529;u++)w[u]=2;for(u=8533;u<=8536;u++)w[u]=2;for(u=8538;u<=8540;u++)w[u]=2;for(u=8677;u<=8679;u++)w[u]=0;for(u=8836;u<=8840;u++)w[u]=0;for(u=8857;u<=8859;u++)w[u]=0;for(u=8908;u<=8910;u++)w[u]=0;for(u=9154;u<=9159;u++)w[u]=0;for(u=9205;u<=9218;u++)w[u]=0;for(u=9271;u<=9273;u++)w[u]=0;for(u=9295;u<=9297;u++)w[u]=0;for(u=9356;u<=9360;u++)w[u]=0;for(u=9404;u<=9407;u++)w[u]=0;for(u=9476;u<=9482;u++)w[u]=0;for(u=9487;u<=9494;u++)w[u]=0;for(u=9697;u<=9699;u++)w[u]=0;for(u=9821;u<=9865;u++)w[u]=0;for(u=10285;u<=10291;u++)w[u]=0;for(u=10314;u<=10317;u++)w[u]=0;for(u=10448;u<=10465;u++)w[u]=0;for(u=11114;u<=11118;u++)w[u]=0;for(u=20004;u<=20032;u++)w[u]=0;for(u=20047;u<=20049;u++)w[u]=0;for(u=20062;u<=20092;u++)w[u]=0;for(u=20135;u<=20138;u++)w[u]=0;for(u=20248;u<=20258;u++)w[u]=0;for(u=20348;u<=20358;u++)w[u]=0;for(u=20436;u<=20440;u++)w[u]=0;for(u=20822;u<=20824;u++)w[u]=0;for(u=20904;u<=20932;u++)w[u]=0;for(u=20934;u<=20936;u++)w[u]=0;for(u=21004;u<=21032;u++)w[u]=0;for(u=21035;u<=21037;u++)w[u]=0;for(u=21095;u<=21097;u++)w[u]=0;for(u=21148;u<=21150;u++)w[u]=0;for(u=21207;u<=21264;u++)w[u]=0;for(u=21307;u<=21364;u++)w[u]=0;for(u=21413;u<=21423;u++)w[u]=0;for(u=21453;u<=21463;u++)w[u]=0;for(u=21473;u<=21483;u++)w[u]=0;for(u=21780;u<=21782;u++)w[u]=0;for(u=21891;u<=21894;u++)w[u]=0;for(u=21896;u<=21899;u++)w[u]=0;for(u=22171;u<=22177;u++)w[u]=0;for(u=22181;u<=22187;u++)w[u]=0;for(u=22191;u<=22197;u++)w[u]=0;for(u=22207;u<=22222;u++)w[u]=0;for(u=22229;u<=22232;u++)w[u]=0;for(u=22234;u<=22236;u++)w[u]=0;for(u=22243;u<=22250;u++)w[u]=0;for(u=22262;u<=22265;u++)w[u]=0;for(u=22307;u<=22322;u++)w[u]=0;for(u=22348;u<=22357;u++)w[u]=0;for(u=22407;u<=22422;u++)w[u]=0;for(u=22462;u<=22465;u++)w[u]=0;for(u=22521;u<=22525;u++)w[u]=0;for(u=22607;u<=22622;u++)w[u]=0;for(u=22641;u<=22646;u++)w[u]=0;for(u=22648;u<=22657;u++)w[u]=0;for(u=22707;u<=22722;u++)w[u]=0;for(u=22762;u<=22765;u++)w[u]=0;for(u=22807;u<=22822;u++)w[u]=0;for(u=22991;u<=22994;u++)w[u]=0;for(u=23028;u<=23038;u++)w[u]=0;for(u=23301;u<=23333;u++)w[u]=2;for(u=23830;u<=23853;u++)w[u]=0;for(u=23866;u<=23872;u++)w[u]=0;for(u=23877;u<=23884;u++)w[u]=0;for(u=23886;u<=23894;u++)w[u]=0;for(u=23946;u<=23948;u++)w[u]=0;for(u=24311;u<=24313;u++)w[u]=0;for(u=24342;u<=24347;u++)w[u]=0;for(u=24370;u<=24374;u++)w[u]=10;for(u=24375;u<=24381;u++)w[u]=0;for(u=24718;u<=24721;u++)w[u]=0;for(u=24817;u<=24821;u++)w[u]=0;for(u=24877;u<=24882;u++)w[u]=0;for(u=24891;u<=24893;u++)w[u]=0;for(u=25391;u<=25395;u++)w[u]=0;for(u=25828;u<=25838;u++)w[u]=0;for(u=26191;u<=26195;u++)w[u]=0;for(u=26391;u<=26393;u++)w[u]=0;for(u=26701;u<=26722;u++)w[u]=0;for(u=26729;u<=26799;u++)w[u]=2;for(u=26801;u<=26803;u++)w[u]=2;for(u=26811;u<=26813;u++)w[u]=2;for(u=26847;u<=26870;u++)w[u]=2;for(u=26891;u<=26899;u++)w[u]=0;for(u=26901;u<=26923;u++)w[u]=0;for(u=26929;u<=26946;u++)w[u]=0;for(u=26948;u<=26998;u++)w[u]=0;for(u=27037;u<=27040;u++)w[u]=0;for(u=27205;u<=27232;u++)w[u]=0;for(u=27258;u<=27260;u++)w[u]=0;for(u=27391;u<=27398;u++)w[u]=0;for(u=27561;u<=27564;u++)w[u]=0;for(u=27571;u<=27574;u++)w[u]=0;for(u=27581;u<=27584;u++)w[u]=0;for(u=27591;u<=27594;u++)w[u]=0;for(u=28191;u<=28193;u++)w[u]=0;for(u=28348;u<=28358;u++)w[u]=0;for(u=28402;u<=28432;u++)w[u]=0;for(u=28462;u<=28492;u++)w[u]=0;for(u=29118;u<=29122;u++)w[u]=0;for(u=29168;u<=29172;u++)w[u]=0;for(u=29177;u<=29185;u++)w[u]=0;for(u=29187;u<=29195;u++)w[u]=0;for(u=29900;u<=29903;u++)w[u]=0;for(u=30161;u<=30179;u++)w[u]=0;for(u=30491;u<=30494;u++)w[u]=0;for(u=30729;u<=30732;u++)w[u]=0;for(u=31251;u<=31259;u++)w[u]=0;for(u=31265;u<=31268;u++)w[u]=0;for(u=31275;u<=31279;u++)w[u]=0;for(u=31281;u<=31297;u++)w[u]=0;for(u=31461;u<=31469;u++)w[u]=0;for(u=31491;u<=31495;u++)w[u]=0;for(u=31917;u<=31922;u++)w[u]=0;for(u=31965;u<=32e3;u++)w[u]=0;for(u=32001;u<=32003;u++)w[u]=2;for(u=32005;u<=32031;u++)w[u]=2;for(u=32033;u<=32060;u++)w[u]=2;for(u=32064;u<=32067;u++)w[u]=2;for(u=32074;u<=32077;u++)w[u]=2;for(u=32081;u<=32086;u++)w[u]=0;for(u=32107;u<=32130;u++)w[u]=0;for(u=32133;u<=32159;u++)w[u]=0;for(u=32164;u<=32167;u++)w[u]=2;for(u=32180;u<=32199;u++)w[u]=0;for(u=32201;u<=32260;u++)w[u]=0;for(u=32301;u<=32360;u++)w[u]=0;for(u=32401;u<=32460;u++)w[u]=0;for(u=32501;u<=32560;u++)w[u]=0;for(u=32601;u<=32662;u++)w[u]=0;for(u=32664;u<=32667;u++)w[u]=2;for(u=32701;u<=32761;u++)w[u]=0;for(u=53001;u<=53004;u++)w[u]=0;for(u=53008;u<=53019;u++)w[u]=0;for(u=53021;u<=53032;u++)w[u]=0;for(u=53034;u<=53037;u++)w[u]=0;for(u=53042;u<=53046;u++)w[u]=0;for(u=53074;u<=53080;u++)w[u]=0;for(u=54001;u<=54004;u++)w[u]=0;for(u=54008;u<=54019;u++)w[u]=0;for(u=54021;u<=54032;u++)w[u]=0;for(u=54034;u<=54037;u++)w[u]=0;for(u=54042;u<=54046;u++)w[u]=0;for(u=54048;u<=54053;u++)w[u]=0;for(u=54074;u<=54080;u++)w[u]=0;for(u=54098;u<=54101;u++)w[u]=0;for(u=102001;u<=102040;u++)w[u]=0;for(u=102042;u<=102063;u++)w[u]=0;for(u=102065;u<=102067;u++)w[u]=0;for(u=102070;u<=102117;u++)w[u]=0;for(u=102122;u<=102216;u++)w[u]=0;for(u=102221;u<=102377;u++)w[u]=0;for(u=102382;u<=102388;u++)w[u]=0;for(u=102389;u<=102398;u++)w[u]=2;for(u=102399;u<=102444;u++)w[u]=0;for(u=102445;u<=102447;u++)w[u]=2;for(u=102448;u<=102458;u++)w[u]=0;for(u=102459;u<=102468;u++)w[u]=2;for(u=102469;u<=102499;u++)w[u]=0;for(u=102500;u<=102519;u++)w[u]=1;for(u=102520;u<=102524;u++)w[u]=0;for(u=102525;u<=102529;u++)w[u]=2;for(u=102530;u<=102588;u++)w[u]=0;for(u=102590;u<=102598;u++)w[u]=0;for(u=102601;u<=102603;u++)w[u]=0;for(u=102605;u<=102628;u++)w[u]=0;for(u=102629;u<=102646;u++)w[u]=2;for(u=102648;u<=102700;u++)w[u]=2;for(u=102701;u<=102703;u++)w[u]=0;for(u=102707;u<=102730;u++)w[u]=2;for(u=102733;u<=102758;u++)w[u]=2;for(u=102767;u<=102900;u++)w[u]=0;for(u=102901;u<=102933;u++)w[u]=2;for(u=102934;u<=102950;u++)w[u]=13;for(u=102951;u<=102955;u++)w[u]=0;for(u=102961;u<=102963;u++)w[u]=0;for(u=102965;u<=102969;u++)w[u]=0;for(u=102971;u<=102973;u++)w[u]=0;for(u=102975;u<=102989;u++)w[u]=0;for(u=102990;u<=102992;u++)w[u]=1;for(u=102997;u<=103002;u++)w[u]=0;for(u=103003;u<=103008;u++)w[u]=2;for(u=103009;u<=103011;u++)w[u]=0;for(u=103012;u<=103014;u++)w[u]=2;for(u=103019;u<=103021;u++)w[u]=0;for(u=103022;u<=103024;u++)w[u]=2;for(u=103029;u<=103031;u++)w[u]=0;for(u=103032;u<=103034;u++)w[u]=2;for(u=103065;u<=103068;u++)w[u]=0;for(u=103074;u<=103076;u++)w[u]=0;for(u=103077;u<=103079;u++)w[u]=1;for(u=103080;u<=103082;u++)w[u]=0;for(u=103083;u<=103085;u++)w[u]=2;for(u=103090;u<=103093;u++)w[u]=0;for(u=103097;u<=103099;u++)w[u]=0;for(u=103100;u<=103102;u++)w[u]=2;for(u=103107;u<=103109;u++)w[u]=0;for(u=103110;u<=103112;u++)w[u]=2;for(u=103113;u<=103116;u++)w[u]=0;for(u=103117;u<=103120;u++)w[u]=2;for(u=103153;u<=103157;u++)w[u]=0;for(u=103158;u<=103162;u++)w[u]=2;for(u=103163;u<=103165;u++)w[u]=0;for(u=103166;u<=103168;u++)w[u]=1;for(u=103169;u<=103171;u++)w[u]=2;for(u=103186;u<=103188;u++)w[u]=0;for(u=103189;u<=103191;u++)w[u]=2;for(u=103192;u<=103195;u++)w[u]=0;for(u=103196;u<=103199;u++)w[u]=2;for(u=103200;u<=103224;u++)w[u]=0;for(u=103225;u<=103227;u++)w[u]=1;for(u=103232;u<=103237;u++)w[u]=0;for(u=103238;u<=103243;u++)w[u]=2;for(u=103244;u<=103246;u++)w[u]=0;for(u=103247;u<=103249;u++)w[u]=2;for(u=103254;u<=103256;u++)w[u]=0;for(u=103257;u<=103259;u++)w[u]=2;for(u=103264;u<=103266;u++)w[u]=0;for(u=103267;u<=103269;u++)w[u]=2;for(u=103300;u<=103375;u++)w[u]=0;for(u=103381;u<=103383;u++)w[u]=0;for(u=103384;u<=103386;u++)w[u]=1;for(u=103387;u<=103389;u++)w[u]=0;for(u=103390;u<=103392;u++)w[u]=2;for(u=103397;u<=103399;u++)w[u]=0;for(u=103400;u<=103471;u++)w[u]=2;for(u=103476;u<=103478;u++)w[u]=0;for(u=103479;u<=103481;u++)w[u]=2;for(u=103486;u<=103488;u++)w[u]=0;for(u=103489;u<=103491;u++)w[u]=2;for(u=103492;u<=103495;u++)w[u]=0;for(u=103496;u<=103499;u++)w[u]=2;for(u=103528;u<=103543;u++)w[u]=0;for(u=103544;u<=103548;u++)w[u]=2;for(u=103549;u<=103551;u++)w[u]=0;for(u=103552;u<=103554;u++)w[u]=1;for(u=103555;u<=103557;u++)w[u]=2;for(u=103558;u<=103560;u++)w[u]=0;for(u=103571;u<=103573;u++)w[u]=0;for(u=103574;u<=103576;u++)w[u]=2;for(u=103577;u<=103580;u++)w[u]=0;for(u=103581;u<=103583;u++)w[u]=2;for(u=103595;u<=103694;u++)w[u]=0;for(u=103696;u<=103699;u++)w[u]=0;for(u=103700;u<=103793;u++)w[u]=2;for(u=103794;u<=103890;u++)w[u]=0;for(u=103891;u<=103896;u++)w[u]=2;for(u=103900;u<=103971;u++)w[u]=2;for(u=103972;u<=103977;u++)w[u]=0;for(u=112e3;u<=112101;u++)w[u]=0;const bW={102113:!0,102100:!0,3857:!0,3785:!0},SW={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},OM='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Bf=[-20037508342788905e-9,20037508342788905e-9],Hf=[-20037508342787e-6,20037508342787e-6],S4={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Bf,origin:Hf,dx:1e-5},102100:{wkTemplate:OM,valid:Bf,origin:Hf,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Bf,origin:Hf,dx:1e-5},3857:{wkTemplate:OM,valid:Bf,origin:Hf,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function yt(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(e.wkid!=null||t.wkid!=null)return e.wkid===t.wkid||Fl(e)&&Fl(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid;const r=e.wkt2??e.wkt,n=t.wkt2??t.wkt;return!(!r||!n)&&r.toUpperCase()===n.toUpperCase()}function Yr(e){return zt(e)&&e.wkid&&S4[e.wkid]||null}function $4(e){if(!e)return;if(e.wkid)return String(e.wkid);const t=e.wkt||e.wkt2;return JSON.stringify(t?{wkt:t}:{})}function F$(e){if(!zt(e))return!1;if(e.wkid)return w[e.wkid]==null;const t=e.wkt2||e.wkt;return!!t&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(t)}function $W(e){return!(z$(e)||V$(e))}function vp(e){return zt(e)&&e.wkid===4326}function Que(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function ece(e){return zt(e)&&e.wkid===Dl.CGCS2000}function Fl(e){return zt(e)&&e.wkid!=null&&bW[e.wkid]===!0}function xW(e){return zt(e)&&e.wkid===32662}function j$(e){return e===Dl.GCSMARS2000||e===Dl.GCSMARS2000_SPHERE}function z$(e){return zt(e)&&e.wkid!=null&&j$(e.wkid)}function U$(e){return e===Dl.GCSMOON2000}function V$(e){return zt(e)&&e.wkid!=null&&U$(e.wkid)}function TW(e){return zt(e)&&e.wkid!=null&&SW[e.wkid]===!0}function zt(e){return e!=null&&(e.wkid!=null&&e.wkid>=2e3||e.wkt2!=null||e.wkt!=null)}const MW={wkid:4326,wkt:d$(S4[4326].wkTemplate,{Central_Meridian:"0.0"})},kW={wkid:102100,latestWkid:3857},EW={wkid:32662};function G$(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const PW=G$(Ve),W$=G$(Cs),B$=G$(Qo),CW={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ve.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function OW(e){return e!=null&&(z$(e)||yt(e,W$))?Cs:e!=null&&(V$(e)||yt(e,B$))?Qo:Ve}function tce(e){return j$(e)?Cs:U$(e)?Qo:Ve}function I0(e){return yt(e,PW)}function ea(e){return I0(e)||yt(e,W$)||yt(e,B$)}const rce=39.37,IW=Ve.radius*Math.PI/200,x4=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,$l=w,T4=/UNIT\[([^\]]+)]/i,AW=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),LW=Fr()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),vi=e=>e*e,Gs=e=>e*e*e,wp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:vi(.001)},"square-centimeters":{inBaseUnits:vi(.01)},"square-decimeters":{inBaseUnits:vi(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:vi(1e3)},"square-inches":{inBaseUnits:vi(.0254)},"square-feet":{inBaseUnits:vi(.3048)},"square-yards":{inBaseUnits:vi(.9144)},"square-miles":{inBaseUnits:vi(1609.344)},"square-us-feet":{inBaseUnits:vi(1200/3937)},acres:{inBaseUnits:.0015625*vi(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Gs(.001)},"cubic-centimeters":{inBaseUnits:1e3*Gs(.01)},"cubic-decimeters":{inBaseUnits:1e3*Gs(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Gs(1e3)},"cubic-inches":{inBaseUnits:1e3*Gs(.0254)},"cubic-feet":{inBaseUnits:1e3*Gs(.3048)},"cubic-yards":{inBaseUnits:1e3*Gs(.9144)},"cubic-miles":{inBaseUnits:1e3*Gs(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},RW=(()=>{const e={};for(const t in wp)for(const r in wp[t].units)e[r]=t;return e})();function NW(e,t,r){return e*wp[r].units[t].inBaseUnits}function DW(e,t,r){return e/wp[r].units[t].inBaseUnits}function J_(e){const t=RW[e];if(!t)throw new Error("unknown type");return t}function IM(e,t=null){return t=t||J_(e),wp[t].baseUnit===e}function ln(e,t,r){if(t===r)return e;const n=J_(t);if(n!==J_(r))throw new Error("incompatible units");const i=IM(t,n)?e:NW(e,t,n);return IM(r,n)?i:DW(i,r,n)}function FW(e,t,r){return ln(e,t,"meters")/(r*Math.PI/180)}function M4(e){return LW.fromJSON(e.toLowerCase())||null}function AM(e){if(e!=null&&!$W(e))return 1;const t=eu(e);return t>1e5?1:t}function jW(e){return eu(e)>=OW(e).metersPerDegree?"meters":E4(e)}function eu(e,t=Ve.metersPerDegree){return zW(e,!0)??t}function zW(e,t=!1){const r=(e==null?void 0:e.wkid)??null,n=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let i=null;if(r){if(j$(r))return Cs.metersPerDegree;if(U$(r))return Qo.metersPerDegree;i=$l.values[$l[r]],!i&&t&&AW.has(r)&&(i=IW)}else n&&(C4(n)?i=LM(x4.exec(n),i):P4(n)&&(i=LM(T4.exec(n),i)));return i}function nce(e){return F$(e)?1:eu(e)}function LM(e,t){return e!=null&&e[1]?k4(e[1]):t}function k4(e){return parseFloat(e.split(",")[1])}function E4(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(t)n=$l.units[$l[t]];else if(r){const i=C4(r)?x4:P4(r)?T4:null;if(i){const s=i.exec(r);s!=null&&s[1]&&(n=VW(s[1]))}}return n!=null?M4(n):null}function P4(e){return/^GEOCCS/i.test(e)}function C4(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const UW=1e-7;function VW(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!$l.units.includes(r)){const n=k4(e);r=null;const i=$l.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<UW){r=$l.units[s];break}}return r}const GW={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},WW={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},BW={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},ice=Fr()(GW),sce=Fr()(WW),oce=Fr()(BW);var bi;let _e=bi=class extends ne{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return bi.WebMercator;if(e.wkid===4326)return bi.WGS84}const t=new bi;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return vp(this)}get isWebMercator(){return Fl(this)}get isGeographic(){return F$(this)}get isWrappable(){return TW(this)}get metersPerUnit(){return eu(this)}get unit(){return E4(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===bi.WGS84)return bi.WGS84;if(this===bi.WebMercator)return bi.WebMercator;const e=new bi;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=j(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return yt(this,e)}toJSON(e){return this.write(void 0,e)}};_e.GCS_NAD_1927=null,_e.WGS84=null,_e.WebMercator=null,_e.PlateCarree=null,h([p({readOnly:!0})],_e.prototype,"isWGS84",null),h([p({readOnly:!0})],_e.prototype,"isWebMercator",null),h([p({readOnly:!0})],_e.prototype,"isGeographic",null),h([p({readOnly:!0})],_e.prototype,"isWrappable",null),h([p({type:ft,json:{write:!0}})],_e.prototype,"latestWkid",void 0),h([p({readOnly:!0})],_e.prototype,"metersPerUnit",null),h([p({readOnly:!0})],_e.prototype,"unit",null),h([p({type:ft,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],_e.prototype,"wkid",void 0),h([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],_e.prototype,"wkt",void 0),h([Pe("wkt"),Pe("web-scene","wkt")],_e.prototype,"writeWkt",null),h([p({type:String,json:{write:!1}})],_e.prototype,"wkt2",void 0),h([p({type:ft,json:{write:!0}})],_e.prototype,"vcsWkid",void 0),h([p({type:ft,json:{write:!0}})],_e.prototype,"latestVcsWkid",void 0),h([p()],_e.prototype,"imageCoordinateSystem",void 0),_e=bi=h([P("esri.geometry.SpatialReference")],_e),_e.prototype.toJSON.isDefaultToJSON=!0,_e.GCS_NAD_1927=new _e({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),_e.WGS84=new _e(MW),_e.WebMercator=new _e(kW),_e.PlateCarree=new _e(EW),Object.freeze&&(Object.freeze(_e.GCS_NAD_1927),Object.freeze(_e.WGS84),Object.freeze(_e.WebMercator));const $e=_e;let Si=class extends ne{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=$e.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof $e)return t;if(t!=null){const n=new $e;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};h([p()],Si.prototype,"type",void 0),h([p({readOnly:!0})],Si.prototype,"cache",null),h([p({readOnly:!0})],Si.prototype,"extent",null),h([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Si.prototype,"hasM",void 0),h([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Si.prototype,"hasZ",void 0),h([p({type:$e,json:{write:!0},value:$e.WGS84})],Si.prototype,"spatialReference",void 0),h([Re("spatialReference")],Si.prototype,"readSpatialReference",null),Si=h([P("esri.geometry.Geometry")],Si);const fa=Si;function HW(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}const qW=57.29577951308232,ZW=.017453292519943;function RM(e){return e*qW}function NM(e){return e*ZW}function lce(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Ve.radius))}function Y_(e){return e.wkid!=null||e.wkt!=null}const _v=[0,0];function A0(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,_v,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,_v,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,_v,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let d=0;d<a.length;d++){const f=a[d];c=[],l.push(c);for(let m=0;m<f.length;m++)c.push(t(f[m][0],f[m][1],[0,0],n)),f[m].length>2&&c[m].push(f[m][2]),f[m].length>3&&c[m].push(f[m][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],n),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return i}function Zm(e,t){const r=e&&(Y_(e)?e:e.spatialReference),n=t&&(Y_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!yt(n,r)||Fl(n)&&vp(r)||Fl(r)&&vp(n))}function Xg(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(Y_(t)?t:t.spatialReference);return Zm(r,n)?yt(r,n)?j(e):Fl(n)?A0(e,Ku,$e.WebMercator,!1,j(e)):vp(n)?A0(e,Id,$e.WGS84,!1,j(e)):null:null}function Ku(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=NM(t);return r[0]=NM(e)*Ve.radius,r[1]=Ve.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function Id(e,t,r=[0,0],n=!1){const i=RM(e/Ve.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=RM(Math.PI/2-2*Math.atan(Math.exp(-t/Ve.radius))),r}function xl(e,t=!1,r=j(e)){return A0(e,Ku,$e.WebMercator,t,r)}function Dh(e,t=!1,r=j(e)){return A0(e,Id,$e.WGS84,t,r)}var Jm;const yh=[0,0];function DM(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let hr=Jm=class extends fa{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new $e(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)W.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)W.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i&&i.isWebMercator){const a=Ku(s.longitude,s.latitude,yh);e=a[0],t=a[1]}}}else DM(r)?(i=r,r=null):DM(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?W.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&W.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Id(t,r,yh)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Ku(r,e,yh)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Id(e,t,yh)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Ku(e,t,yh)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Jm;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Jm.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,c]=Ku(l,c),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,c]=Id(l,c),d=s}return t===l&&r===c&&n===o&&i===a&&s.wkid===d.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Yr(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return HW(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};h([p({readOnly:!0})],hr.prototype,"cache",null),h([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],hr.prototype,"hasM",null),h([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],hr.prototype,"hasZ",null),h([p({type:Number})],hr.prototype,"latitude",null),h([p({type:Number})],hr.prototype,"longitude",null),h([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),_r(e=>isNaN(e)?e:Xn(e))],hr.prototype,"x",void 0),h([Pe("x")],hr.prototype,"writeX",null),h([Re("x")],hr.prototype,"readX",null),h([p({type:Number,json:{write:!0}})],hr.prototype,"y",void 0),h([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],hr.prototype,"z",void 0),h([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],hr.prototype,"m",void 0),hr=Jm=h([P("esri.geometry.Point")],hr),hr.prototype.toJSON.isDefaultToJSON=!0;const ue=hr;let ss=class extends zs(ne){constructor(...t){super(...t),this.position=new ue([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=Xn(t.x||0),s.y=Xn(t.y||0),s.z=t.hasZ?Xn(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new ue;return n.read(t,r),n.x=Xn(n.x||0),n.y=Xn(n.y||0),n.z=n.hasZ?Xn(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}};h([p({type:ue,json:{write:{isRequired:!0}}})],ss.prototype,"position",void 0),h([Pe("position")],ss.prototype,"writePosition",null),h([Re("position")],ss.prototype,"readPosition",null),h([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),_r(e=>iG.normalize(Xn(e)))],ss.prototype,"heading",void 0),h([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),_r(e=>Bi(Xn(e),-180,180))],ss.prototype,"tilt",void 0),h([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ss.prototype,"fov",void 0),ss=h([P("esri.Camera")],ss);const JW=ss,bv=[0,0];function Qg(e,t){return t!=null&&fr(e,t.x,t.y,t.z)}function cce(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Ac(e,r))return!1;return!0}function YW(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?fr(e,r,n,i)&&fr(e,r,o,i)&&fr(e,s,o,i)&&fr(e,s,n,i)&&fr(e,r,n,a)&&fr(e,r,o,a)&&fr(e,s,o,a)&&fr(e,s,n,a):fr(e,r,n)&&fr(e,r,o)&&fr(e,s,o)&&fr(e,s,n)}function Ac(e,t){return fr(e,t[0],t[1])}function KW(e,t){return fr(e,t[0],t[1],t[2])}function fr(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function O4(e,t){return bv[1]=t.y,bv[0]=t.x,XW(e,bv)}function XW(e,t){return I4(e.rings,t)}function I4(e,t){if(!e)return!1;if(QW(e))return FM(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=FM(r,e[n],t);return r}function QW(e){return!Array.isArray(e[0][0])}function FM(e,t,r){const[n,i]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,d]=t[a],[f,m]=t[o];(d<i&&m>=i||m<i&&d>=i)&&c+(i-d)/(m-d)*(f-c)<n&&(s=!s)}return s}function eB(e,t){return Qg(e,t)}function tB(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function rB(e,t){const{points:r,hasZ:n}=t,i=n?KW:Ac;for(const s of r)if(i(e,s))return!0;return!1}const jl=[0,0],zl=[0,0],Ul=[0,0],Vl=[0,0],nB=[jl,zl,Ul,Vl],A4=[[Ul,jl],[jl,zl],[zl,Vl],[Vl,Ul]];function iB(e,t){return sB(e,t.rings)}function sB(e,t){jl[0]=e.xmin,jl[1]=e.ymax,zl[0]=e.xmax,zl[1]=e.ymax,Ul[0]=e.xmin,Ul[1]=e.ymin,Vl[0]=e.xmax,Vl[1]=e.ymin;for(const r of nB)if(I4(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(Ac(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(Ac(e,s)||L4(n,s,A4))return!0;n=s}}return!1}function oB(e,t){jl[0]=e.xmin,jl[1]=e.ymax,zl[0]=e.xmax,zl[1]=e.ymax,Ul[0]=e.xmin,Ul[1]=e.ymin,Vl[0]=e.xmax,Vl[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(Ac(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(Ac(e,o)||L4(i,o,A4))return!0;i=o}}return!1}const Lt=[0,0];function aB(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],d=e[a][l+1];if(K_(s,o,c,d,Lt)&&!(Lt[0]===s[0]&&Lt[1]===s[1]||Lt[0]===c[0]&&Lt[1]===c[1]||Lt[0]===o[0]&&Lt[1]===o[1]||Lt[0]===d[0]&&Lt[1]===d[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],a=r[i+1];for(let l=i+2;l<s;l++){const c=r[l],d=r[l+1];if(K_(o,a,c,d,Lt)&&!(Lt[0]===o[0]&&Lt[1]===o[1]||Lt[0]===c[0]&&Lt[1]===c[1]||Lt[0]===a[0]&&Lt[1]===a[1]||Lt[0]===d[0]&&Lt[1]===d[1]))return!0}}}return!1}function L4(e,t,r){for(let n=0;n<r.length;n++)if(K_(e,t,r[n][0],r[n][1]))return!0;return!1}function K_(e,t,r,n,i){const[s,o]=e,[a,l]=t,[c,d]=r,[f,m]=n,y=f-c,g=s-c,v=a-s,$=m-d,_=o-d,b=l-o,S=$*v-y*b;if(S===0)return!1;const x=(y*_-$*g)/S,M=(v*_-b*g)/S;return x>=0&&x<=1&&M>=0&&M<=1&&(i&&(i[0]=s+x*(a-s),i[1]=o+x*(l-o)),!0)}function lB(e){switch(e){case"esriGeometryEnvelope":case"extent":return tB;case"esriGeometryMultipoint":case"multipoint":return rB;case"esriGeometryPoint":case"point":return eB;case"esriGeometryPolygon":case"polygon":return iB;case"esriGeometryPolyline":case"polyline":return oB}}var un;function uB(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ws(e,t,r){return t==null?r:r==null?t:e(t,r)}let Mt=un=class extends fa{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return uB(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?$e.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??$e.WGS84}}static fromBounds(e,t){return new un({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new un({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new ue({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new un;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Zm(t,r)&&(e=t.isWebMercator?xl(e):Dh(e,!0)),e.type==="point"?Qg(this,e):e.type==="extent"&&YW(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Zm(t,r)&&(e=t.isWebMercator?xl(e):Dh(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!yt(t,r)&&Zm(t,r)&&(e=t.isWebMercator?xl(e):Dh(e,!0)),lB(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ws(Math.min,this.zmin,e.zmin),this.zmax=Ws(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ws(Math.min,this.mmin,e.mmin),this.mmax=Ws(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ws(Math.max,this.zmin,e.zmin),this.zmax=Ws(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ws(Math.max,this.mmin,e.mmin),this.mmax=Ws(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Yr(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?Dh(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new $e(d$((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??Yr(n);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const d=(l.zmax-l.zmin)/2;for(let f=0;f<c.length;f++)c[f].push(d)}if(a){const d=(l.mmax-l.mmin)/2;for(let f=0;f<c.length;f++)c[f].push(d)}return c}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let d;e=e||Yr(o);const[f,m]=e.valid;d=this._normalizeX(this.xmin,e);const y=d.x,g=d.frameId;d=this._normalizeX(this.xmax,e);const v=d.x,$=d.frameId,_=y===v&&a>0;if(a>2*m){const b=new un(l<c?y:v,i,m,s,o),S=new un(f,i,l<c?v:y,s,o),x=new un(0,i,m,s,o),M=new un(f,i,0,s,o),k=[],O=[];b.contains(x)&&k.push(g),b.contains(M)&&O.push(g),S.contains(x)&&k.push($),S.contains(M)&&O.push($);for(let A=g+1;A<$;A++)k.push(A),O.push(A);t.push({extent:b,frameIds:[g]},{extent:S,frameIds:[$]},{extent:x,frameIds:k},{extent:M,frameIds:O})}else y>v||_?t.push({extent:new un(y,i,m,s,o),frameIds:[g]},{extent:new un(f,i,v,s,o),frameIds:[$]}):t.push({extent:new un(y,i,v,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}_normalizeX(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}};h([p({readOnly:!0})],Mt.prototype,"cache",null),h([p({readOnly:!0})],Mt.prototype,"center",null),h([p({readOnly:!0})],Mt.prototype,"extent",null),h([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Mt.prototype,"hasM",null),h([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Mt.prototype,"hasZ",null),h([p({readOnly:!0})],Mt.prototype,"height",null),h([p({readOnly:!0})],Mt.prototype,"width",null),h([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Mt.prototype,"xmin",void 0),h([p({type:Number,json:{write:!0}})],Mt.prototype,"ymin",void 0),h([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Mt.prototype,"mmin",void 0),h([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Mt.prototype,"zmin",void 0),h([p({type:Number,json:{write:!0}})],Mt.prototype,"xmax",void 0),h([p({type:Number,json:{write:!0}})],Mt.prototype,"ymax",void 0),h([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Mt.prototype,"mmax",void 0),h([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Mt.prototype,"zmax",void 0),Mt=un=h([P("esri.geometry.Extent")],Mt),Mt.prototype.toJSON.isDefaultToJSON=!0;const et=Mt;function Lc(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var X_;function jM(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function cB(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let to=X_=class extends fa{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var i;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):cB(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=(i=r.points)==null?void 0:i[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new et,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=jM(Math.min),a=jM(Math.max);let l,c,d,f,[m,y]=s,[g,v]=s;for(let $=0,_=e.length;$<_;$++){const b=e[$],[S,x]=b;if(m=o(m,S),y=o(y,x),g=a(g,S),v=a(v,x),r&&b.length>2){const M=b[2];l=o(l,M),d=a(d,M)}if(n&&b.length>i){const M=b[i];c=o(c,M),f=a(f,M)}}return t.xmin=m,t.ymin=y,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=c,t.mmax=f):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=j(this.points)}addPoint(e){return Lc(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:j(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new X_(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new ue(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new ue(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Lc(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};h([p({readOnly:!0})],to.prototype,"cache",null),h([p()],to.prototype,"extent",null),h([p({type:[[Number]],json:{write:{isRequired:!0}}})],to.prototype,"points",void 0),h([Pe("points")],to.prototype,"writePoints",null),to=X_=h([P("esri.geometry.Multipoint")],to),to.prototype.toJSON.isDefaultToJSON=!0;const e1=to;function hce(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function hB(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var L0;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(L0||(L0={}));function R4(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function dB(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function pB(e,t,r,n){return fB(e,t,r[n],r[n+1])}function fB(e,t,r,n){const[i,s]=t,[o,a]=r,[l,c]=n,d=l-o,f=c-a,m=d*d+f*f,y=(i-o)*d+(s-a)*f,g=Math.min(1,Math.max(0,y/m));return e[0]=o+d*g,e[1]=a+f*g,e}function N4(e,t){return dB(e,t,.5)}function D4(e,t=L0.X,r=L0.Y){let n=0;const i=e.length;let s=e[0];for(let o=0;o<i-1;o++){const a=e[o+1];n+=(a[t]-s[t])*(a[r]+s[r]),s=a}return n>=0}function mB(e){const t=e.length;return t>2&&jg(e[0],e[t-1])}function dce(e){if("rings"in e&&(yB(e),e.rings.length>0&&!D4(e.rings[0])))for(const t of e.rings)t.reverse()}function yB(e){if("rings"in e)for(const t of e.rings)mB(t)||t.push(t[0].slice())}function pce(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function gB(e){return e?vB(e.rings,e.hasZ??!1):null}function vB(e,t){if(!(e!=null&&e.length))return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=F4(e[s],t,i);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?wB(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function F4(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const y=e[m],g=e[(m+1)%e.length],[v,$,_]=y,b=v-l,S=$-c,[x,M,k]=g,O=x-l,A=M-c,V=b*A-O*S;if(o+=V,n+=(b+O)*V,i+=(S+A)*V,t&&y.length>2&&g.length>2){const F=_-d,q=k-d,X=b*q-O*F;s+=(F+q)*X,a+=X}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),$<r[2]&&(r[2]=$),$>r[3]&&(r[3]=$),t&&(_<r[4]&&(r[4]=_),_>r[5]&&(r[5]=_))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const f=[n/(6*o)+l,i/(6*o)+c,o];return t&&(r[4]===r[5]||a===0?(f[3]=(r[4]+r[5])/2,f[4]=0):(f[3]=s/(6*a)+d,f[4]=a)),f}function fce(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[d,f]=l,m=d-s,y=f-o,[g,v]=c,$=g-s,_=v-o,b=m*_-$*y;i+=b,r+=(m+$)*b,n+=(y+_)*b,d<t[0]&&(t[0]=d),d>t[1]&&(t[1]=d),f<t[2]&&(t[2]=f),f>t[3]&&(t[3]=f)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null}function wB(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const d=e[l],f=e[l+1];if(d&&f){r[0]=d[0],r[1]=d[1],n[0]=f[0],n[1]=f[1],t&&d.length>2&&f.length>2&&(r[2]=d[2],n[2]=f[2]);const m=R4(r,n);if(m){i+=m;const y=N4(d,f);s+=m*y[0],o+=m*y[1],t&&y.length>2&&(a+=m*y[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}function _B(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=F4(hB(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const o=e.pathSize?bB(e):null;if(!o)return null;n[0]=o[0],n[1]=o[1],t&&o.length>2&&(n[2]=o[2])}return n}function bB(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,d=e.z;for(;e.nextPoint();){const f=e.x,m=e.y,y=e.z;r[0]=l,r[1]=c,n[0]=f,n[1]=m,t&&(r[2]=d,n[2]=y);const g=R4(r,n);if(g){i+=g;const v=N4(r,n);s+=g*v[0],o+=g*v[1],t&&v.length>2&&(a+=g*v[2])}l=f,c=m,d=y}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const SB=1e-6;function mce(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<SB){const i=_B(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)xB(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const $B=1/3;function xB(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,a=r.y-i,l=0,c=0;for(;r.nextPoint();)l=r.x-n,c=r.y-i,s=.5*$B*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const d=r.getCurrentRingArea(),f=[n,i];return f[0]-=t[0],f[1]-=t[1],f[0]*=d,f[1]*=d,e[0]+=f[0],e[1]+=f[1],e}function qi(e=EB){return[e[0],e[1],e[2],e[3]]}function yce(e){return[e[0],e[1],e[2],e[3]]}function j4(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function gce(e,t,r,n,i=qi()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function vce(e,t=qi()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function wce(e,t){return new et({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function _ce(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function bce(e,t,r){if(t!=null)if("length"in t)Q_(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else j4(r,e)}function TB(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function MB(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function Sce(e){return TB(e)*MB(e)}function $ce(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function xce(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function Tce(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function kB(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Mce(e){return e?j4(e,zM):qi(zM)}function Q_(e){return e!=null&&e.length===4}function kce(e,t){return Q_(e)&&Q_(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const zM=[1/0,1/0,-1/0,-1/0],EB=[0,0,0,0];function z4(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function U4(e){return e.points!==void 0}function V4(e){return e.x!==void 0&&e.y!==void 0}function G4(e){return e.paths!==void 0}function W4(e){return e.rings!==void 0}function B4(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const No=B4(Math.min),Do=B4(Math.max);function Ece(e,t){return G4(t)?Rc(e,t.paths,!1,!1):W4(t)?Rc(e,t.rings,!1,!1):U4(t)?H$(e,t.points,!1,!1,!1,!1):z4(t)?H4(e,t):(V4(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Pce(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const s=PB(e);t=Math.min(s[0],t),n=Math.min(s[1],n),r=Math.max(s[2],r),i=Math.max(s[3],i)}return qi([t,n,r,i])}function PB(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return qi([t,n,r,i])}function Cce(e,t){return G4(t)?Rc(e,t.paths,!0,!1):W4(t)?Rc(e,t.rings,!0,!1):U4(t)?H$(e,t.points,!0,!1,!0,!1):z4(t)?H4(e,t,!0,!1,!0,!1):(V4(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Rc(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,d]=t[0][0],[f,m]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let v=0;v<g.length;v++){const $=g[v],[_,b]=$;if(c=No(c,_),d=No(d,b),f=Do(f,_),m=Do(m,b),r&&$.length>2){const S=$[2];s=No(s,S),o=Do(o,S)}if(n&&$.length>i){const S=$[i];a=No(s,S),l=Do(o,S)}}}return r?n?(e[0]=c,e[1]=d,e[2]=s,e[3]=a,e[4]=f,e[5]=m,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=s,e[3]=f,e[4]=m,e[5]=o,e.length=6,e):n?(e[0]=c,e[1]=d,e[2]=a,e[3]=f,e[4]=m,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=f,e[3]=m,e.length=4,e)}function H4(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let d=t.zmin,f=t.zmax,m=t.mmin,y=t.mmax;return i?(d=d||0,f=f||0,s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=d,e[3]=m,e[4]=a,e[5]=c,e[6]=f,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=c,e[5]=f,e)):s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=m,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function H$(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let c,d,f,m,[y,g]=t[0],[v,$]=t[0];for(let _=0;_<t.length;_++){const b=t[_],[S,x]=b;if(y=No(y,S),g=No(g,x),v=Do(v,S),$=Do($,x),l&&b.length>2){const M=b[2];c=No(c,M),d=Do(d,M)}if(a&&b.length>o){const M=b[o];f=No(c,M),m=Do(d,M)}}return i?(c=c||0,d=d||0,s?(f=f||0,m=m||0,e[0]=y,e[1]=g,e[2]=c,e[3]=f,e[4]=v,e[5]=$,e[6]=d,e[7]=m,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=v,e[4]=$,e[5]=d,e)):s?(f=f||0,m=m||0,e[0]=y,e[1]=g,e[2]=f,e[3]=v,e[4]=$,e[5]=m,e):(e[0]=y,e[1]=g,e[2]=v,e[3]=$,e)}function CB(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function OB(e){return e.points!==void 0}function IB(e){return e.x!==void 0&&e.y!==void 0}function AB(e){return e.paths!==void 0}function LB(e){return e.rings!==void 0}const q$=[];function q4(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function Z4(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function J4(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function Y4(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function Z$(e,t=!1,r=!1){return t?r?Y4(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Z4(e[0],e[1],e[2],e[3],e[4],e[5]):r?J4(e[0],e[1],e[2],e[3],e[4],e[5]):q4(e[0],e[1],e[2],e[3])}function Oce(e){return e?CB(e)?e:IB(e)?NB(e):LB(e)?K4(e):AB(e)?X4(e):OB(e)?RB(e):null:null}function RB(e){const{hasZ:t,hasM:r,points:n}=e;return Z$(H$(q$,n,t??!1,r??!1),t,r)}function NB(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?Y4(t,r,n,i,t,r,n,i):Z4(t,r,n,t,r,n):s?J4(t,r,i,t,r,i):q4(t,r,t,r)}function K4(e){const{hasZ:t,hasM:r,rings:n}=e,i=Rc(q$,n,t??!1,r??!1);return i?Z$(i,t,r):null}function X4(e){const{hasZ:t,hasM:r,paths:n}=e,i=Rc(q$,n,t??!1,r??!1);return i?Z$(i,t,r):null}var Ym;function UM(e){return!Array.isArray(e[0])}let $i=Ym=class extends fa{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new Ym(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||$e.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=s.length>3):r===void 0?r=n?s.length>3:s.length>2:n===void 0&&(n=r?s.length>3:s.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=gB(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new ue;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=K4(this);if(!t)return null;const r=new et(t);return r.spatialReference=e,r}get isSelfIntersecting(){return aB(this.rings)}writeRings(e,t){t.rings=j(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(UM(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new Ym;return e.spatialReference=this.spatialReference,e.rings=j(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,a],[l,c,d,f])=>i===l&&s===c&&(o==null&&d==null||o===d)&&(a==null&&f==null||a===f);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!jg(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=Xg(e,this.spatialReference);return O4(this,t??e)}isClockwise(e){let t;return t=UM(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,D4(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new ue(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new ue(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new ue(r[0],r[1],r[2],r[3],this.spatialReference):new ue(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Lc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ue(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new ue(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(Lc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};h([p({readOnly:!0})],$i.prototype,"cache",null),h([p({readOnly:!0})],$i.prototype,"centroid",null),h([p({readOnly:!0})],$i.prototype,"extent",null),h([p({readOnly:!0})],$i.prototype,"isSelfIntersecting",null),h([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],$i.prototype,"rings",void 0),h([Pe("rings")],$i.prototype,"writeRings",null),$i=Ym=h([P("esri.geometry.Polygon")],$i),$i.prototype.toJSON.isDefaultToJSON=!0;const ta=$i;var e2;function DB(e){return!Array.isArray(e[0])}let ro=e2=class extends fa{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||$e.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=!1):r===void 0?r=!n&&s.length>3:n===void 0&&(n=!r&&s.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=X4(this);if(!t)return null;const r=new et(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=j(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(DB(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new e2;return e.spatialReference=this.spatialReference,e.paths=j(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new ue(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new ue(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new ue(r[0],r[1],r[2],r[3],this.spatialReference):new ue(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Lc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new ue(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ue(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Lc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};h([p({readOnly:!0})],ro.prototype,"cache",null),h([p({readOnly:!0})],ro.prototype,"extent",null),h([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],ro.prototype,"paths",void 0),h([Pe("paths")],ro.prototype,"writePaths",null),ro=e2=h([P("esri.geometry.Polyline")],ro),ro.prototype.toJSON.isDefaultToJSON=!0;const ei=ro,Ice=Fr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Ace=Fr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function Q4(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function e5(e){return e.points!==void 0}function t5(e){return e.x!==void 0&&e.y!==void 0}function r5(e){return e.paths!==void 0}function J$(e){return e.rings!==void 0}function _p(e){return e==null?null:e instanceof fa?e:t5(e)?ue.fromJSON(e):r5(e)?ei.fromJSON(e):J$(e)?ta.fromJSON(e):e5(e)?e1.fromJSON(e):Q4(e)?et.fromJSON(e):null}function Y$(e){return e?t5(e)?"esriGeometryPoint":r5(e)?"esriGeometryPolyline":J$(e)?"esriGeometryPolygon":Q4(e)?"esriGeometryEnvelope":e5(e)?"esriGeometryMultipoint":null:null}const FB={esriGeometryPoint:ue,esriGeometryPolyline:ei,esriGeometryPolygon:ta,esriGeometryEnvelope:et,esriGeometryMultipoint:e1};function jB(e){return e&&FB[e]||null}const K$={base:fa,key:"type",typeMap:{extent:et,multipoint:e1,point:ue,polyline:ei,polygon:ta}};Nl(K$);var t2;let no=t2=class extends ne{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new t2({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};function Sv(){return{enabled:!this.camera}}h([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Sv}}}}})],no.prototype,"rotation",void 0),h([_r("rotation")],no.prototype,"castRotation",null),h([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Sv}}}}})],no.prototype,"scale",void 0),h([p({types:K$,json:{read:_p,write:!0,origins:{"web-scene":{read:_p,write:{overridePolicy:Sv}}}}})],no.prototype,"targetGeometry",void 0),h([p({type:JW,json:{write:!0}})],no.prototype,"camera",void 0),no=t2=h([P("esri.Viewpoint")],no);const Wi=no;let Km=class n5{constructor(){this._emitter=new n5.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){var i;(i=this._listenersMap)==null||i.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){var c;let o=(c=this._listenersMap)==null?void 0:c.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const d of o.slice()){const f="deref"in d?d.deref():d;f?f==null||f.call(a,s):l=!0}return l&&(o=o.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return Hp(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),je(()=>{var c;const a=(c=this._listenersMap)==null?void 0:c.get(i),l=(a==null?void 0:a.indexOf(s))??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove();const l="deref"in s?s.deref():s;l==null||l.call(null,a)});return o}hasEventListener(i){var o;const s=(o=this._listenersMap)==null?void 0:o.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=h([P("esri.core.Evented")],i),i};let r=class extends te{constructor(){super(...arguments),this._emitter=new Km.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=h([P("esri.core.Evented")],r),e.EventedAccessor=r})(Km||(Km={}));const tu=Km;var xe;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(xe||(xe={}));function i5(e){return(t,r)=>{t[r]=e}}let Qp=class extends HI{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var bs;let zB=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},UB=class{constructor(t,r,n,i,s){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=s}};const on=new Xl(zB,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function $v(e){return e?e instanceof el?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function xv(e){if(e!=null&&e.length)return e[0]}function VB(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function s5(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),s5(e,r.call(n,i,s,o),r,n)})}const Bs=new Set,Hs=new Set,qs=new Set,Tv=new Map;let GB=0,el=bs=class extends tu.EventedAccessor{static isCollection(e){return e!=null&&e instanceof bs}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new Qp,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:GB++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof bs?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return ee(this._observable),this._items}set items(e){this._emitBeforeChanges(xe.ADD)||(this._splice(0,this.length,$v(e)),this._emitAfterChanges(xe.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),je(()=>{n.removed=!0,r.splice(r.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,n=this.on(e,i=>{var s;(s=r())==null||s.call(null,i),n.remove()});return n}add(e,t){if(ee(this._observable),this._emitBeforeChanges(xe.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(xe.ADD),this}addMany(e,t=this._items.length){if(ee(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(xe.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,$v(e)),this._emitAfterChanges(xe.ADD),this}at(e){if(ee(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(ee(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(xe.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return ee(this._observable),this._createNewInstance({items:this._items.map(j)})}concat(...e){ee(this._observable);const t=e.map($v);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(ee(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(xe.REMOVE)}every(e,t){return ee(this._observable),this._items.every(e,t)}filter(e,t){let r;return ee(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return ee(this._observable),this._items.find(e,t)}findIndex(e,t){return ee(this._observable),this._items.findIndex(e,t)}flatten(e,t){ee(this._observable);const r=[];return s5(r,this,e,t),new bs(r)}forEach(e,t){return ee(this._observable),this._items.forEach(e,t)}getItemAt(e){return ee(this._observable),this._items[e]}getNextIndex(e){ee(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return ee(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return ee(this._observable),this._items.indexOf(e,t)}join(e=","){return ee(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return ee(this._observable),this._items.lastIndexOf(e,t)}map(e,t){ee(this._observable);const r=this._items.map(e,t);return new bs({items:r})}reorder(e,t=this.length-1){ee(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(xe.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(xe.MOVE)}return e}}pop(){if(ee(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const e=xv(this._splice(this.length-1,1));return this._emitAfterChanges(xe.REMOVE),e}push(...e){return ee(this._observable),this._emitBeforeChanges(xe.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(xe.ADD)),this.length}reduce(e,t){ee(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){ee(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return ee(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(ee(this._observable),e<0||e>=this.length||this._emitBeforeChanges(xe.REMOVE))return;const t=xv(this._splice(e,1));return this._emitAfterChanges(xe.REMOVE),t}removeMany(e){if(ee(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(xe.REMOVE))return[];const t=e instanceof bs?e.toArray():e,r=this._items,n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+VB(t,r,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&n.push.apply(n,c),s+=l-1}}return this._emitAfterChanges(xe.REMOVE),n}reverse(){if(ee(this._observable),this._emitBeforeChanges(xe.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(xe.MOVE),this}shift(){if(ee(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const e=xv(this._splice(0,1));return this._emitAfterChanges(xe.REMOVE),e}slice(e=0,t=this.length){return ee(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return ee(this._observable),this._items.some(e,t)}sort(e){if(ee(this._observable),!this.length||this._emitBeforeChanges(xe.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(xe.MOVE),this}splice(e,t,...r){ee(this._observable);const n=(t?xe.REMOVE:0)|(r.length?xe.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return ee(this._observable),this._items.slice()}toJSON(){return ee(this._observable),this.toArray()}toLocaleString(){return ee(this._observable),this._items.toLocaleString()}toString(){return ee(this._observable),this._items.toString()}unshift(...e){return ee(this._observable),!e.length||this._emitBeforeChanges(xe.ADD)||(this._splice(0,0,e),this._emitAfterChanges(xe.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Yp(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const a=on.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),n.splice(e,0,s),e+=1,l-=1,c-=1);on.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=on.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);on.release(a)}}if(r!=null&&r.length){if(i){const d=[];for(const f of r){const m=i.ensureType(f);m==null&&f!=null||d.push(m)}r=d}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const d=on.acquire();d.target=this,d.cancellable=!0;const f=on.acquire();f.target=this,f.cancellable=!1;for(const m of r)a?(d.reset(m),this.emit("before-add",d),d.defaultPrevented||(c?n.push(m):n.splice(e++,0,m),this._set("length",n.length),l&&(f.reset(m),this.emit("after-add",f)))):(c?n.push(m):n.splice(e++,0,m),this._set("length",n.length),f.reset(m),this.emit("after-add",f));on.release(f),on.release(d)}else{if(c)for(const d of r)n.push(d);else n.splice(e,0,...r);this._set("length",n.length)}}if((r!=null&&r.length||o!=null&&o.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new UB(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=on.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,on.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=on.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),on.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Bs.clear(),Hs.clear(),qs.clear();for(const{added:l,removed:c}of r){if(l)if(qs.size===0&&Hs.size===0)for(const d of l)Bs.add(d);else for(const d of l)Hs.has(d)?(qs.add(d),Hs.delete(d)):qs.has(d)||Bs.add(d);if(c)if(qs.size===0&&Bs.size===0)for(const d of c)Hs.add(d);else for(const d of c)Bs.has(d)?Bs.delete(d):(qs.delete(d),Hs.add(d))}const n=yr.acquire();Bs.forEach(l=>{n.push(l)});const i=yr.acquire();Hs.forEach(l=>{i.push(l)});const s=this._items,o=t.items,a=yr.acquire();if(qs.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(n.length||i.length||a.length)){const l={target:this,added:n,removed:i,moved:a},c=t.listeners.length;for(let d=0;d<c;d++){const f=t.listeners[d];f.removed||f.callback.call(this,l)}}yr.release(n),yr.release(i),yr.release(a)}Bs.clear(),Hs.clear(),qs.clear()}};el.ofType=e=>{if(!e)return bs;if(Tv.has(e))return Tv.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends bs{};return h([i5({Type:e,ensureType:typeof e=="function"?Dr(e):Nl(e)})],r.prototype,"itemType",void 0),r=h([P(`esri.core.Collection<${t}>`)],r),Tv.set(e,r),r},h([p()],el.prototype,"length",void 0),h([p()],el.prototype,"items",null),el=bs=h([P("esri.core.Collection")],el);const re=el;function Dce(e,t,r){return Bg(e.map((n,i)=>t.apply(r,[n,i])))}async function WB(e,t,r){return(await Bg(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function X$(e){return{ok:!0,value:e}}function Q$(e){return{ok:!1,error:e}}function BB(e){return e!=null&&e.ok===!0?e.value:null}function HB(e){return e!=null&&e.ok===!1?e.error:null}async function o5(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return X$(await e)}catch(t){return Q$(t)}}async function Fce(e){try{return X$(await e)}catch(t){return sA(t),Q$(t)}}function e3(e,t){return new io(e,t)}let io=class extends te{get value(){return BB(this._result)}get error(){return HB(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=dp(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=X$(i),this._cleanup()},i=>{this._result=Q$(i),this._cleanup()}),this._abortHandle=si(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=ct(this._abortHandle),this._abortController=null}};h([p()],io.prototype,"value",null),h([p()],io.prototype,"error",null),h([p()],io.prototype,"finished",null),h([p()],io.prototype,"promise",void 0),h([p()],io.prototype,"_result",void 0),io=h([P("esri.core.asyncUtils.ReactiveTask")],io);let vu=class extends re{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(Vz(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r,this.length)}_createNewInstance(t){return new re(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};h([p()],vu.prototype,"getCollections",void 0),h([p()],vu.prototype,"getChildrenFunction",void 0),h([p()],vu.prototype,"itemFilterFunction",void 0),vu=h([P("esri.core.CollectionFlattener")],vu);const bp=vu;function ce(e,t,r={}){return t3(e,t,r,a5)}function Gl(e,t,r={}){return t3(e,t,r,l5)}function t3(e,t,r={},n){let i=null;const s=r.once?(o,a)=>{n(o)&&(ct(i),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(i=Qz(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function Nc(e,t,r,n={}){let i=null,s=null,o=null;function a(){var d;i&&s&&(s.remove(),(d=n.onListenerRemove)==null||d.call(n,i),i=null,s=null)}function l(d){n.once&&n.once&&ct(o),r(d)}const c=ce(e,(d,f)=>{var m;a(),Gg(d)&&(i=d,s=Jp(d,t,l),(m=n.onListenerAdd)==null||m.call(n,d))},{sync:n.sync,initial:!0});return o=je(()=>{c.remove(),a()}),o}function t1(e,t){return qB(e,l5,t)}function qB(e,t,r){if(Ns(r))return Promise.reject(Tt());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let i=null;function s(){i=ct(i)}return new Promise((o,a)=>{i=Hp([si(r,()=>{s(),a(Tt())}),t3(e,l=>{s(),o(l)},{sync:!1,once:!0},t??a5)])})}function a5(e){return!0}function l5(e){return!!e}const Jc={sync:!0},wr={initial:!0},Ss={sync:!0,initial:!0};let R0=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new Qp,this._items=new Set}get length(){return ee(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return ee(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){ee(this._observable),yield*this._items}};const u5=new FinalizationRegistry(e=>{e.close()});function ZB(e,t){u5.register(e,t,t)}function JB(e){u5.unregister(e)}const YB={statsWorker:()=>H(()=>import("./statsWorker-27a8d208.js"),["assets/statsWorker-27a8d208.js","assets/utils-3ece8ca2.js","assets/quantizationUtils-4acc4a23.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js"]),geometryEngineWorker:()=>H(()=>import("./geometryEngineWorker-fd2905a9.js"),["assets/geometryEngineWorker-fd2905a9.js","assets/geometryEngineJSON-8678767d.js","assets/geometryEngineBase-5f84487c.js","assets/json-48e3ea08.js"]),CSVSourceWorker:()=>H(()=>import("./CSVSourceWorker-f01f4d28.js"),["assets/CSVSourceWorker-f01f4d28.js","assets/date-294ce3fb.js","assets/json-48e3ea08.js","assets/OptimizedGeometry-d94e541f.js","assets/FeatureStore-4ec071e9.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/BoundsStore-077b5a9e.js","assets/PooledRBush-07b9c8a4.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/number-da09adcd.js","assets/clientSideDefaults-bd9ebd17.js","assets/defaultsJSON-b087dd4d.js"]),EdgeProcessingWorker:()=>H(()=>import("./EdgeProcessingWorker-a2699e78.js"),["assets/EdgeProcessingWorker-a2699e78.js","assets/InterleavedLayout-c63747de.js","assets/BufferView-fd18ede8.js","assets/types-1305598a.js","assets/Indices-ed33a78b.js","assets/vec4f64-3c9d0901.js","assets/edgeProcessing-9ea51282.js","assets/deduplicate-9ab49e05.js","assets/VertexAttribute-0e674613.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js"]),ElevationSamplerWorker:()=>H(()=>import("./ElevationSamplerWorker-33f47b0f.js"),["assets/ElevationSamplerWorker-33f47b0f.js","assets/PooledRBush-07b9c8a4.js","assets/georeference-addd5678.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/spatialReferenceEllipsoidUtils-13386ee1.js","assets/MeshLocalVertexSpace-70f83a6b.js","assets/MeshGeoreferencedRelativeVertexSpace-5bf2bee1.js","assets/quat-ec8cad3d.js","assets/quatf64-3363c48e.js","assets/vec32-3a2725b2.js","assets/BufferView-fd18ede8.js"]),FeatureServiceSnappingSourceWorker:()=>H(()=>import("./FeatureServiceSnappingSourceWorker-6f195a6a.js"),["assets/FeatureServiceSnappingSourceWorker-6f195a6a.js","assets/FeatureStore-4ec071e9.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/BoundsStore-077b5a9e.js","assets/PooledRBush-07b9c8a4.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/pbfQueryUtils-3b107514.js","assets/pbf-08dd563b.js","assets/query-22d59433.js","assets/queryZScale-b4140d92.js","assets/ByteSizeUnit-d4757d40.js"]),GeoJSONSourceWorker:()=>H(()=>import("./GeoJSONSourceWorker-811fd574.js"),["assets/GeoJSONSourceWorker-811fd574.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/FeatureStore-4ec071e9.js","assets/BoundsStore-077b5a9e.js","assets/PooledRBush-07b9c8a4.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/geojson-3977cb7b.js","assets/date-294ce3fb.js","assets/clientSideDefaults-bd9ebd17.js","assets/defaultsJSON-b087dd4d.js","assets/sourceUtils-41cd4b95.js"]),LercWorker:()=>H(()=>import("./LercWorker-f441f6b5.js"),[]),MemorySourceWorker:()=>H(()=>import("./MemorySourceWorker-31b652b7.js"),["assets/MemorySourceWorker-31b652b7.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/objectIdUtils-789e911a.js","assets/FeatureStore-4ec071e9.js","assets/BoundsStore-077b5a9e.js","assets/PooledRBush-07b9c8a4.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/clientSideDefaults-bd9ebd17.js","assets/defaultsJSON-b087dd4d.js","assets/sourceUtils-41cd4b95.js","assets/date-294ce3fb.js"]),PBFDecoderWorker:()=>H(()=>import("./PBFDecoderWorker-151096cd.js"),["assets/PBFDecoderWorker-151096cd.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/pbfQueryUtils-3b107514.js","assets/pbf-08dd563b.js"]),Pipeline:()=>H(()=>import("./Pipeline-0e233f6b.js"),["assets/Pipeline-0e233f6b.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/FeatureStore2D-4ed15687.js","assets/CircularArray-ef508845.js","assets/diffUtils-9dbdd340.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/visualVariablesUtils-73d1d4d8.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js","assets/definitions-d28bab5c.js","assets/ogcFeatureUtils-cf033789.js","assets/geojson-3977cb7b.js","assets/date-294ce3fb.js","assets/clientSideDefaults-bd9ebd17.js","assets/defaultsJSON-b087dd4d.js","assets/query-22d59433.js","assets/pbfQueryUtils-3b107514.js","assets/pbf-08dd563b.js","assets/queryZScale-b4140d92.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/createConnection-20897cba.js","assets/geohashUtils-77d8429b.js"]),PointCloudWorker:()=>H(()=>import("./PointCloudWorker-6671e78a.js"),["assets/PointCloudWorker-6671e78a.js","assets/quat-ec8cad3d.js","assets/mat3f64-221ce671.js","assets/quatf64-3363c48e.js","assets/vec3f32-2da9db36.js","assets/PointCloudUniqueValueRenderer-c6c5cf29.js","assets/LegendOptions-48c2523d.js","assets/ColorStop-7842c5e0.js","assets/I3SBinaryReader-961db42c.js","assets/VertexAttribute-0e674613.js"]),RasterWorker:()=>H(()=>import("./RasterWorker-1815ffe8.js"),["assets/RasterWorker-1815ffe8.js","assets/dataUtils-547ded43.js","assets/RasterSymbolizer-8dffd1c2.js","assets/colorUtils-f8c9929c.js","assets/vec4f64-3c9d0901.js","assets/utils-534b6b3a.js","assets/colorRamps-763955b0.js","assets/rasterProjectionHelper-9f8ef9b3.js"]),SceneLayerSnappingSourceWorker:()=>H(()=>import("./SceneLayerSnappingSourceWorker-725d8f29.js"),["assets/SceneLayerSnappingSourceWorker-725d8f29.js","assets/lineSegment-f6f85dc8.js","assets/sphere-1b3fc8c2.js","assets/vec4f64-3c9d0901.js","assets/ByteSizeUnit-d4757d40.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/quatf64-3363c48e.js","assets/plane-e47fa5dc.js","assets/Indices-ed33a78b.js","assets/edgeProcessing-9ea51282.js","assets/deduplicate-9ab49e05.js","assets/InterleavedLayout-c63747de.js","assets/BufferView-fd18ede8.js","assets/types-1305598a.js","assets/VertexAttribute-0e674613.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js"]),SceneLayerWorker:()=>H(()=>import("./SceneLayerWorker-a606c3e9.js"),["assets/SceneLayerWorker-a606c3e9.js","assets/MeshLocalVertexSpace-70f83a6b.js","assets/MeshGeoreferencedRelativeVertexSpace-5bf2bee1.js","assets/vec32-3a2725b2.js","assets/sphere-1b3fc8c2.js","assets/vec4f64-3c9d0901.js","assets/ByteSizeUnit-d4757d40.js","assets/mat3f64-221ce671.js","assets/mat4f64-1413b4a7.js","assets/quatf64-3363c48e.js"]),WFSSourceWorker:()=>H(()=>import("./WFSSourceWorker-4e1988e8.js"),["assets/WFSSourceWorker-4e1988e8.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/FeatureStore-4ec071e9.js","assets/BoundsStore-077b5a9e.js","assets/PooledRBush-07b9c8a4.js","assets/timeSupport-bdf251f3.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/QueryEngine-9261cce1.js","assets/LRUCache-c7a923e7.js","assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/fieldType-088ee331.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/quantizationUtils-4acc4a23.js","assets/utils-3ece8ca2.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/utils-22d77ce3.js","assets/generateRendererUtils-d97b60ba.js","assets/FieldsIndex-3d8128c0.js","assets/RenderState-1d6218ee.js","assets/geojson-3977cb7b.js","assets/date-294ce3fb.js","assets/sourceUtils-41cd4b95.js","assets/wfsUtils-7a41ec76.js","assets/xmlUtils-444cb4c0.js","assets/Field-ebbe1dfc.js"]),WorkerTileHandler:()=>H(()=>import("./WorkerTileHandler-329bce0f.js"),["assets/WorkerTileHandler-329bce0f.js","assets/enums-fb086c25.js","assets/GeometryUtils-984e8446.js","assets/Rect-ea14f53a.js","assets/config-1337d16e.js","assets/StyleDefinition-29c49b98.js","assets/enums-f1a6a48a.js","assets/pbf-08dd563b.js","assets/TurboLine-8e67d24e.js","assets/definitions-d28bab5c.js","assets/StyleRepository-c9f175a9.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js","assets/colorUtils-f8c9929c.js","assets/vec4f64-3c9d0901.js","assets/earcut-fb2d01fb.js","assets/BidiEngine-9a40f2f4.js"])};var jt;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(jt||(jt={}));let KB=0;function c5(){return KB++}function XB(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Sp(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function r3(e,t,r,n){if(t.type===jt.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==jt.INVOKE&&t.type!==jt.RESPONSE)return void e.postMessage(t);let i;if(XB(r)?(i=VM(r.transferList),t.data=r.result):(i=VM(n),t.data=r),i){if(L("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case jt.INVOKE:throw o;case jt.RESPONSE:return void r3(e,{type:jt.RESPONSE,jobId:t.jobId,error:Sp(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function $p(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function VM(e){if(!(e!=null&&e.length))return null;if(L("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!QB(r));return t.length?t:null}function QB(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}const{CLOSE:GM,ABORT:WM,INVOKE:BM,RESPONSE:gh,OPEN_PORT:HM,ON:eH}=jt,tH=2;let rH=class{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===jt.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},ra=class wu{static connect(t){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new wu(r.port1,{channel:r,client:n});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=i),wu.clients.set(i,n),r.port2}static loadWorker(t){const r=YB[t];return r?r():Promise.resolve(null)}constructor(t,r,n){this._port=t,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new rH(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:GM}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){const i=n==null?void 0:n.signal,s=n==null?void 0:n.transferList;if(!this._port)return Promise.reject(new G("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=c5();return new Promise((a,l)=>{if(Ns(i))return this._processWork(),void l(Tt());const c=si(i,()=>{const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),this._processWork(),ct(f.abortHandle),this._post({type:WM,jobId:o}),l(Tt()))}),d={resolve:a,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(o,d),this._post({type:BM,jobId:o,methodName:t,abortable:i!=null},r,s)})}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:jt.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),je(()=>{n.port1.postMessage({type:jt.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:HM,port:t.port2}),t.port1}_processWork(){var o;if(this._outJobs.size>=tH)return;const t=(o=this._jobQueue)==null?void 0:o.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:s}=t;this.invoke(r,n,i).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{ct(t.abortHandle),t.reject(Tt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=$p(t);if(r)switch(r.type){case gh:this._onResponseMessage(r);break;case BM:this._invokeQueue.push(r);break;case WM:this._onAbortMessage(r);break;case GM:this._onCloseMessage();break;case HM:this._onOpenPortMessage(r);break;case eH:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&wu.clients.get(this)===t&&t.destroy(),wu.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,c=this._client,d=c[r];try{if(!d&&r&&r.includes(".")){const f=r.split(".");for(let m=0;m<f.length-1;m++)c=c[f[m]],d=c[f[m+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);l=d.call(c,i,{client:this,signal:o?o.signal:null})}catch(f){return void this._post({type:gh,jobId:n,error:Sp(f)})}da(l)?(a.set(n,{controller:o,promise:l}),l.then(f=>{a.has(n)&&(a.delete(n),this._post({type:gh,jobId:n},f))},f=>{a.has(n)&&(a.delete(n),pi(f)||this._post({type:gh,jobId:n,error:Sp(f||{message:`Error encountered at method ${r}`})}))})):this._post({type:gh,jobId:n},l)}_onOpenPortMessage(t){new wu(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=Jp(t.port,"message",s=>{const o=$p(s);(o==null?void 0:o.type)===jt.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),ct(o.abortHandle),n?o.reject(G.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return r3(this._port,t,r,n)}};ra.kernelInfo={buildDate:f4,fullVersion:R$,revision:m4},ra.clients=new Map;let nH=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new R0}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,r){return new Promise((n,i)=>{let s=!0;const o=a=>{mt(r.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];da(l)?this._clientPromises[a]=l.then(c=>(this._clients[a]=new ra(c,r,this._ongoingJobsQueue),o(n),this._clients[a]),()=>(o(i),null)):(this._clients[a]=new ra(l,r,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(a=>a==null?void 0:a.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Tt(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,JB(this)}invoke(t,r,n){let i;Array.isArray(n)?(W.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:n}):i=n;const s=ci();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,resolver:s});for(let o=0;o<this._clientPromises.length;o++){const a=this._clients[o];a?a.jobAdded():this._clientPromises[o].then(l=>l==null?void 0:l.jobAdded())}return s.promise}on(t,r){return Promise.all(this._clientPromises).then(()=>Hp(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n==0&&t(r)})})}get test(){return{numClients:this._clients.length}}};const iH={async request(e,t){var o,a;const r=e.options,n=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&((o=l4(e.url))!=null&&o.after)?n:"array-buffer";const i=await Yt(e.url,r),s={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch((a=i.requestOptions)==null?void 0:a.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let Ad;var jP,zP;const sH=((jP=globalThis.esriConfig)==null?void 0:jP.locale)??((zP=globalThis.dojoConfig)==null?void 0:zP.locale);function h5(){var e;return sH??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Kr(){return Ad===void 0&&(Ad=h5()),Ad}function oH(e=Kr()){const t=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const Ld=[];function n3(e){return Ld.push(e),je(()=>Ld.splice(Ld.indexOf(e),1))}const r2=[];function i3(e){return r2.push(e),je(()=>Ld.splice(r2.indexOf(e),1))}function aH(){const e=h5();Ad!==e&&(Ad=e,[...r2].forEach(t=>{t.call(null,e)}),[...Ld].forEach(t=>{t.call(null,e)}))}var UP;(UP=globalThis.addEventListener)==null||UP.call(globalThis,"languagechange",aH);const qM=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class ru extends Error{}class lH extends ru{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class uH extends ru{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class cH extends ru{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Xu extends ru{}class d5 extends ru{constructor(t){super(`Invalid unit ${t}`)}}class Or extends ru{}class Zs extends ru{constructor(){super("Zone is an abstract class")}}const B="numeric",hi="short",Xr="long",N0={year:B,month:B,day:B},p5={year:B,month:hi,day:B},hH={year:B,month:hi,day:B,weekday:hi},f5={year:B,month:Xr,day:B},m5={year:B,month:Xr,day:B,weekday:Xr},y5={hour:B,minute:B},g5={hour:B,minute:B,second:B},v5={hour:B,minute:B,second:B,timeZoneName:hi},w5={hour:B,minute:B,second:B,timeZoneName:Xr},_5={hour:B,minute:B,hourCycle:"h23"},b5={hour:B,minute:B,second:B,hourCycle:"h23"},S5={hour:B,minute:B,second:B,hourCycle:"h23",timeZoneName:hi},$5={hour:B,minute:B,second:B,hourCycle:"h23",timeZoneName:Xr},x5={year:B,month:B,day:B,hour:B,minute:B},T5={year:B,month:B,day:B,hour:B,minute:B,second:B},M5={year:B,month:hi,day:B,hour:B,minute:B},k5={year:B,month:hi,day:B,hour:B,minute:B,second:B},dH={year:B,month:hi,day:B,weekday:hi,hour:B,minute:B},E5={year:B,month:Xr,day:B,hour:B,minute:B,timeZoneName:hi},P5={year:B,month:Xr,day:B,hour:B,minute:B,second:B,timeZoneName:hi},C5={year:B,month:Xr,day:B,weekday:Xr,hour:B,minute:B,timeZoneName:Xr},O5={year:B,month:Xr,day:B,weekday:Xr,hour:B,minute:B,second:B,timeZoneName:Xr};class ef{get type(){throw new Zs}get name(){throw new Zs}get ianaName(){return this.name}get isUniversal(){throw new Zs}offsetName(t,r){throw new Zs}formatOffset(t,r){throw new Zs}offset(t){throw new Zs}equals(t){throw new Zs}get isValid(){throw new Zs}}let Mv=null;class r1 extends ef{static get instance(){return Mv===null&&(Mv=new r1),Mv}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return z5(t,r,n)}formatOffset(t,r){return Rd(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Xm={};function pH(e){return Xm[e]||(Xm[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Xm[e]}const fH={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function mH(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,c,d]=n;return[o,i,s,a,l,c,d]}function yH(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=fH[s];s==="era"?n[a]=o:he(a)||(n[a]=parseInt(o,10))}return n}let qf={};class di extends ef{static create(t){return qf[t]||(qf[t]=new di(t)),qf[t]}static resetCache(){qf={},Xm={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=di.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return z5(t,r,n,this.name)}formatOffset(t,r){return Rd(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=pH(this.name);let[i,s,o,a,l,c,d]=n.formatToParts?yH(n,r):mH(n,r);a==="BC"&&(i=-Math.abs(i)+1);const m=i1({year:i,month:s,day:o,hour:l===24?0:l,minute:c,second:d,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(m-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let ZM={};function gH(e,t={}){const r=JSON.stringify([e,t]);let n=ZM[r];return n||(n=new Intl.ListFormat(e,t),ZM[r]=n),n}let n2={};function i2(e,t={}){const r=JSON.stringify([e,t]);let n=n2[r];return n||(n=new Intl.DateTimeFormat(e,t),n2[r]=n),n}let s2={};function vH(e,t={}){const r=JSON.stringify([e,t]);let n=s2[r];return n||(n=new Intl.NumberFormat(e,t),s2[r]=n),n}let o2={};function wH(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=o2[i];return s||(s=new Intl.RelativeTimeFormat(e,t),o2[i]=s),s}let Fh=null;function _H(){return Fh||(Fh=new Intl.DateTimeFormat().resolvedOptions().locale,Fh)}let JM={};function bH(e){let t=JM[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,JM[e]=t}return t}function SH(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=i2(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=i2(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function $H(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function xH(e){const t=[];for(let r=1;r<=12;r++){const n=se.utc(2009,r,1);t.push(e(n))}return t}function TH(e){const t=[];for(let r=1;r<=7;r++){const n=se.utc(2016,11,13+r);t.push(e(n))}return t}function Zf(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function MH(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class kH{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=vH(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):l3(t,3);return bt(r,this.padTo)}}}class EH{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&di.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=i2(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class PH{constructor(t,r,n){this.opts={style:"long",...n},!r&&F5()&&(this.rtf=wH(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):JH(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const CH={firstDay:1,minimalDays:4,weekend:[6,7]};class De{static fromOpts(t){return De.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,s=!1){const o=t||dt.defaultLocale,a=o||(s?"en-US":_H()),l=r||dt.defaultNumberingSystem,c=n||dt.defaultOutputCalendar,d=a2(i)||dt.defaultWeekSettings;return new De(a,l,c,d,o)}static resetCache(){Fh=null,n2={},s2={},o2={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return De.create(t,r,n,i)}constructor(t,r,n,i,s){const[o,a,l]=SH(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=$H(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=MH(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:De.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,a2(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Zf(this,t,G5,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=xH(s=>this.extract(s,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return Zf(this,t,H5,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=TH(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return Zf(this,void 0,()=>q5,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[se.utc(2016,11,13,9),se.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Zf(this,t,Z5,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[se.utc(-40,1,1),se.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new kH(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new EH(t,this.intl,r)}relFormatter(t={}){return new PH(this.intl,this.isEnglish(),t)}listFormatter(t={}){return gH(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:j5()?bH(this.locale):CH}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let kv=null;class lr extends ef{static get utcInstance(){return kv===null&&(kv=new lr(0)),kv}static instance(t){return t===0?lr.utcInstance:new lr(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new lr(s1(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Rd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Rd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Rd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class OH extends ef{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Io(e,t){if(he(e)||e===null)return t;if(e instanceof ef)return e;if(LH(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?r1.instance:r==="utc"||r==="gmt"?lr.utcInstance:lr.parseSpecifier(r)||di.create(e)}else return Tl(e)?lr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new OH(e)}let YM=()=>Date.now(),KM="system",XM=null,QM=null,ek=null,tk=60,rk,nk=null;class dt{static get now(){return YM}static set now(t){YM=t}static set defaultZone(t){KM=t}static get defaultZone(){return Io(KM,r1.instance)}static get defaultLocale(){return XM}static set defaultLocale(t){XM=t}static get defaultNumberingSystem(){return QM}static set defaultNumberingSystem(t){QM=t}static get defaultOutputCalendar(){return ek}static set defaultOutputCalendar(t){ek=t}static get defaultWeekSettings(){return nk}static set defaultWeekSettings(t){nk=a2(t)}static get twoDigitCutoffYear(){return tk}static set twoDigitCutoffYear(t){tk=t%100}static get throwOnInvalid(){return rk}static set throwOnInvalid(t){rk=t}static resetCaches(){De.resetCache(),di.resetCache()}}class ti{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const I5=[0,31,59,90,120,151,181,212,243,273,304,334],A5=[0,31,60,91,121,152,182,213,244,274,305,335];function _n(e,t){return new ti("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function s3(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function L5(e,t,r){return r+(tf(e)?A5:I5)[t-1]}function R5(e,t){const r=tf(e)?A5:I5,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function o3(e,t){return(e-t+7)%7+1}function D0(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=L5(n,i,s),a=o3(s3(n,i,s),r);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=n-1,l=xp(c,t,r)):l>xp(n,t,r)?(c=n+1,l=1):c=n,{weekYear:c,weekNumber:l,weekday:a,...o1(e)}}function ik(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=o3(s3(n,1,t),r),a=dc(n);let l=i*7+s-o-7+t,c;l<1?(c=n-1,l+=dc(c)):l>a?(c=n+1,l-=dc(n)):c=n;const{month:d,day:f}=R5(c,l);return{year:c,month:d,day:f,...o1(e)}}function Ev(e){const{year:t,month:r,day:n}=e,i=L5(t,r,n);return{year:t,ordinal:i,...o1(e)}}function sk(e){const{year:t,ordinal:r}=e,{month:n,day:i}=R5(t,r);return{year:t,month:n,day:i,...o1(e)}}function ok(e,t){if(!he(e.localWeekday)||!he(e.localWeekNumber)||!he(e.localWeekYear)){if(!he(e.weekday)||!he(e.weekNumber)||!he(e.weekYear))throw new Xu("Cannot mix locale-based week fields with ISO-based week fields");return he(e.localWeekday)||(e.weekday=e.localWeekday),he(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),he(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function IH(e,t=4,r=1){const n=n1(e.weekYear),i=bn(e.weekNumber,1,xp(e.weekYear,t,r)),s=bn(e.weekday,1,7);return n?i?s?!1:_n("weekday",e.weekday):_n("week",e.weekNumber):_n("weekYear",e.weekYear)}function AH(e){const t=n1(e.year),r=bn(e.ordinal,1,dc(e.year));return t?r?!1:_n("ordinal",e.ordinal):_n("year",e.year)}function N5(e){const t=n1(e.year),r=bn(e.month,1,12),n=bn(e.day,1,F0(e.year,e.month));return t?r?n?!1:_n("day",e.day):_n("month",e.month):_n("year",e.year)}function D5(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=bn(t,0,23)||t===24&&r===0&&n===0&&i===0,o=bn(r,0,59),a=bn(n,0,59),l=bn(i,0,999);return s?o?a?l?!1:_n("millisecond",i):_n("second",n):_n("minute",r):_n("hour",t)}function he(e){return typeof e>"u"}function Tl(e){return typeof e=="number"}function n1(e){return typeof e=="number"&&e%1===0}function LH(e){return typeof e=="string"}function RH(e){return Object.prototype.toString.call(e)==="[object Date]"}function F5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function j5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function NH(e){return Array.isArray(e)?e:[e]}function ak(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function DH(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function Dc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a2(e){if(e==null)return null;if(typeof e!="object")throw new Or("Week settings must be an object");if(!bn(e.firstDay,1,7)||!bn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!bn(t,1,7)))throw new Or("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function bn(e,t,r){return n1(e)&&e>=t&&e<=r}function FH(e,t){return e-t*Math.floor(e/t)}function bt(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function $o(e){if(!(he(e)||e===null||e===""))return parseInt(e,10)}function wa(e){if(!(he(e)||e===null||e===""))return parseFloat(e)}function a3(e){if(!(he(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function l3(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function tf(e){return e%4===0&&(e%100!==0||e%400===0)}function dc(e){return tf(e)?366:365}function F0(e,t){const r=FH(t-1,12)+1,n=e+(t-r)/12;return r===2?tf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function i1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function lk(e,t,r){return-o3(s3(e,1,t),r)+t-1}function xp(e,t=4,r=1){const n=lk(e,t,r),i=lk(e+1,t,r);return(dc(e)-n+i)/7}function l2(e){return e>99?e:e>dt.twoDigitCutoffYear?1900+e:2e3+e}function z5(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function s1(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function U5(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Or(`Invalid unit value ${e}`);return t}function j0(e,t){const r={};for(const n in e)if(Dc(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=U5(i)}return r}function Rd(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${bt(r,2)}:${bt(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${bt(r,2)}${bt(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function o1(e){return DH(e,["hour","minute","second","millisecond"])}const jH=["January","February","March","April","May","June","July","August","September","October","November","December"],V5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zH=["J","F","M","A","M","J","J","A","S","O","N","D"];function G5(e){switch(e){case"narrow":return[...zH];case"short":return[...V5];case"long":return[...jH];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const W5=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],B5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],UH=["M","T","W","T","F","S","S"];function H5(e){switch(e){case"narrow":return[...UH];case"short":return[...B5];case"long":return[...W5];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const q5=["AM","PM"],VH=["Before Christ","Anno Domini"],GH=["BC","AD"],WH=["B","A"];function Z5(e){switch(e){case"narrow":return[...WH];case"short":return[...GH];case"long":return[...VH];default:return null}}function BH(e){return q5[e.hour<12?0:1]}function HH(e,t){return H5(t)[e.weekday-1]}function qH(e,t){return G5(t)[e.month-1]}function ZH(e,t){return Z5(t)[e.year<0?0:1]}function JH(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const f=e==="days";switch(t){case 1:return f?"tomorrow":`next ${i[e][0]}`;case-1:return f?"yesterday":`last ${i[e][0]}`;case 0:return f?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=i[e],d=n?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return o?`${a} ${d} ago`:`in ${a} ${d}`}function uk(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const YH={D:N0,DD:p5,DDD:f5,DDDD:m5,t:y5,tt:g5,ttt:v5,tttt:w5,T:_5,TT:b5,TTT:S5,TTTT:$5,f:x5,ff:M5,fff:E5,ffff:C5,F:T5,FF:k5,FFF:P5,FFFF:O5};class ar{static create(t,r={}){return new ar(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return YH[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return bt(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>n?BH(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>n?qH(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>n?HH(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{const g=ar.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},f=y=>n?ZH(t,y):s({era:y},"era"),m=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(y)}};return uk(ar.parseFormat(r),m)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const d=n(c);return d?this.num(l.get(d),c.length):c},s=ar.parseFormat(r),o=s.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),a=t.shiftTo(...o.map(n).filter(l=>l));return uk(s,i(a))}}const J5=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yc(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function Kc(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,a,l]=s(t,i);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function Xc(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function Y5(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=$o(t[r+i]);return[n,null,r+i]}}const K5=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,KH=`(?:${K5.source}?(?:\\[(${J5.source})\\])?)?`,u3=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,X5=RegExp(`${u3.source}${KH}`),c3=RegExp(`(?:T${X5.source})?`),XH=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,QH=/(\d{4})-?W(\d\d)(?:-?(\d))?/,eq=/(\d{4})-?(\d{3})/,tq=Y5("weekYear","weekNumber","weekDay"),rq=Y5("year","ordinal"),nq=/(\d{4})-(\d\d)-(\d\d)/,Q5=RegExp(`${u3.source} ?(?:${K5.source}|(${J5.source}))?`),iq=RegExp(`(?: ${Q5.source})?`);function pc(e,t,r){const n=e[t];return he(n)?r:$o(n)}function sq(e,t){return[{year:pc(e,t),month:pc(e,t+1,1),day:pc(e,t+2,1)},null,t+3]}function Qc(e,t){return[{hours:pc(e,t,0),minutes:pc(e,t+1,0),seconds:pc(e,t+2,0),milliseconds:a3(e[t+3])},null,t+4]}function rf(e,t){const r=!e[t]&&!e[t+1],n=s1(e[t+1],e[t+2]),i=r?null:lr.instance(n);return[{},i,t+3]}function nf(e,t){const r=e[t]?di.create(e[t]):null;return[{},r,t+1]}const oq=RegExp(`^T?${u3.source}$`),aq=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function lq(e){const[t,r,n,i,s,o,a,l,c]=e,d=t[0]==="-",f=l&&l[0]==="-",m=(y,g=!1)=>y!==void 0&&(g||y&&d)?-y:y;return[{years:m(wa(r)),months:m(wa(n)),weeks:m(wa(i)),days:m(wa(s)),hours:m(wa(o)),minutes:m(wa(a)),seconds:m(wa(l),l==="-0"),milliseconds:m(a3(c),f)}]}const uq={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function h3(e,t,r,n,i,s,o){const a={year:t.length===2?l2($o(t)):$o(t),month:V5.indexOf(r)+1,day:$o(n),hour:$o(i),minute:$o(s)};return o&&(a.second=$o(o)),e&&(a.weekday=e.length>3?W5.indexOf(e)+1:B5.indexOf(e)+1),a}const cq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function hq(e){const[,t,r,n,i,s,o,a,l,c,d,f]=e,m=h3(t,i,n,r,s,o,a);let y;return l?y=uq[l]:c?y=0:y=s1(d,f),[m,new lr(y)]}function dq(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const pq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,fq=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ck(e){const[,t,r,n,i,s,o,a]=e;return[h3(t,i,n,r,s,o,a),lr.utcInstance]}function yq(e){const[,t,r,n,i,s,o,a]=e;return[h3(t,a,r,n,i,s,o),lr.utcInstance]}const gq=Yc(XH,c3),vq=Yc(QH,c3),wq=Yc(eq,c3),_q=Yc(X5),eL=Kc(sq,Qc,rf,nf),bq=Kc(tq,Qc,rf,nf),Sq=Kc(rq,Qc,rf,nf),$q=Kc(Qc,rf,nf);function xq(e){return Xc(e,[gq,eL],[vq,bq],[wq,Sq],[_q,$q])}function Tq(e){return Xc(dq(e),[cq,hq])}function Mq(e){return Xc(e,[pq,ck],[fq,ck],[mq,yq])}function kq(e){return Xc(e,[aq,lq])}const Eq=Kc(Qc);function Pq(e){return Xc(e,[oq,Eq])}const Cq=Yc(nq,iq),Oq=Yc(Q5),Iq=Kc(Qc,rf,nf);function Aq(e){return Xc(e,[Cq,eL],[Oq,Iq])}const hk="Invalid Duration",tL={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Lq={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...tL},an=146097/400,uu=146097/4800,Rq={years:{quarters:4,months:12,weeks:an/7,days:an,hours:an*24,minutes:an*24*60,seconds:an*24*60*60,milliseconds:an*24*60*60*1e3},quarters:{months:3,weeks:an/28,days:an/4,hours:an*24/4,minutes:an*24*60/4,seconds:an*24*60*60/4,milliseconds:an*24*60*60*1e3/4},months:{weeks:uu/7,days:uu,hours:uu*24,minutes:uu*24*60,seconds:uu*24*60*60,milliseconds:uu*24*60*60*1e3},...tL},ul=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Nq=ul.slice(0).reverse();function Js(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new be(n)}function rL(e,t){let r=t.milliseconds??0;for(const n of Nq.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function dk(e,t){const r=rL(e,t)<0?-1:1;ul.reduceRight((n,i)=>{if(he(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],a=Math.floor(s/o);t[i]+=a*r,t[n]-=a*o*r}return i},null),ul.reduce((n,i)=>{if(he(t[i]))return n;if(n){const s=t[n]%1;t[n]-=s,t[i]+=s*e[n][i]}return i},null)}function Dq(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class be{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?Rq:Lq;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||De.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return be.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Or(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new be({values:j0(t,be.normalizeUnit),loc:De.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Tl(t))return be.fromMillis(t);if(be.isDuration(t))return t;if(typeof t=="object")return be.fromObject(t);throw new Or(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=kq(t);return n?be.fromObject(n,r):be.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=Pq(t);return n?be.fromObject(n,r):be.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Or("need to specify a reason the Duration is invalid");const n=t instanceof ti?t:new ti(t,r);if(dt.throwOnInvalid)throw new cH(n);return new be({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new d5(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ar.create(this.loc,n).formatDurationFromString(this,t):hk}toHuman(t={}){if(!this.isValid)return hk;const r=ul.map(n=>{const i=this.values[n];return he(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=l3(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},se.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?rL(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=be.fromDurationLike(t),n={};for(const i of ul)(Dc(r.values,i)||Dc(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Js(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=be.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=U5(t(this.values[n],n));return Js(this,{values:r},!0)}get(t){return this[be.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...j0(t,be.normalizeUnit)};return Js(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Js(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return dk(this.matrix,t),Js(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Dq(this.normalize().shiftToAll().toObject());return Js(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>be.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of ul)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in n)a+=this.matrix[c][o]*n[c],n[c]=0;Tl(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else Tl(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return dk(this.matrix,r),Js(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Js(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of ul)if(!r(this.values[n],t.values[n]))return!1;return!0}}const cu="Invalid Interval";function Fq(e,t){return!e||!e.isValid?lt.invalid("missing or invalid start"):!t||!t.isValid?lt.invalid("missing or invalid end"):t<e?lt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class lt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Or("need to specify a reason the Interval is invalid");const n=t instanceof ti?t:new ti(t,r);if(dt.throwOnInvalid)throw new uH(n);return new lt({invalid:n})}static fromDateTimes(t,r){const n=wh(t),i=wh(r),s=Fq(n,i);return s??new lt({start:n,end:i})}static after(t,r){const n=be.fromDurationLike(r),i=wh(t);return lt.fromDateTimes(i,i.plus(n))}static before(t,r){const n=be.fromDurationLike(r),i=wh(t);return lt.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=se.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=se.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return lt.fromDateTimes(s,a);if(o){const c=be.fromISO(i,r);if(c.isValid)return lt.after(s,c)}else if(l){const c=be.fromISO(n,r);if(c.isValid)return lt.before(a,c)}}return lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?lt.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(wh).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(lt.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(t){const r=be.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(lt.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:lt.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return lt.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(lt.fromDateTimes(r,l.time)),r=null);return lt.merge(i)}difference(...t){return lt.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:cu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=N0,r={}){return this.isValid?ar.create(this.s.loc.clone(r),t).formatInterval(this):cu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:cu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:cu}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:cu}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):be.invalid(this.invalidReason)}mapEndpoints(t){return lt.fromDateTimes(t(this.s),t(this.e))}}class Jf{static hasDST(t=dt.defaultZone){const r=se.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return di.isValidZone(t)}static normalizeZone(t){return Io(t,dt.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||De.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||De.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||De.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||De.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||De.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||De.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||De.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return De.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return De.create(r,null,"gregory").eras(t)}static features(){return{relative:F5(),localeWeek:j5()}}}function pk(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(be.fromMillis(n).as("days"))}function jq(e,t,r){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const d=pk(l,c);return(d-d%7)/7}],["days",pk]],i={},s=e;let o,a;for(const[l,c]of n)r.indexOf(l)>=0&&(o=l,i[l]=c(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i),e>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}function zq(e,t,r,n){let[i,s,o,a]=jq(e,t,r);const l=t-i,c=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const d=be.fromObject(s,n);return c.length>0?be.fromMillis(l,n).shiftTo(...c).plus(d):d}const d3={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},fk={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uq=d3.hanidec.replace(/[\[|\]]/g,"").split("");function Vq(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(d3.hanidec)!==-1)t+=Uq.indexOf(e[r]);else for(const i in fk){const[s,o]=fk[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}function An({numberingSystem:e},t=""){return new RegExp(`${d3[e||"latn"]}${t}`)}const Gq="missing Intl.DateTimeFormat.formatToParts support";function Me(e,t=r=>r){return{regex:e,deser:([r])=>t(Vq(r))}}const Wq=String.fromCharCode(160),nL=`[ ${Wq}]`,iL=new RegExp(nL,"g");function Bq(e){return e.replace(/\./g,"\\.?").replace(iL,nL)}function mk(e){return e.replace(/\./g,"").replace(iL," ").toLowerCase()}function Ln(e,t){return e===null?null:{regex:RegExp(e.map(Bq).join("|")),deser:([r])=>e.findIndex(n=>mk(r)===mk(n))+t}}function yk(e,t){return{regex:e,deser:([,r,n])=>s1(r,n),groups:t}}function Yf(e){return{regex:e,deser:([t])=>t}}function Hq(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function qq(e,t){const r=An(t),n=An(t,"{2}"),i=An(t,"{3}"),s=An(t,"{4}"),o=An(t,"{6}"),a=An(t,"{1,2}"),l=An(t,"{1,3}"),c=An(t,"{1,6}"),d=An(t,"{1,9}"),f=An(t,"{2,4}"),m=An(t,"{4,6}"),y=$=>({regex:RegExp(Hq($.val)),deser:([_])=>_,literal:!0}),v=($=>{if(e.literal)return y($);switch($.val){case"G":return Ln(t.eras("short"),0);case"GG":return Ln(t.eras("long"),0);case"y":return Me(c);case"yy":return Me(f,l2);case"yyyy":return Me(s);case"yyyyy":return Me(m);case"yyyyyy":return Me(o);case"M":return Me(a);case"MM":return Me(n);case"MMM":return Ln(t.months("short",!0),1);case"MMMM":return Ln(t.months("long",!0),1);case"L":return Me(a);case"LL":return Me(n);case"LLL":return Ln(t.months("short",!1),1);case"LLLL":return Ln(t.months("long",!1),1);case"d":return Me(a);case"dd":return Me(n);case"o":return Me(l);case"ooo":return Me(i);case"HH":return Me(n);case"H":return Me(a);case"hh":return Me(n);case"h":return Me(a);case"mm":return Me(n);case"m":return Me(a);case"q":return Me(a);case"qq":return Me(n);case"s":return Me(a);case"ss":return Me(n);case"S":return Me(l);case"SSS":return Me(i);case"u":return Yf(d);case"uu":return Yf(a);case"uuu":return Me(r);case"a":return Ln(t.meridiems(),0);case"kkkk":return Me(s);case"kk":return Me(f,l2);case"W":return Me(a);case"WW":return Me(n);case"E":case"c":return Me(r);case"EEE":return Ln(t.weekdays("short",!1),1);case"EEEE":return Ln(t.weekdays("long",!1),1);case"ccc":return Ln(t.weekdays("short",!0),1);case"cccc":return Ln(t.weekdays("long",!0),1);case"Z":case"ZZ":return yk(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return yk(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Yf(/[a-z_+-/]{1,256}?/i);case" ":return Yf(/[^\S\n\r]/);default:return y($)}})(e)||{invalidReason:Gq};return v.token=e,v}const Zq={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Jq(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=Zq[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Yq(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function Kq(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(Dc(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function Xq(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return he(e.z)||(r=di.create(e.z)),he(e.Z)||(r||(r=new lr(e.Z)),n=e.Z),he(e.q)||(e.M=(e.q-1)*3+1),he(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),he(e.u)||(e.S=a3(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,n]}let Pv=null;function Qq(){return Pv||(Pv=se.fromMillis(1555555555555)),Pv}function eZ(e,t){if(e.literal)return e;const r=ar.macroTokenToFormatOpts(e.val),n=aL(r,t);return n==null||n.includes(void 0)?e:n}function sL(e,t){return Array.prototype.concat(...e.map(r=>eZ(r,t)))}function oL(e,t,r){const n=sL(ar.parseFormat(r),e),i=n.map(o=>qq(o,e)),s=i.find(o=>o.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[o,a]=Yq(i),l=RegExp(o,"i"),[c,d]=Kq(t,l,a),[f,m,y]=d?Xq(d):[null,null,void 0];if(Dc(d,"a")&&Dc(d,"H"))throw new Xu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:c,matches:d,result:f,zone:m,specificOffset:y}}}function tZ(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=oL(e,t,r);return[n,i,s,o]}function aL(e,t){if(!e)return null;const n=ar.create(t,e).dtFormatter(Qq()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>Jq(o,e,s))}const Cv="Invalid DateTime",gk=864e13;function Kf(e){return new ti("unsupported zone",`the zone "${e.name}" is not supported`)}function Ov(e){return e.weekData===null&&(e.weekData=D0(e.c)),e.weekData}function Iv(e){return e.localWeekData===null&&(e.localWeekData=D0(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function _a(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new se({...r,...t,old:r})}function lL(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Xf(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Qm(e,t,r){return lL(i1(e),t,r)}function vk(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,F0(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=be.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=i1(s);let[l,c]=lL(a,r,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function vh(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=se.fromObject(e,{...r,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return se.invalid(new ti("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Qf(e,t,r=!0){return e.isValid?ar.create(De.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Av(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=bt(e.c.year,r?6:4),t?(n+="-",n+=bt(e.c.month),n+="-",n+=bt(e.c.day)):(n+=bt(e.c.month),n+=bt(e.c.day)),n}function wk(e,t,r,n,i,s){let o=bt(e.c.hour);return t?(o+=":",o+=bt(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=bt(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=bt(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=bt(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=bt(Math.trunc(-e.o/60)),o+=":",o+=bt(Math.trunc(-e.o%60))):(o+="+",o+=bt(Math.trunc(e.o/60)),o+=":",o+=bt(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const uL={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rZ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},nZ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cL=["year","month","day","hour","minute","second","millisecond"],iZ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],sZ=["year","ordinal","hour","minute","second","millisecond"];function oZ(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new d5(e);return t}function _k(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return oZ(e)}}function bk(e,t){const r=Io(t.zone,dt.defaultZone),n=De.fromObject(t),i=dt.now();let s,o;if(he(e.year))s=i;else{for(const c of cL)he(e[c])&&(e[c]=uL[c]);const a=N5(e)||D5(e);if(a)return se.invalid(a);const l=r.offset(i);[s,o]=Qm(e,l,r)}return new se({ts:s,zone:r,loc:n,o})}function Sk(e,t,r){const n=he(r.round)?!0:r.round,i=(o,a)=>(o=l3(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function $k(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class se{constructor(t){const r=t.zone||dt.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ti("invalid input"):null)||(r.isValid?null:Kf(r));this.ts=he(t.ts)?dt.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const a=r.offset(this.ts);i=Xf(this.ts,a),n=Number.isNaN(i.year)?new ti("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=t.loc||De.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new se({})}static local(){const[t,r]=$k(arguments),[n,i,s,o,a,l,c]=r;return bk({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=$k(arguments),[n,i,s,o,a,l,c]=r;return t.zone=lr.utcInstance,bk({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const n=RH(t)?t.valueOf():NaN;if(Number.isNaN(n))return se.invalid("invalid input");const i=Io(r.zone,dt.defaultZone);return i.isValid?new se({ts:n,zone:i,loc:De.fromObject(r)}):se.invalid(Kf(i))}static fromMillis(t,r={}){if(Tl(t))return t<-gk||t>gk?se.invalid("Timestamp out of range"):new se({ts:t,zone:Io(r.zone,dt.defaultZone),loc:De.fromObject(r)});throw new Or(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Tl(t))return new se({ts:t*1e3,zone:Io(r.zone,dt.defaultZone),loc:De.fromObject(r)});throw new Or("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Io(r.zone,dt.defaultZone);if(!n.isValid)return se.invalid(Kf(n));const i=De.fromObject(r),s=j0(t,_k),{minDaysInFirstWeek:o,startOfWeek:a}=ok(s,i),l=dt.now(),c=he(r.specificOffset)?n.offset(l):r.specificOffset,d=!he(s.ordinal),f=!he(s.year),m=!he(s.month)||!he(s.day),y=f||m,g=s.weekYear||s.weekNumber;if((y||d)&&g)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new Xu("Can't mix ordinal dates with month/day");const v=g||s.weekday&&!y;let $,_,b=Xf(l,c);v?($=iZ,_=rZ,b=D0(b,o,a)):d?($=sZ,_=nZ,b=Ev(b)):($=cL,_=uL);let S=!1;for(const F of $){const q=s[F];he(q)?S?s[F]=_[F]:s[F]=b[F]:S=!0}const x=v?IH(s,o,a):d?AH(s):N5(s),M=x||D5(s);if(M)return se.invalid(M);const k=v?ik(s,o,a):d?sk(s):s,[O,A]=Qm(k,c,n),V=new se({ts:O,zone:n,o:A,loc:i});return s.weekday&&y&&t.weekday!==V.weekday?se.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${V.toISO()}`):V}static fromISO(t,r={}){const[n,i]=xq(t);return vh(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=Tq(t);return vh(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=Mq(t);return vh(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(he(t)||he(r))throw new Or("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=De.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,c,d]=tZ(o,t,r);return d?se.invalid(d):vh(a,l,n,`format ${r}`,t,c)}static fromString(t,r,n={}){return se.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=Aq(t);return vh(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Or("need to specify a reason the DateTime is invalid");const n=t instanceof ti?t:new ti(t,r);if(dt.throwOnInvalid)throw new lH(n);return new se({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=aL(t,De.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return sL(ar.parseFormat(t),De.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ov(this).weekYear:NaN}get weekNumber(){return this.isValid?Ov(this).weekNumber:NaN}get weekday(){return this.isValid?Ov(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Iv(this).weekday:NaN}get localWeekNumber(){return this.isValid?Iv(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Iv(this).weekYear:NaN}get ordinal(){return this.isValid?Ev(this.c).ordinal:NaN}get monthShort(){return this.isValid?Jf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Jf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Jf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Jf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=i1(this.c),i=this.zone.offset(n-t),s=this.zone.offset(n+t),o=this.zone.offset(n-i*r),a=this.zone.offset(n-s*r);if(o===a)return[this];const l=n-o*r,c=n-a*r,d=Xf(l,o),f=Xf(c,a);return d.hour===f.hour&&d.minute===f.minute&&d.second===f.second&&d.millisecond===f.millisecond?[_a(this,{ts:l}),_a(this,{ts:c})]:[this]}get isInLeapYear(){return tf(this.year)}get daysInMonth(){return F0(this.year,this.month)}get daysInYear(){return this.isValid?dc(this.year):NaN}get weeksInWeekYear(){return this.isValid?xp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=ar.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(lr.instance(t),r)}toLocal(){return this.setZone(dt.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Io(t,dt.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=Qm(o,s,t)}return _a(this,{ts:i,zone:t})}else return se.invalid(Kf(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return _a(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=j0(t,_k),{minDaysInFirstWeek:n,startOfWeek:i}=ok(r,this.loc),s=!he(r.weekYear)||!he(r.weekNumber)||!he(r.weekday),o=!he(r.ordinal),a=!he(r.year),l=!he(r.month)||!he(r.day),c=a||l,d=r.weekYear||r.weekNumber;if((c||o)&&d)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Xu("Can't mix ordinal dates with month/day");let f;s?f=ik({...D0(this.c,n,i),...r},n,i):he(r.ordinal)?(f={...this.toObject(),...r},he(r.day)&&(f.day=Math.min(F0(f.year,f.month),f.day))):f=sk({...Ev(this.c),...r});const[m,y]=Qm(f,this.o,this.zone);return _a(this,{ts:m,o:y})}plus(t){if(!this.isValid)return this;const r=be.fromDurationLike(t);return _a(this,vk(this,r))}minus(t){if(!this.isValid)return this;const r=be.fromDurationLike(t).negate();return _a(this,vk(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=be.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?ar.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Cv}toLocaleString(t=N0,r={}){return this.isValid?ar.create(this.loc.clone(r),t).formatDateTime(this):Cv}toLocaleParts(t={}){return this.isValid?ar.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Av(this,o);return a+="T",a+=wk(this,o,r,n,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?Av(this,t==="extended"):null}toISOWeekDate(){return Qf(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+wk(this,o==="extended",r,t,n,s):null}toRFC2822(){return Qf(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qf(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Av(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),Qf(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Cv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return be.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=NH(r).map(be.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=zq(a,l,s,i);return o?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(se.now(),t,r)}until(t){return this.isValid?lt.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||se.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),Sk(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?Sk(t.base||se.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(se.isDateTime))throw new Or("min requires all arguments be DateTimes");return ak(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(se.isDateTime))throw new Or("max requires all arguments be DateTimes");return ak(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=De.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return oL(o,t,r)}static fromStringExplain(t,r,n={}){return se.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return N0}static get DATE_MED(){return p5}static get DATE_MED_WITH_WEEKDAY(){return hH}static get DATE_FULL(){return f5}static get DATE_HUGE(){return m5}static get TIME_SIMPLE(){return y5}static get TIME_WITH_SECONDS(){return g5}static get TIME_WITH_SHORT_OFFSET(){return v5}static get TIME_WITH_LONG_OFFSET(){return w5}static get TIME_24_SIMPLE(){return _5}static get TIME_24_WITH_SECONDS(){return b5}static get TIME_24_WITH_SHORT_OFFSET(){return S5}static get TIME_24_WITH_LONG_OFFSET(){return $5}static get DATETIME_SHORT(){return x5}static get DATETIME_SHORT_WITH_SECONDS(){return T5}static get DATETIME_MED(){return M5}static get DATETIME_MED_WITH_SECONDS(){return k5}static get DATETIME_MED_WITH_WEEKDAY(){return dH}static get DATETIME_FULL(){return E5}static get DATETIME_FULL_WITH_SECONDS(){return P5}static get DATETIME_HUGE(){return C5}static get DATETIME_HUGE_WITH_SECONDS(){return O5}}function wh(e){if(se.isDateTime(e))return e;if(e&&e.valueOf&&Tl(e.valueOf()))return se.fromJSDate(e);if(e&&typeof e=="object")return se.fromObject(e);throw new Or(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Zi="system",p3="unknown",Tp="UTC",aZ=Intl.DateTimeFormat().resolvedOptions().timeZone,lZ="shortOffset";function uZ(e){return"timeZoneIANA"in e}function cZ(e){return e.startsWith("UTC")}function Wce(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?hZ(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?dZ(r):null}}}}}function hZ(e,t=Zi){return e?uZ(e)?e.timeZoneIANA:pZ(e,t):t}function dZ(e){return{timeZoneIANA:e}}function pZ(e,t=Zi){if(!e||!qM.has(e.timeZone))return t;const r=qM.get(e.timeZone);return cZ(e.timeZone)||e.respectsDaylightSaving?r:fZ(r)}function fZ(e){const t=se.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${lr.instance(-r).formatOffset(0,"narrow")}`}function Bce(e,t,r,n,i){if(t&&i==="date")return{timeZone:Tp,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=r===p3;return{timeZone:o?i==="timestamp-offset"?void 0:e??Tp:r,timeZoneName:o&&s?lZ:void 0}}const mZ={year:void 0,month:void 0,day:void 0,weekday:void 0},yZ={hour:void 0,minute:void 0,second:void 0},hL={timeZone:Tp},wi={year:"numeric",month:"numeric",day:"numeric"},_h={year:"numeric",month:"long",day:"numeric"},bh={year:"numeric",month:"short",day:"numeric"},Sh={year:"numeric",month:"long",weekday:"long",day:"numeric"},xo={hour:"numeric",minute:"numeric"},Pa={...xo,second:"numeric"},dL={hourCycle:"h23"},$h={...xo,...dL},xh={...Pa,...dL},pL={"short-date":wi,"short-date-short-time":{...wi,...xo},"short-date-short-time-24":{...wi,...$h},"short-date-long-time":{...wi,...Pa},"short-date-long-time-24":{...wi,...xh},"short-date-le":wi,"short-date-le-short-time":{...wi,...xo},"short-date-le-short-time-24":{...wi,...$h},"short-date-le-long-time":{...wi,...Pa},"short-date-le-long-time-24":{...wi,...xh},"long-month-day-year":_h,"long-month-day-year-short-time":{..._h,...xo},"long-month-day-year-short-time-24":{..._h,...$h},"long-month-day-year-long-time":{..._h,...Pa},"long-month-day-year-long-time-24":{..._h,...xh},"day-short-month-year":bh,"day-short-month-year-short-time":{...bh,...xo},"day-short-month-year-short-time-24":{...bh,...$h},"day-short-month-year-long-time":{...bh,...Pa},"day-short-month-year-long-time-24":{...bh,...xh},"long-date":Sh,"long-date-short-time":{...Sh,...xo},"long-date-short-time-24":{...Sh,...$h},"long-date-long-time":{...Sh,...Pa},"long-date-long-time-24":{...Sh,...xh},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":xo,"long-time":Pa},gZ=Fr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),fL={ar:"ar-u-nu-latn-ca-gregory"};let u2=new WeakMap;const a1=pL["short-date-short-time"];function vZ(e){let t=u2.get(e);if(!t){const r=Kr(),n=fL[r]||r,i=f3(e.timeZone??Zi),s={...e,timeZone:i};t=new Intl.DateTimeFormat(n,s),u2.set(e,t)}return t}function Hce(e){return pL[e]}function Wl(e,t=a1){return vZ(t).format(e)}function qce(e,t=a1){return Wl(new Date(e),{...t,...hL,...yZ})}function Zce(e,t=a1){return Wl(new Date(`1970-01-01T${e}Z`),{...t,...hL,...mZ})}function Jce(e,t=a1){if(t.timeZone)return Wl(new Date(e),t);const r=se.fromISO(e,{setZone:!0}),n=Kr(),i=fL[n]??n,s=r.offset===0?Tp:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:i})}function f3(e){switch(e){case Zi:return aZ;case p3:return Tp;default:return e}}i3(()=>{u2=new WeakMap});const wZ={ar:"ar-u-nu-latn"};let ey=new WeakMap,mL={};function _Z(e){const t=e||mL;if(!ey.has(t)){const r=Kr(),n=wZ[Kr()]||r;ey.set(t,new Intl.NumberFormat(n,e))}return ey.get(t)}function Yce(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function z0(e,t){return Object.is(e,-0)&&(e=0),_Z(t).format(e)}i3(()=>{ey=new WeakMap,mL={}});const yL=W.getLogger("esri.intl.substitute");function Kce(e,t,r={}){const{format:n={}}=r;return d$(e,i=>bZ(i,t,n))}function bZ(e,t,r){let n,i;const s=e.indexOf(":");if(s===-1?n=e.trim():(n=e.slice(0,s).trim(),i=e.slice(s+1).trim()),!n)return"";const o=Bp(n,t);if(o==null)return"";const a=(i?r==null?void 0:r[i]:null)??(r==null?void 0:r[n]);return a?SZ(o,a):i?$Z(o,i):m3(o)}function SZ(e,t){switch(t.type){case"date":return Wl(e,t.intlOptions);case"number":return z0(e,t.intlOptions);default:return yL.warn("missing format descriptor for key {key}"),m3(e)}}function $Z(e,t){switch(t.toLowerCase()){case"dateformat":return Wl(e);case"numberformat":return z0(e);default:return yL.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Wl(e):/^numberformat/i.test(t)?z0(e):m3(e)}}function m3(e){switch(typeof e){case"string":return e;case"number":return z0(e);case"boolean":return""+e;default:return e instanceof Date?Wl(e):""}}const xk=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,xZ={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Tk(e){return e in xZ}const jh=[],fc=new Map;function Mk(e){for(const t of fc.keys())gL(e.pattern,t)&&fc.delete(t)}function TZ(e){return jh.includes(e)||(Mk(e),jh.unshift(e)),je(()=>{const t=jh.indexOf(e);t>-1&&(jh.splice(t,1),Mk(e))})}async function y3(e){const t=Kr();fc.has(e)||fc.set(e,kZ(e,t));const r=fc.get(e);return r&&await EZ.add(r),r}function MZ(e){if(!xk.test(e))return null;const t=xk.exec(e);if(t===null)return null;const[,r,n]=t,i=r+(n?"-"+n.toUpperCase():"");return Tk(i)?i:Tk(r)?r:null}async function kZ(e,t){const r=[];for(const n of jh)if(gL(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new G("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new G("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function gL(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}i3(()=>{fc.clear()});const EZ=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=ci())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function PZ(e,t,r,n){const i=t.exec(r);if(!i)throw new G("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=MZ(n),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let d;try{d=await kk(e(c))}catch(f){if(c===l)throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f});try{d=await kk(e(l))}catch(m){throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m})}}return d}async function kk(e){if(Ek.fetchBundleAsset!=null)return Ek.fetchBundleAsset(e);const t=await Yt(e,{responseType:"text"});return JSON.parse(t.data)}let CZ=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return PZ(this.getAssetUrl,this.matcher,t,r)}};function OZ(e){return new CZ(e)}const Ek={};TZ(OZ({pattern:"esri/",location:Le}));const IZ={};function AZ(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((r=e.packages)==null?void 0:r.concat())||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=IZ.baseUrl),t}let LZ=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},ty=class{constructor(){this._dispatcher=new LZ,this._workerPostMessage({type:jt.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){p0(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){p0(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=$p(t);if(r&&r.type===jt.OPEN){const{modulePath:n,jobId:i}=r;let s=await ra.loadWorker(n);s||(s=await H(()=>import(n),[]));const o=ra.connect(s);this._workerPostMessage({type:jt.OPENED,jobId:i,data:o})}}};const c2=W.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:RZ}=jt,NZ='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let em,tm;const Pk="Failed to create Worker. Fallback to execute module in main thread";async function DZ(){if(!L("esri-workers"))return Ck(new ty);if(!em&&!tm)try{const t=NZ.split('"{CONFIGURATION}"').join(`'${FZ()}'`);em=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){tm=t||{}}let e;if(em)try{e=new Worker(em,{name:"esri-worker-"+jZ++})}catch{c2.warn(Pk,tm),e=new ty}else c2.warn(Pk,tm),e=new ty;return Ck(e)}async function Ck(e){return new Promise(t=>{function r(i){const s=$p(i);s&&s.type===RZ&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),c2.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new ty).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function FZ(){let e;if(Te.default!=null){const i={...Te};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Te));e.assetsPath=vn(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?vn(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Kr(),e.has={"esri-csp-restrictions":L("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":L("esri-2d-update-debug"),"esri-2d-log-updating":L("esri-2d-log-updating"),"featurelayer-pbf":L("featurelayer-pbf"),"featurelayer-simplify-thresholds":L("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":L("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":L("featurelayer-simplify-mobile-factor"),"esri-atomics":L("esri-atomics"),"esri-shared-array-buffer":L("esri-shared-array-buffer"),"esri-tiles-debug":L("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":L("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":L("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=vn(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=vn(e.workers.workerPath):e.workers.workerPath=vn(Le("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Te.workers.loaderConfig,r=AZ({baseUrl:t==null?void 0:t.baseUrl,locale:Kr(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:f4,fullVersion:R$,revision:m4}})}let jZ=0;const{ABORT:Ok,INVOKE:zZ,OPEN:UZ,OPENED:VZ,RESPONSE:Th}=jt;let GZ=class vL{static async create(t){const r=await DZ();return new vL(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),W.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=c5();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:f$(n,()=>{this._outJobs.delete(i),this._post({type:Ok,jobId:i})})};this._outJobs.set(i,a),this._post({type:UZ,jobId:i,modulePath:t})})}_onMessage(t){const r=$p(t);if(r)switch(r.type){case VZ:this._onOpenedMessage(r);break;case Th:this._onResponseMessage(r);break;case Ok:this._onAbortMessage(r);break;case zZ:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=iH[r];let c;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);c=l.call(null,i,{signal:o?o.signal:null})}catch(d){return void this._post({type:Th,jobId:n,error:Sp(d)})}da(c)?(a.set(n,{controller:o,promise:c}),c.then(d=>{a.has(n)&&(a.delete(n),this._post({type:Th,jobId:n},d))},d=>{a.has(n)&&(a.delete(n),d||(d={message:"Error encountered at method"+r}),pi(d)||this._post({type:Th,jobId:n,error:Sp(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:Th,jobId:n},c)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),ct(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),ct(s.abortHandle),n?s.reject(G.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return r3(this.worker,t,r,n)}};const Ik=L("host-browser")?Math.min(navigator.hardwareConcurrency-1,L("workers-pool-size")):0;let cl=L("esri-mobile")?Math.min(Ik,3):Ik;cl||(cl=L("safari")&&L("mac")?7:2);let Ak=0;const ry=[];function WZ(){wL()}async function rm(e,t){const r=new nH,{registryTarget:n,...i}=t;return await r.open(e,i),n&&ZB(n,r),r}async function the(e,t={}){if(typeof e!="string")throw new G("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(L("host-webworker")&&!L("esri-workers")&&(r="local"),r==="local"){let n=await ra.loadWorker(e);n||(n=await H(()=>import(e),[])),mt(t.signal);const i=t.client||n;return rm([ra.connect(n)],{...t,client:i})}if(await wL(),mt(t.signal),r==="dedicated"){const n=Ak++%cl;return rm([await ry[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,cl);if(n<cl){const i=new Array(n);for(let s=0;s<n;++s){const o=Ak++%cl;i[s]=ry[o].open(e,t)}return rm(i,t)}}return rm(ry.map(n=>n.open(e,t)),t)}let nm=null;async function wL(){if(nm)return nm;new AbortController;const e=[];for(let t=0;t<cl;t++){const r=GZ.create(t).then(n=>(ry[t]=n,n));e.push(r)}return nm=Promise.all(e),nm}const Ys=Ve.radius,Rn=Ve.eccentricitySquared,BZ={a1:Ys*Rn,a2:Ys*Rn*Ys*Rn,a3:Ys*Rn*Rn/2,a4:Ys*Rn*Ys*Rn*2.5,a5:Ys*Rn+Ys*Rn*Rn/2,a6:1-Rn};1/294.9786982,1/298.257222101,Ve.radius,Ve.flattening,Qo.radius,Qo.flattening,1/192.0430107526882,Cs.radius,Cs.flattening,1/10.2079945799458,1/43.61604095563141,Cs.radius;var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(E||(E={}));const _L={[E.WGS84]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:Ae,[E.SPHERICAL_ECEF]:pl,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:Mp,[E.PLATE_CARREE]:hl,[E.WGS84]:Ae,[E.WGS84_ECEF]:ml},[E.CGCS2000]:{[E.CGCS2000]:Ae,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:Ae,[E.SPHERICAL_ECEF]:pl,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:hl,[E.WGS84]:null,[E.WGS84_ECEF]:ml},[E.GCSMARS2000]:{[E.CGCS2000]:null,[E.GCSMARS2000]:Ae,[E.GCSMOON2000]:null,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:Dk,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.GCSMOON2000]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:Ae,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:Nk,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.WEB_MERCATOR]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:mc,[E.WGS84_COMPARABLE_LON_LAT]:mc,[E.SPHERICAL_ECEF]:qZ,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:Ae,[E.PLATE_CARREE]:YZ,[E.WGS84]:mc,[E.WGS84_ECEF]:ZZ},[E.WGS84_ECEF]:{[E.CGCS2000]:yl,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:yl,[E.WGS84_COMPARABLE_LON_LAT]:yl,[E.SPHERICAL_ECEF]:sJ,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:oJ,[E.PLATE_CARREE]:KZ,[E.WGS84]:yl,[E.WGS84_ECEF]:Ae},[E.SPHERICAL_ECEF]:{[E.CGCS2000]:fl,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:fl,[E.WGS84_COMPARABLE_LON_LAT]:fl,[E.SPHERICAL_ECEF]:Ae,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:rJ,[E.PLATE_CARREE]:XZ,[E.WGS84]:fl,[E.WGS84_ECEF]:nJ},[E.SPHERICAL_MARS_PCPF]:{[E.CGCS2000]:null,[E.GCSMARS2000]:jk,[E.GCSMOON2000]:null,[E.LON_LAT]:jk,[E.WGS84_COMPARABLE_LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:Ae,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.SPHERICAL_MOON_PCPF]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:Fk,[E.LON_LAT]:Fk,[E.WGS84_COMPARABLE_LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:Ae,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.UNKNOWN]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:null,[E.WGS84_COMPARABLE_LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:Ae,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.LON_LAT]:{[E.CGCS2000]:Ae,[E.GCSMARS2000]:Ae,[E.GCSMOON2000]:Ae,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:Ae,[E.SPHERICAL_ECEF]:pl,[E.SPHERICAL_MARS_PCPF]:Dk,[E.SPHERICAL_MOON_PCPF]:Nk,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:Mp,[E.PLATE_CARREE]:hl,[E.WGS84]:Ae,[E.WGS84_ECEF]:ml},[E.WGS84_COMPARABLE_LON_LAT]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:Ae,[E.WGS84_COMPARABLE_LON_LAT]:Ae,[E.SPHERICAL_ECEF]:pl,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:hl,[E.WGS84]:Ae,[E.WGS84_ECEF]:ml},[E.PLATE_CARREE]:{[E.CGCS2000]:dl,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:dl,[E.WGS84_COMPARABLE_LON_LAT]:dl,[E.SPHERICAL_ECEF]:QZ,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:eJ,[E.PLATE_CARREE]:Ae,[E.WGS84]:dl,[E.WGS84_ECEF]:tJ}};function HZ(e){const t=h2(e,lJ);return _L[t][E.WGS84_COMPARABLE_LON_LAT]}function bL(e,t,r=SL()){return e==null||t==null?null:aJ(e,t,r).projector}function h2(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=eu(e,1)),I0(e)?t.spatialReferenceId=E.SPHERICAL_ECEF:vp(e)?t.spatialReferenceId=E.WGS84:Fl(e)?t.spatialReferenceId=E.WEB_MERCATOR:xW(e)?t.spatialReferenceId=E.PLATE_CARREE:e.wkt===CW.wkt?t.spatialReferenceId=E.WGS84_ECEF:e.wkid===Dl.CGCS2000?t.spatialReferenceId=E.CGCS2000:e.wkt===W$.wkt?t.spatialReferenceId=E.SPHERICAL_MARS_PCPF:e.wkt===B$.wkt?t.spatialReferenceId=E.SPHERICAL_MOON_PCPF:z$(e)?t.spatialReferenceId=E.GCSMARS2000:V$(e)?t.spatialReferenceId=E.GCSMOON2000:t.spatialReferenceId=E.UNKNOWN):E.UNKNOWN}function Ae(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function mc(e,t,r,n){r[n++]=jc*(e[t++]/Ve.radius),r[n++]=jc*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Ve.radius))),r[n]=e[t]}function qZ(e,t,r,n){mc(e,t,r,n),pl(r,n,r,n)}function ZZ(e,t,r,n){mc(e,t,r,n),ml(r,n,r,n)}function JZ(e,t,r,n,i){const s=.4999999*Math.PI,o=Bi(Fc*e[t+1],-s,s),a=Math.sin(o);r[n++]=Fc*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function Mp(e,t,r,n){JZ(e,t,r,n,Ve)}const Lk=Ve.radius*Math.PI/180,Rk=180/(Ve.radius*Math.PI);function hl(e,t,r,n){r[n]=e[t]*Lk,r[n+1]=e[t+1]*Lk,r[n+2]=e[t+2]}function dl(e,t,r,n){r[n]=e[t]*Rk,r[n+1]=e[t+1]*Rk,r[n+2]=e[t+2]}function YZ(e,t,r,n){mc(e,t,r,n),hl(r,n,r,n)}function KZ(e,t,r,n){yl(e,t,r,n),hl(r,n,r,n)}function XZ(e,t,r,n){fl(e,t,r,n),hl(r,n,r,n)}function QZ(e,t,r,n){dl(e,t,r,n),pl(r,n,r,n)}function eJ(e,t,r,n){dl(e,t,r,n),Mp(r,n,r,n)}function tJ(e,t,r,n){dl(e,t,r,n),ml(r,n,r,n)}function g3(e,t,r,n,i){const s=i+e[t+2],o=Fc*e[t+1],a=Fc*e[t],l=Math.cos(o);r[n++]=Math.cos(a)*l*s,r[n++]=Math.sin(a)*l*s,r[n]=Math.sin(o)*s}function Nk(e,t,r,n){g3(e,t,r,n,Qo.radius)}function Dk(e,t,r,n){g3(e,t,r,n,Cs.radius)}function pl(e,t,r,n){g3(e,t,r,n,Ve.radius)}function v3(e,t,r,n,i){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),c=e4(a/(l===0?1:l)),d=Math.atan2(o,s);r[n++]=jc*d,r[n++]=jc*c,r[n]=l-i}function Fk(e,t,r,n){v3(e,t,r,n,Qo.radius)}function jk(e,t,r,n){v3(e,t,r,n,Cs.radius)}function fl(e,t,r,n){v3(e,t,r,n,Ve.radius)}function rJ(e,t,r,n){fl(e,t,r,n),Mp(r,n,r,n)}function nJ(e,t,r,n){fl(e,t,r,n),ml(r,n,r,n)}function iJ(e,t,r,n,i){const s=Fc*e[t],o=Fc*e[t+1],a=e[t+2],l=Math.sin(o),c=Math.cos(o),d=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(d+a)*c*Math.cos(s),r[n++]=(d+a)*c*Math.sin(s),r[n++]=(d*(1-i.eccentricitySquared)+a)*l}function ml(e,t,r,n){iJ(e,t,r,n,Ve)}function yl(e,t,r,n){const i=BZ,s=e[t],o=e[t+1],a=e[t+2];let l,c,d,f,m,y,g,v,$,_,b,S,x,M,k,O,A,V,F,q,X;l=Math.abs(a),c=s*s+o*o,d=Math.sqrt(c),f=c+a*a,m=Math.sqrt(f),q=Math.atan2(o,s),y=a*a/f,g=c/f,M=i.a2/m,k=i.a3-i.a4/m,g>.3?(v=l/m*(1+g*(i.a1+M+y*k)/m),F=Math.asin(v),_=v*v,$=Math.sqrt(1-_)):($=d/m*(1-y*(i.a5-M-g*k)/m),F=Math.acos($),_=1-$*$,v=Math.sqrt(_)),b=1-Ve.eccentricitySquared*_,S=Ve.radius/Math.sqrt(b),x=i.a6*S,M=d-S*$,k=l-x*v,A=$*M+v*k,O=$*k-v*M,V=O/(x/b+A),F+=V,X=A+O*V/2,a<0&&(F=-F),r[n++]=jc*q,r[n++]=jc*F,r[n]=X}function sJ(e,t,r,n){yl(e,t,r,n),pl(r,n,r,n)}function oJ(e,t,r,n){yl(e,t,r,n),Mp(r,n,r,n)}function aJ(e,t,r){if(e==null||t==null||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=h2(e,r.source),i=h2(t,r.dest);return n===E.UNKNOWN&&i===E.UNKNOWN?yt(e,t)?r.projector=Ae:r.projector=null:r.projector=_L[n][i],r}function SL(){return{source:{spatialReference:null,spatialReferenceId:E.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:E.UNKNOWN,metersPerUnit:1},projector:Ae}}const lJ={spatialReference:null,spatialReferenceId:E.UNKNOWN},rhe={spatialReference:null,spatialReferenceId:E.UNKNOWN},$L=SL(),Fc=eG(1),jc=QA(1);function sf(e,t,r,n,i,s,o=1){const a=bL(t,i,$L);if(a==null)return!1;if(a===Ae){if(e===n&&r===s)return!0;const c=r+3*o;for(let d=r,f=s;d<c;d++,f++)n[f]=e[d];return!0}const l=r+3*o;for(let c=r,d=s;c<l;c+=3,d+=3)a(e,c,n,d);return!0}const nhe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:sf},Symbol.toStringTag,{value:"Module"}));function zk(e,t,r,n,i,s){return im[0]=e,im[1]=t,im[2]=r,sf(im,n,0,i,s,0,1)}const im=pa();let sm=0,Lv=class d2{static fromGE(t){const r=new d2;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=sm++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=sm++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=sm++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=sm++}getInverse(){const t=new d2;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},U0=class zh{static cacheKey(t,r){var n,i,s,o,a,l;return[((n=t.wkid)==null?void 0:n.toString())??"-1",((i=t.wkt)==null?void 0:i.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((o=r.wkid)==null?void 0:o.toString())??"-1",((a=r.wkt)==null?void 0:a.toString())??"",((l=r.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(t){const r=new zh;let n="";for(const i of t.steps){const s=Lv.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const r of t.steps)r instanceof Lv?this.steps.push(r):this.steps.push(new Lv({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new zh;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[zh.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[zh.cacheKey(t,r)];return i===void 0?null:i}};function uJ(e,t,r){if(t==null||r==null||r.vcsWkid||yt(t,r)||ea(t)||ea(r))return null;const n=AM(t)/AM(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>cJ(i,n);case"polyline":case"esriGeometryPolyline":return i=>dJ(i,n);case"polygon":case"esriGeometryPolygon":return i=>hJ(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>pJ(i,n);case"extent":case"esriGeometryEnvelope":return i=>fJ(i,n);default:return null}}function cJ(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function hJ(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function dJ(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function pJ(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function fJ(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let ai=null,na=null,Nd=null,ny={};const w3=new Qp;function nu(){return!!ai&&D$()}function xL(){return!!nu()||(ee(w3),ia(),!1)}function ia(e){return Nd==null&&(Nd=Promise.all([w4(),H(()=>import("./geometryEngineBase-5f84487c.js"),[]).then(t=>t.g),H(()=>import("./hydrated-6b62b1ef.js"),[])])),Nd.then(([,t,{hydratedAdapter:r}])=>{mt(e),na=r,ai=t.default,ai._enableProjection(_W),w3.notify()})}function iu(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:p2(na,e,e[0].spatialReference,t,r,n):p2(na,[e],e.spatialReference,t,r,n)[0]}function p2(e,t,r,n,i=null,s=null){if(r==null||n==null)return t;if(Fs(r,n,i))return t.map(o=>iy(o,r,n));if(i==null&&I0(r))return t.map(o=>iy(o,r,$e.WGS84)).map(o=>kp(o,n));if(i==null&&I0(n))return t.map(o=>kp(o,$e.WGS84)).map(o=>iy(o,$e.WGS84,n));if(i==null){const o=U0.cacheKey(r,n);ny[o]!==void 0?i=ny[o]:((i=ML(r,n,void 0))==null&&(i=new U0),ny[o]=i)}if(ai==null||e==null)throw new l1;return s!=null?ai._project(e,t,r,n,i,s):ai._project(e,t,r,n,i)}function mJ(e,t){const r=TL([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function TL(e,t){if(!nu()){for(const r of e)if(r!=null&&!yt(r.spatialReference,t)&&zt(r.spatialReference)&&zt(t)&&!Fs(r.spatialReference,t))return ee(w3),{pending:ia(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:yt(r.spatialReference,t)?r:zt(r.spatialReference)&&zt(t)?kp(r,t):null)}}function ML(e,t,r=null){if(e==null||t==null)return null;if(ai==null||na==null)throw new l1;const n=ai._getTransformation(na,e,t,r,r==null?void 0:r.spatialReference);return n!==null?U0.fromGE(n):null}function yJ(e,t,r=null){if(ai==null||na==null)throw new l1;const n=ai._getTransformationBySuitability(na,e,t,r,r==null?void 0:r.spatialReference);if(n!==null){const i=[];for(const s of n)i.push(U0.fromGE(s));return i}return[]}let l1=class extends G{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function gJ(){ai=null,na=null,Nd=null,ny={}}const vJ={get loadPromise(){return Nd}};function kp(e,t){try{const r=iu(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=uJ(r.type,e.spatialReference,t);return n!=null&&n(r),r}catch(r){if(!(r instanceof l1))throw r;return null}}async function wJ(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await kL(n,t,null,r),kp(e,t)}function Fs(e,t,r){return!r&&(!!yt(e,t)||zt(e)&&zt(t)&&!!bL(e,t,$L))}async function kL(e,t,r,n){if(nu())return cM(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(!Fs(i,s,o))return ia(n)}else if(!Fs(e,t,r))return ia(n);return cM(n)}function iy(e,t,r){return e?"x"in e?EL(e,t,new ue,r,0):"xmin"in e?IL(e,t,new et,r,0):"rings"in e?OL(e,t,new ta,r,0):"paths"in e?CL(e,t,new ei,r,0):"points"in e?PL(e,t,new e1,r,0):null:null}function _J(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&EL(e,e.spatialReference,t,r,n)!=null}function EL(e,t,r,n,i){nr[0]=e.x,nr[1]=e.y;const s=e.z;return nr[2]=s!==void 0?s:i,sf(nr,t,0,nr,n,0,1)?(r.x=nr[0],r.y=nr[1],r.spatialReference=n,s!==void 0||ea(n)?(r.z=nr[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function bJ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&PL(e,e.spatialReference,t,r,n)!=null}function PL(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,l=[],c=s.length,d=[];for(const m of s)d.push(m[0],m[1],o?m[2]:i);if(!sf(d,t,0,d,n,0,c))return null;const f=o||ea(n);for(let m=0;m<c;++m){const y=3*m,g=d[y],v=d[y+1];f&&a?l.push([g,v,d[y+2],s[m][3]]):f?l.push([g,v,d[y+2]]):a?l.push([g,v,s[m][2]]):l.push([g,v])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function SJ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&CL(e,e.spatialReference,t,r,n)!=null}function CL(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!AL(s,o??!1,a??!1,t,l,n,i))return null;const c=o||ea(n);return r.paths=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function $J(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&OL(e,e.spatialReference,t,r,n)!=null}function OL(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!AL(s,o??!1,a??!1,t,l,n,i))return null;const c=o||ea(n);return r.rings=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function xJ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&IL(e,e.spatialReference,t,r,n)!=null}function IL(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:c,hasM:d}=e,f=c?e.zmin:i;if(!zk(s,o,f,t,nr,n))return null;const m=c||ea(n);r.xmin=nr[0],r.ymin=nr[1],m&&(r.zmin=nr[2]);const y=c?e.zmax:i;return zk(a,l,y,t,nr,n)?(r.xmax=nr[0],r.ymax=nr[1],m&&(r.zmax=nr[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function AL(e,t,r,n,i,s,o=0){const a=new Array;for(const d of e)for(const f of d)a.push(f[0],f[1],t?f[2]:o);if(!sf(a,n,0,a,s,0,a.length/3))return!1;let l=0;i.length=0;const c=t||ea(s);for(const d of e){const f=new Array;for(const m of d)c&&r?f.push([a[l++],a[l++],a[l++],m[3]]):c?f.push([a[l++],a[l++],a[l++]]):r?(f.push([a[l++],a[l++],m[2]]),l++):(f.push([a[l++],a[l++]]),l++);i.push(f)}return!0}function TJ(e){return e!=null&&HZ(e)!=null}const nr=pa(),she=Object.freeze(Object.defineProperty({__proto__:null,canProjectToWGS84ComparableLonLat:TJ,canProjectWithoutEngine:Fs,getTransformation:ML,getTransformations:yJ,initializeProjection:kL,isLoaded:nu,isLoadedOrLoad:xL,load:ia,project:iu,projectExtent:xJ,projectMany:p2,projectMultipoint:bJ,projectOrLoad:mJ,projectOrLoadMany:TL,projectPoint:_J,projectPolygon:$J,projectPolyline:SJ,projectWithZConversion:wJ,projectWithoutEngine:iy,test:vJ,tryProjectWithZConversion:kp,unload:gJ},Symbol.toStringTag,{value:"Module"}));var f2;let xi=f2=class extends ne{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new f2({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};h([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xi.prototype,"cols",void 0),h([p({type:ft,json:{write:!0}})],xi.prototype,"level",void 0),h([p({type:String,json:{write:!0}})],xi.prototype,"levelValue",void 0),h([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xi.prototype,"origin",void 0),h([p({type:Number,json:{write:!0}})],xi.prototype,"resolution",void 0),h([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xi.prototype,"rows",void 0),h([p({type:Number,json:{write:!0}})],xi.prototype,"scale",void 0),xi=f2=h([P("esri.layers.support.LOD")],xi);const To=xi;let MJ=class{constructor(t,r,n,i,s=void 0){this.id=t,this.level=r,this.row=n,this.col=i,this.extent=s}};var so;const Uk=new kn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Wt=so=class extends ne{static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=$e.WebMercator,numLODs:s=24}=e;if(!zt(i)){const f=[];if(r)for(let m=0;m<r.length;m++){const y=r[m];f.push(new To({level:m,scale:y,resolution:y}))}else{let m=5e-4;for(let y=s-1;y>=0;y--)f.unshift(new To({level:y,scale:m,resolution:m})),m*=2}return new so({dpi:96,lods:f,origin:new ue(0,0,i),size:[n,n],spatialReference:i})}const o=Yr(i),a=e.origin?new ue({x:e.origin.x,y:e.origin.y,spatialReference:i}):new ue(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,c=1/(eu(i)*39.37*l),d=[];if(r)for(let f=0;f<r.length;f++){const m=r[f],y=m*c;d.push(new To({level:f,scale:m,resolution:y}))}else{let f=F$(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const m=Math.ceil(s/t);d.push(new To({level:0,scale:f,resolution:f*c}));for(let y=1;y<m;y++){const g=f/2**t,v=g*c;d.push(new To({level:y,scale:g,resolution:v})),f=g}}return new so({dpi:l,lods:d,origin:a,size:[n,n],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=Yr(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return ue.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[],i=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,r=s.scale<r?s.scale:r,i[s.level]=s})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],s=t[n+1];if(i<=e)return n;if(s===e)return n+1;if(i>e&&s<e)return n+Math.log(i/e)/Math.log(i/s)}return n}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if(typeof t=="number")s=t,o=r;else if(yt(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const c=Xg(t,this.spatialReference);if(c==null)return null;s=c.x,o=c.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n=new MJ(null,0,0,0,qi())),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=so.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===so.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,s=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=qi()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:n}=r,i=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return so.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const r=[],n=this.lods.length;for(let i=0;i<n;i++){const s=this.lods[i],o=s.resolution*t;r.push(new To({level:s.level,scale:s.scale,resolution:o}))}return new so({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};h([p({type:Number,json:{write:!0}})],Wt.prototype,"compressionQuality",void 0),h([p({type:Number,json:{write:!0}})],Wt.prototype,"dpi",void 0),h([p({type:String,json:{read:Uk.read,write:Uk.write,origins:{"web-scene":{read:!1,write:!1}}}})],Wt.prototype,"format",void 0),h([p({readOnly:!0})],Wt.prototype,"isWrappable",null),h([p({type:ue,json:{write:!0}})],Wt.prototype,"origin",void 0),h([Re("origin")],Wt.prototype,"readOrigin",null),h([p({type:[To],value:null,json:{write:!0}})],Wt.prototype,"lods",null),h([p({readOnly:!0})],Wt.prototype,"scales",void 0),h([p({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Wt.prototype,"size",void 0),h([Re("size",["rows","cols"])],Wt.prototype,"readSize",null),h([Pe("size",{cols:{type:ft},rows:{type:ft}})],Wt.prototype,"writeSize",null),h([p({type:$e,json:{write:!0}})],Wt.prototype,"spatialReference",void 0),Wt=so=h([P("esri.layers.support.TileInfo")],Wt),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Wt||(Wt={}));const kJ=Wt,sy={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Rv={xsmall:544,small:768,medium:992,large:1200};function EJ(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function Nv(e,t){return t?sy[e].valueToClassName[t].split(" "):[]}const PJ=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Rv}initialize(){this.addHandles(ce(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),wr))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r===this._get("breakpoints"))return;const n=EJ(r);if(!n){const i=JSON.stringify(Rv,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i)}r=n?r:Rv,this._set("breakpoints",{...r})}_updateClassNames(){if(!this.container)return;const r=yr.acquire(),n=yr.acquire();let i,s=!1;for(i in sy){const o=this[i],a=sy[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[i]=a,Nv(i,o).forEach(l=>n.push(l)),Nv(i,a).forEach(l=>r.push(l)))}s&&(this._applyClassNameChanges(r,n),yr.release(r),yr.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in sy)Nv(n,this[n]).forEach(i=>r.classList.remove(i))}};return h([p()],t.prototype,"breakpoints",null),h([p()],t.prototype,"orientation",void 0),h([p()],t.prototype,"widthBreakpoint",void 0),h([p()],t.prototype,"heightBreakpoint",void 0),t=h([P("esri.views.BreakpointsOwner")],t),t};function _3(e){return typeof e=="string"?document.getElementById(e):e??null}function LL(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function Vk(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function Gk(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let Ml=class extends te{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,n={}){return this._installWatch(t,r,n,ce)}addWhen(t,r,n={}){return this._installWatch(t,r,n,Gl)}addOnCollectionChange(t,r,{initial:n=!1,final:i=!1}={}){const s=++this._handleId;return this.addHandles([Nc(t,"after-changes",this._createSyncUpdatingCallback(),Jc),Nc(t,"change",r,{onListenerAdd:n?o=>r({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>r({added:[],removed:o.toArray()}):void 0})],s),je(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(je(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(om)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this.removeHandles(r);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,n={},i){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const o=i(t,r,n);return this.addHandles(o,s),je(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,r){const n=this._createSyncUpdatingCallback(),i=ce(t,n,{sync:!0,equals:()=>!1});return this.addHandles(i,r),i}_createSyncUpdatingCallback(){return()=>{this.removeHandles(om),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Yp(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(om))}),om)}}};h([p({readOnly:!0})],Ml.prototype,"updating",void 0),Ml=h([P("esri.core.support.UpdatingHandles")],Ml);const om=-42;/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var CJ=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},tl={exports:{}},ot={},Ep={exports:{}},su={};function RL(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function OJ(e,t,r){}function IJ(e,t,r){}var AJ=/javascript\s*\:/img;function LJ(e,t){return AJ.test(t)?"":t}su.whiteList=RL();su.getDefaultWhiteList=RL;su.onAttr=OJ;su.onIgnoreAttr=IJ;su.safeAttrValue=LJ;var RJ={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Mh=RJ;function NJ(e,t){e=Mh.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,s=0,o="";function a(){if(!n){var d=Mh.trim(e.slice(i,s)),f=d.indexOf(":");if(f!==-1){var m=Mh.trim(d.slice(0,f)),y=Mh.trim(d.slice(f+1));if(m){var g=t(i,o.length,m,y,d);g&&(o+=g+"; ")}}}i=s+1}for(;s<r;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var c=e.indexOf("*/",s+2);if(c===-1)break;s=c+1,i=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return Mh.trim(o)}var DJ=NJ,am=su,FJ=DJ;function Wk(e){return e==null}function jJ(e){var t={};for(var r in e)t[r]=e[r];return t}function NL(e){e=jJ(e||{}),e.whiteList=e.whiteList||am.whiteList,e.onAttr=e.onAttr||am.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||am.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||am.safeAttrValue,this.options=e}NL.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr,o=r.safeAttrValue,a=FJ(e,function(l,c,d,f,m){var y=n[d],g=!1;if(y===!0?g=y:typeof y=="function"?g=y(f):y instanceof RegExp&&(g=y.test(f)),g!==!0&&(g=!1),f=o(d,f),!!f){var v={position:c,sourcePosition:l,source:m,isWhite:g};if(g){var $=i(d,f,v);return Wk($)?d+":"+f:$}else{var $=s(d,f,v);if(!Wk($))return $}}});return a};var zJ=NL;(function(e,t){var r=su,n=zJ;function i(o,a){var l=new n(a);return l.process(o)}t=e.exports=i,t.FilterCSS=n;for(var s in r)t[s]=r[s]})(Ep,Ep.exports);var b3={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},UJ=Ep.exports.FilterCSS,VJ=Ep.exports.getDefaultWhiteList,V0=b3;function DL(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var FL=new UJ;function GJ(e,t,r){}function WJ(e,t,r){}function BJ(e,t,r){}function HJ(e,t,r){}function jL(e){return e.replace(ZJ,"&lt;").replace(JJ,"&gt;")}function qJ(e,t,r,n){if(r=BL(r),t==="href"||t==="src"){if(r=V0.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(lm.lastIndex=0,lm.test(r))return""}else if(t==="style"){if(Bk.lastIndex=0,Bk.test(r)||(Hk.lastIndex=0,Hk.test(r)&&(lm.lastIndex=0,lm.test(r))))return"";n!==!1&&(n=n||FL,r=n.process(r))}return r=HL(r),r}var ZJ=/</g,JJ=/>/g,YJ=/"/g,KJ=/&quot;/g,XJ=/&#([a-zA-Z0-9]*);?/gim,QJ=/&colon;?/gim,eY=/&newline;?/gim,lm=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Bk=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Hk=/u\s*r\s*l\s*\(.*/gi;function zL(e){return e.replace(YJ,"&quot;")}function UL(e){return e.replace(KJ,'"')}function VL(e){return e.replace(XJ,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function GL(e){return e.replace(QJ,":").replace(eY," ")}function WL(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return V0.trim(t)}function BL(e){return e=UL(e),e=VL(e),e=GL(e),e=WL(e),e}function HL(e){return e=zL(e),e=jL(e),e}function tY(){return""}function rY(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:V0.indexOf(e,o)!==-1}var i=[],s=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var c="[/removed]",d=l.position+c.length;return i.push([s!==!1?s:l.position,d]),s=!1,c}else return s||(s=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return V0.forEach(i,function(c){a+=o.slice(l,c[0]),l=c[1]}),a+=o.slice(l),a}}}function nY(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function iY(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}ot.whiteList=DL();ot.getDefaultWhiteList=DL;ot.onTag=GJ;ot.onIgnoreTag=WJ;ot.onTagAttr=BJ;ot.onIgnoreTagAttr=HJ;ot.safeAttrValue=qJ;ot.escapeHtml=jL;ot.escapeQuote=zL;ot.unescapeQuote=UL;ot.escapeHtmlEntities=VL;ot.escapeDangerHtml5Entities=GL;ot.clearNonPrintableCharacter=WL;ot.friendlyAttrValue=BL;ot.escapeAttrValue=HL;ot.onIgnoreTagStripAll=tY;ot.StripTagBody=rY;ot.stripCommentTag=nY;ot.stripBlankChar=iY;ot.cssFilter=FL;ot.getDefaultCSSWhiteList=VJ;var u1={},Mo=b3;function sY(e){var t=Mo.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=Mo.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function oY(e){return e.slice(0,2)==="</"}function aY(e,t,r){var n="",i=0,s=!1,o=!1,a=0,l=e.length,c="",d="";e:for(a=0;a<l;a++){var f=e.charAt(a);if(s===!1){if(f==="<"){s=a;continue}}else if(o===!1){if(f==="<"){n+=r(e.slice(i,a)),s=a,i=a;continue}if(f===">"){n+=r(e.slice(i,s)),d=e.slice(s,a+1),c=sY(d),n+=t(s,n.length,c,d,oY(d)),i=a+1,s=!1;continue}if(f==='"'||f==="'")for(var m=1,y=e.charAt(a-m);y.trim()===""||y==="=";){if(y==="="){o=f;continue e}y=e.charAt(a-++m)}}else if(f===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var lY=/[^a-zA-Z0-9\\_:.-]/gim;function uY(e,t){var r=0,n=0,i=[],s=!1,o=e.length;function a(m,y){if(m=Mo.trim(m),m=m.replace(lY,"").toLowerCase(),!(m.length<1)){var g=t(m,y||"");g&&i.push(g)}}for(var l=0;l<o;l++){var c=e.charAt(l),d,f;if(s===!1&&c==="="){s=e.slice(r,l),r=l+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:hY(e,l+1);continue}if(s!==!1&&l===n){if(f=e.indexOf(c,l+1),f===-1)break;d=Mo.trim(e.slice(n+1,f)),a(s,d),s=!1,l=f,r=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(f=cY(e,l),f===-1){d=Mo.trim(e.slice(r,l)),a(d),s=!1,r=l+1;continue}else{l=f-1;continue}else if(f=dY(e,l-1),f===-1){d=Mo.trim(e.slice(r,l)),d=qk(d),a(s,d),s=!1,r=l+1;continue}else continue}return r<e.length&&(s===!1?a(e.slice(r)):a(s,qk(Mo.trim(e.slice(r))))),Mo.trim(i.join(" "))}function cY(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function hY(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function dY(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function pY(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function qk(e){return pY(e)?e.substr(1,e.length-2):e}u1.parseTag=aY;u1.parseAttr=uY;var fY=Ep.exports.FilterCSS,Hn=ot,qL=u1,mY=qL.parseTag,yY=qL.parseAttr,oy=b3;function um(e){return e==null}function gY(e){var t=oy.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=oy.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=oy.trim(e.slice(0,-1))),{html:e,closing:r}}function vY(e){var t={};for(var r in e)t[r]=e[r];return t}function wY(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function ZL(e){e=vY(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Hn.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=wY(e.whiteList||e.allowList):e.whiteList=Hn.whiteList,e.onTag=e.onTag||Hn.onTag,e.onTagAttr=e.onTagAttr||Hn.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Hn.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Hn.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Hn.safeAttrValue,e.escapeHtml=e.escapeHtml||Hn.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new fY(e.css))}ZL.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,s=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,c=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=Hn.stripBlankChar(e)),r.allowCommentTag||(e=Hn.stripCommentTag(e));var f=!1;r.stripIgnoreTagBody&&(f=Hn.StripTagBody(r.stripIgnoreTagBody,s),s=f.onIgnoreTag);var m=mY(e,function(y,g,v,$,_){var b={sourcePosition:y,position:g,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(n,v)},S=i(v,$,b);if(!um(S))return S;if(b.isWhite){if(b.isClosing)return"</"+v+">";var x=gY($),M=n[v],k=yY(x.html,function(O,A){var V=oy.indexOf(M,O)!==-1,F=o(v,O,A,V);return um(F)?V?(A=l(v,O,A,d),A?O+'="'+A+'"':O):(F=a(v,O,A,V),um(F)?void 0:F):F});return $="<"+v,k&&($+=" "+k),x.closing&&($+=" /"),$+=">",$}else return S=s(v,$,b),um(S)?c($):S},c);return f&&(m=f.remove(m)),m};var _Y=ZL;(function(e,t){var r=ot,n=u1,i=_Y;function s(a,l){var c=new i(l);return c.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var l in n)t[l]=n[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(tl,tl.exports);var bY=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(a):tl.exports.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(s){s==="whiteList"?i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):i[s]=t[s]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new tl.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,i=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?tl.exports.escapeAttrValue(t):!s&&!i?tl.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):tl.exports.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,i){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,l){var c=n.validate(l,r);return c.isValid?a.concat([l]):(i=!0,a.concat([c.sanitized]))},[]);else if(CJ(t)){var o=Object.keys(t);s=o.reduce(function(a,l){var c=t[l],d=n.validate(c,r);return d.isValid?a[l]=c:(i=!0,a[l]=d.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const c1=new Map;function JL(){c1.clear()}function SY(e){return c1.get(e)}function $Y(e,t){c1.set(e,t)}function Dv(e){c1.delete(e)}const xY=W.getLogger("esri.widgets.support.widgetUtils");function TY(e){const t=yr.acquire();for(let n=0;n<arguments.length;n++){const i=arguments[n],s=typeof i;if(s==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(s==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return yr.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(n=>{var i;JL();for(const s of n)(i=e.get(s.target))==null||i(s)}),r=(n,i,s)=>(e.has(n)&&xY.error("Already observing element",n),e.set(n,i),t.observe(n,s),je(()=>{t.unobserve(n),e.delete(n)}));return(n,i,s)=>{let o=null;return Hp([ce(()=>typeof n=="function"?n():n,a=>{o==null||o.remove(),a&&(o=r(a,i,s))},Ss),je(()=>o==null?void 0:o.remove())])}})();function MY(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function lhe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function uhe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const kY=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],EY=kY.reduce((e,t)=>(e[t]=[],e),{}),PY=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],YL=new bY({whiteList:EY,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(PY.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function CY(e){return e==="Enter"||e===" "}const KL="http://www.w3.org/",h1=`${KL}2000/svg`,XL=`${KL}1999/xlink`;let Zk=[],S3=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},$3=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),QL=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},OY=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if($3(e[n],t))return n}return-1},Fv=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let s=i.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if($3(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},IY=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},m2=[],y2=!1,eR=e=>{(e.children||[]).forEach(eR),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},Jk=()=>{y2=!1,m2.forEach(eR),m2.length=0},Yk=e=>{m2.push(e),y2||(y2=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Jk,{timeout:16}):setTimeout(Jk,16))},Kk=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),Yk(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),Yk(e))},AY=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let a=i[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")v2(e,l,!0);else if(a==="classes"){let c=Object.keys(l),d=c.length;for(let f=0;f<d;f++){let m=c[f];l[m]&&e.classList.add(m)}}else if(a==="styles"){let c=Object.keys(l),d=c.length;for(let f=0;f<d;f++){let m=c[f],y=l[m];y&&(QL(y),r.styleApplyer(e,m,y))}}else if(a!=="key"&&l!=null){let c=typeof l;c==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&function(){let d=l;l=function(f){d.apply(this,[f]),f.target["oninput-value"]=f.target.value}}()),e[a]=l):r.namespace===h1?a==="href"?e.setAttributeNS(XL,a,l):e.setAttribute(a,l):c==="string"&&a!=="value"?a==="innerHTML"?e[a]=YL.sanitize(l):g2(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function g2(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let G0,LY=(e,t,r)=>{if(t)for(let n of t)Qu(n,e,void 0,r)},tR=(e,t,r)=>{LY(e,t.children,r),t.text&&(e.textContent=t.text),AY(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Qu=(e,t,r,n)=>{let i,s=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=o.length;++l){let c=o.charAt(l);if(l===o.length||c==="."||c==="#"){let d=o.charAt(s-1),f=o.slice(s,l);d==="."?i.classList.add(f):d==="#"?i.id=f:(f==="svg"&&(n=S3(n,{namespace:h1})),n.namespace!==void 0?i=e.domNode=a.createElementNS(n.namespace,f):(i=e.domNode=e.domNode||a.createElement(f),f==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),s=l+1}}tR(i,e,n)}},v2=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},RY=(e,t,r,n)=>{if(!r)return;let i=!1,s=Object.keys(r),o=s.length;for(let a=0;a<o;a++){let l=s[a],c=r[l],d=t[l];if(l==="class")d!==c&&(v2(e,d,!1),v2(e,c,!0));else if(l==="classes"){let f=e.classList,m=Object.keys(c),y=m.length;for(let g=0;g<y;g++){let v=m[g],$=!!c[v];$!==!!d[v]&&(i=!0,$?f.add(v):f.remove(v))}}else if(l==="styles"){let f=Object.keys(c),m=f.length;for(let y=0;y<m;y++){let g=f[y],v=c[g];v!==d[g]&&(i=!0,v?(QL(v),n.styleApplyer(e,g,v)):n.styleApplyer(e,g,""))}}else if(c||typeof d!="string"||(c=""),l!=="value"||g2(e)){if(c!==d){let f=typeof c;f==="function"&&n.eventHandlerInterceptor||(n.namespace===h1?l==="href"?e.setAttributeNS(XL,l,c):e.setAttribute(l,c):f==="string"?l==="innerHTML"?e[l]=YL.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):g2(e)&&l in e?e[l]=c:e.setAttribute(l,c):e[l]!==c&&(e[l]=c),i=!0)}}else{let f=e[l];f!==c&&(e["oninput-value"]?f===e["oninput-value"]:c!==d)&&(e[l]=c,e["oninput-value"]=void 0),c!==d&&(i=!0)}}return i},NY=(e,t,r,n,i)=>{if(r===n)return!1;n=n||Zk;let s,o=(r=r||Zk).length,a=n.length,l=0,c=0,d=!1;for(;c<a;){let f=l<o?r[l]:void 0,m=n[c];if(f!==void 0&&$3(f,m))d=G0(f,m,i)||d,l++;else{let y=OY(r,m,l+1);if(y>=0){for(s=l;s<y;s++)Kk(r[s]),Fv(r,s,e,"removed");d=G0(r[y],m,i)||d,l=y+1}else Qu(m,t,l<o?r[l].domNode:void 0,i),IY(m),Fv(n,c,e,"added")}c++}if(o>l)for(s=l;s<o;s++)Kk(r[s]),Fv(r,s,e,"removed");return d};G0=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=S3(r,{namespace:h1})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=NY(t,n,e.children,t.children,r)||s,s=RY(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let kh=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,G0(n,r,t)},domNode:e.domNode});const DY={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let _u=e=>S3(DY,e),Fo={create:(e,t)=>(t=_u(t),Qu(e,document.createElement("div"),void 0,t),kh(e,t)),append:(e,t,r)=>(r=_u(r),Qu(t,e,void 0,r),kh(t,r)),insertBefore:(e,t,r)=>(r=_u(r),Qu(t,e.parentNode,e,r),kh(t,r)),merge:(e,t,r)=>(r=_u(r),t.domNode=e,tR(e,t,r),kh(t,r)),replace:(e,t,r)=>(r=_u(r),Qu(t,e.parentNode,e,r),e.parentNode.removeChild(e),kh(t,r))},rR,FY=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};rR=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let jY=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?rR(r.children,i=>i.domNode===n):void 0}),r},zY=(e,t,r)=>{let n=function(i){r("domEvent",i);let s=t(),o=FY(i.currentTarget,s.domNode);o.reverse();let a,l=jY(s.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${i.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",i),a};return(i,s,o,a)=>n},Xk=e=>{let t,r,n=_u(e),i=n.performanceLogger,s=!0,o=!1,a=[],l=[],c=(f,m,y)=>{let g,v=()=>g;n.eventHandlerInterceptor=zY(t,v,i),g=f(m,y(),n),a.push(g),l.push(y)},d=()=>{if(r=void 0,s){s=!1,i("renderStart",void 0);for(let f=0;f<a.length;f++){let m=l[f]();i("rendered",void 0),a[f].update(m),i("patched",void 0)}i("renderDone",void 0),s=!0}};return t={renderNow:d,scheduleRender:()=>{r||o||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(f,m)=>{c(Fo.append,f,m)},insertBefore:(f,m)=>{c(Fo.insertBefore,f,m)},merge:(f,m)=>{c(Fo.merge,f,m)},replace:(f,m)=>{c(Fo.replace,f,m)},detach:f=>{for(let m=0;m<l.length;m++)if(l[m]===f)return l.splice(m,1),a.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},oo=class extends te{constructor(){super(...arguments),this.items=new re,this._watchUpdatingTracking=new Ml,this._callbacks=new Map,this._projector=Xk(),this._hiddenProjector=Xk()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const n of r.added){const i=()=>n.render();this._callbacks.set(n,i),this._projector.append(this.surface,i)}for(const n of r.removed){const i=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(i.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,n=this._hiddenProjector;let i;const s=()=>(i=t.render(),i);n.append(r,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i!=null&&i.domNode){const a=i.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(n.detach(s);r.firstChild;)r.removeChild(r.firstChild);return o}overlaps(t,r){const n=this.computeBoundingRect(t),i=this.computeBoundingRect(r);return Math.max(n.left,i.left)<=Math.min(n.right,i.right)&&Math.max(n.top,i.top)<=Math.min(n.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const n=!!(r!=null&&r.disableDecorations);if(!this.items.some(s=>s.visible&&!(n&&s.isDecoration)))return;const i=t.getContext("2d");i.save(),i.font=this._fontString(),this.items.forEach(s=>{n&&s.isDecoration||(i.save(),s.renderCanvas(i),i.restore())}),i.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};h([p({readOnly:!0})],oo.prototype,"surface",void 0),h([p({readOnly:!0})],oo.prototype,"items",void 0),h([p({readOnly:!0})],oo.prototype,"needsRender",null),h([p({readOnly:!0})],oo.prototype,"_watchUpdatingTracking",void 0),h([p({readOnly:!0})],oo.prototype,"updating",null),oo=h([P("esri.views.overlay.ViewOverlay")],oo);const Qk=oo,jv=[0,0];function UY(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return jv[0]=r.left+((t==null?void 0:t.pageXOffset)??0),jv[1]=r.top+((t==null?void 0:t.pageYOffset)??0),jv}function eE(e){e&&(LL(e),e.parentNode&&e.parentNode.removeChild(e))}function VY(e){const t=document.createElement("div");return e.appendChild(t),t}const Eh=16,cm=750,GY=512,WY=2,BY=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:Eh,time:cm},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([ce(()=>this.cursor,n=>{const{surface:i}=this;i&&i.setAttribute("data-cursor",n)}),ce(()=>this.navigating,n=>{const{surface:i}=this;i&&i.setAttribute("data-navigating",n.toString())})])}initialize(){const r=L("mac"),n=async()=>{r&&(await t1(()=>this.ready),this.messagesCommon=await y3("esri/t9n/common").catch(()=>{}))};n(),this.addHandles([ce(()=>this.ui,(i,s)=>this._handleUIChange(i,s),wr),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused")),n3(n)])}destroy(){this.destroyed||(this.ui=Ze(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),i=_3(r);if(i||typeof r!="string"||W.getLogger(this).error("#container",`element with id '${r}' not found`),n===i)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(eE(this.root),this._set("root",null)),this.userContent&&(Gk(this.userContent,n),eE(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",Gk(i,s),i.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);const l=new Qk;o.appendChild(l.surface),this._set("overlay",l),this.addHandles(ce(()=>l.needsRender,c=>{c&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Oc({render:()=>{var d;return(d=this.overlay)==null?void 0:d.render()}}):this._overlayRenderTaskHandle=ct(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,n,i){const s=this.position;return r-=s?s[0]:0,n-=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const s=this.position;return r+=s?s[0]:0,n+=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(ce(()=>this.root,i=>{r.container=i?VY(i):null},wr),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Eh,r.time=cm,this.addHandles([Jp(window,"resize",()=>{r.freq=Eh,r.time=cm}),Oc({prepare:n=>{const i=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,i&&(s.freq=Eh,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||i?Eh:Math.min(cm,s.freq*WY),!i&&s.freq>=GY&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=r&&UY(r);return!!i&&(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return h([p()],t.prototype,"container",null),h([p({readOnly:!0})],t.prototype,"focused",null),h([p({readOnly:!0})],t.prototype,"height",void 0),h([p()],t.prototype,"messagesCommon",void 0),h([p({type:Qk})],t.prototype,"overlay",void 0),h([p({readOnly:!0})],t.prototype,"position",void 0),h([p({readOnly:!0})],t.prototype,"resizing",void 0),h([p({readOnly:!0})],t.prototype,"root",void 0),h([p({value:null,readOnly:!0})],t.prototype,"size",null),h([p({readOnly:!0})],t.prototype,"surface",void 0),h([p({readOnly:!0})],t.prototype,"suspended",void 0),h([p()],t.prototype,"ui",void 0),h([p({readOnly:!0})],t.prototype,"userContent",void 0),h([p({readOnly:!0})],t.prototype,"width",void 0),h([p()],t.prototype,"widthBreakpoint",void 0),t=h([P("esri.views.DOMContainer")],t),t};let HY=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const n in t){const i=t[n],s=new tA(i,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=qz(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const n of r.acquired)pM(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),n=this._properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this._properties){const r=this._properties[t];let n=0;for(const i of r.acquired)pM(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}};const qY=L("mac")?"Meta":"Ctrl",d1={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)d1[e]=String.fromCharCode(e);for(let e=1;e<25;e++)d1[111+e]=`F${e}`;for(let e=65;e<91;e++)d1[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function ZY(e){if(e.key!==void 0)return kz(e);const t=d1[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function JY(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}let YY=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}};const tE=W.getLogger("esri.views.input.InputHandler");let Ot=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?tE.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const s=typeof t=="string"?new YY(t,i):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=d=>{const f=this._incoming[d.match.eventType];if(f){const m=f.indexOf(d);f.splice(m,1),o(),this._manager&&this._manager.updateDependencies()}},l=new KY(s,n,{onPause:a,onRemove:a,onResume:d=>{const f=this._incoming[d.match.eventType];f&&!f.includes(d)&&(f.push(d),o(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[s.eventType];return c||(c=[],this._incoming[s.eventType]=c),c.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new XY(t,{onEmit:(n,i,s,o)=>{var a;(a=this._manager)==null||a.emit(n.eventType,i,s,o)},onRemove:n=>{var i;delete this._outgoing[n.eventType],(i=this._manager)==null||i.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):tE.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){var n;const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&((n=i.callback)==null||n.call(i,t),t.shouldStopPropagation()))break}}},KY=class{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},XY=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},QY=class extends Ot{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{this._update(r.data)})}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:i}=t;r===this._value&&this._x===n&&this._y===i||(this._value=r,this._x=n,this._y=i,this._onChange(r,n,i))}},eK=class{constructor(t,r){this._observable=new Qp,this._value=t,this._equalityFunction=r}get value(){return ee(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function nR(e,t=NI){return new eK(e,t)}let tK=class extends Ot{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=nR(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},cn=class extends te{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=qY,this._latestPointerType="mouse",this._propertiesPool=new HY({latestPointerLocation:iK},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,n=Zo.INTERNAL){if(this._nameToGroup[t])return void W.getLogger(this).error("There is already an InputHandler group registered under the name `"+t+"`");if(r.length===0)return void W.getLogger(this).error("Can't register a group of zero handlers");const i={name:t,handlers:r.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=i;for(let s=i.handlers.length-1;s>=0;s--){const o=i.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,c,d,f)=>{this._emitInputEvent(o.priorityIndex+1,a,l,c,f,d)},setPointerCapture:(a,l)=>{this._setPointerCapture(i,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(n=>{var i;n.removed=!0,(i=n.uninstallCallback)==null||i.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):W.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const i=this._handlersPriority[n];i.priorityIndex=n;let s=i.handler.hasSideEffects;if(!s){for(const o of i.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of i.handler.incomingEventMatches){t.add(o.eventType);for(const a of o.keyModifiers)JY(a)||r.add(a)}i.active=s}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,n){this._latestPointerType=t;const i=this._get("latestPointerLocation");if(i==null||i.x!==r||i.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=r,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const s=r;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,r);const n=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,i=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,n,i)}_updateKeyModifiers(t,r){if(!r)return;let n=!1;const i=()=>{if(!n){const a=new Set;this._activeKeyModifiers.forEach(l=>{a.add(l)}),this._activeKeyModifiers=a,n=!0}},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(i(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(i(),this._activeKeyModifiers.delete(a))};if(t==="key-down"||t==="key-up"){const a=r.key;this._keyModifiers.has(a)&&s(a,t==="key-down")}const o=r.native;s("Alt",!(!o||!o.altKey)),s("Ctrl",!(!o||!o.ctrlKey)),s("Shift",!(!o||!o.shiftKey)),s("Meta",!(!o||!o.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new QY((t,r,n)=>this._setLatestPointer(t,r,n)),this._multiTouchHandler=new tK,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Zo.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Zo.INTERNAL)}_setPointerCapture(t,r,n,i){const s=t.name+"-"+r.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),i?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,n,i){this._emitInputEvent(0,t,r,n,i)}_emitInputEvent(t,r,n,i,s,o){const a=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,c={event:new rK(r,n,a,o||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}_doNewPropagation(t){this._currentPropagation={events:new R0,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,n,i;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:s,priorityIndex:o}=t.events.pop(),a=(r=s.data)==null?void 0:r.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(t.currentHandler=this._handlersPriority[o];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!s.shouldStopPropagation()&&((i=(n=t.currentHandler).eventCallback)==null||i.call(n,s)),s.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(s.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:s,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new R0;r.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)r.push(n.events.pop());n.events=r,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const i of r.handler.incomingEventMatches){if(n.eventType!==i.eventType)continue;const s=n.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===i.keyModifiers.length))return n.keyModifiers.length>i.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const n of t){let i=0;for(;i<r.length&&this._compareHandlerPriority(n,r[i])>=0;)i++;r.splice(i,0,n)}return r}get debug(){const t=r=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=n};return{injectEvent:(r,n)=>{t(()=>{this._onEventReceived(r,n)})},disablePointerCapture:t}}};h([p({readOnly:!0})],cn.prototype,"hasPendingInputs",null),h([p({constructOnly:!0})],cn.prototype,"eventSource",void 0),h([p({constructOnly:!0})],cn.prototype,"recognizers",void 0),h([p()],cn.prototype,"_latestPointerType",void 0),h([p()],cn.prototype,"latestPointerType",null),h([p()],cn.prototype,"multiTouchActive",null),h([p({readOnly:!0})],cn.prototype,"latestPointerLocation",void 0),h([p()],cn.prototype,"_paused",void 0),h([p({readOnly:!0})],cn.prototype,"updating",null),cn=h([P("esri.views.input.InputManager")],cn);let rK=class{constructor(t,r,n,i,s){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=s,this._propagationState=ko.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=ko.STOPPED}shouldStopPropagation(){return(this._propagationState&ko.STOPPED)!=0}async(t){this._propagationState|=ko.PAUSED;const r=(n,i)=>{this._propagationState&=~ko.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&ko.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var ko;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(ko||(ko={}));const Zo={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let nK=class{};const iK=nK;function _i(e){return e!=null&&"open"in e&&"declaredClass"in e}function rE(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const sK=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([ce(()=>[this.ui,this.popup],([r,n],i)=>{const s="popup",o="manual";if(i){const[a,l]=i;a&&_i(l)&&(l.view=null,rE(l)&&a.remove(l,s))}r&&_i(n)&&(n.view=this,rE(n)&&r.add(n,{key:s,position:o,internal:!0}))},wr),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&(!_i(this.popup)&&"autoOpenEnabled"in this.popup&&this.popup.autoOpenEnabled===!1||(_i(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),_i(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)})))},Zo.WIDGET)]),t1(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{H(()=>import("./Popup-35e76c61.js"),["assets/Popup-35e76c61.js","assets/throttle-7bf02de9.js","assets/ByteSizeUnit-d4757d40.js","assets/AttachmentInfo-24f267f4.js","assets/AttachmentQuery-6e51685e.js","assets/utils-22d77ce3.js","assets/widget-931ed9b6.js","assets/ColorStop-7842c5e0.js","assets/utils-7b0dc748.js","assets/utils-55c191c7.js","assets/LRUCache-c7a923e7.js","assets/jsonUtils-f9aedde2.js","assets/UniqueValueRenderer-36595a45.js","assets/LegendOptions-48c2523d.js","assets/diffUtils-9dbdd340.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js","assets/DictionaryLoader-7ed264e8.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/executeQueryJSON-bdb53db6.js","assets/query-22d59433.js","assets/pbfQueryUtils-3b107514.js","assets/pbf-08dd563b.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/queryZScale-b4140d92.js","assets/FeatureSet-4ba9f962.js","assets/featureConversionUtils-bfaae0f6.js","assets/RelationshipQuery-c2adf52b.js","assets/TopFeaturesQuery-4081a2c4.js","assets/FeatureLayer-1a860199.js","assets/MultiOriginJSONSupport-2c2935ac.js","assets/commonProperties-43b199c9.js","assets/FeatureLayerBase-7801e5b0.js","assets/featureLayerUtils-a39aeb4a.js","assets/LayerFloorInfo-0e67daa6.js","assets/serviceCapabilitiesUtils-7d3bbd37.js","assets/APIKeyMixin-828ee2ca.js","assets/ArcGISService-16130ddc.js","assets/CustomParametersMixin-6ff009ea.js","assets/EditBusLayer-60b14f80.js","assets/FeatureEffectLayer-7399d7e4.js","assets/FeatureEffect-8a44b622.js","assets/FeatureReductionLayer-5aee6f89.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/FeatureReductionSelection-63d7d958.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/OperationalLayer-1bd8068d.js","assets/OrderedLayer-d4b74f5a.js","assets/PortalLayer-394f0be4.js","assets/portalItemUtils-1acb3c0b.js","assets/RefreshableLayer-1604ee0a.js","assets/TemporalLayer-64978c57.js","assets/FeatureTemplate-580a397d.js","assets/FeatureType-d929c2b3.js","assets/fieldProperties-c388c8d2.js","assets/labelingInfo-8214bb11.js","assets/versionUtils-1e15284e.js","assets/styleUtils-62792db0.js","assets/popupUtils-afaed8cf.js","assets/interfaces-f1f22245.js","assets/colorUtils-f8c9929c.js"])})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(_i(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void W.getLogger(this).error(new G("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),_i(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,n){await this.when();const{location:i,queryArea:s,layerViewsAndGraphics:o,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(r,n),l=Promise.resolve(a),c=this._queryLayerPopupFeatures(s,o,n),d=c.map(f=>f.promise);return{location:i,clientOnlyGraphics:a,allGraphicsPromise:Ez([l,...d]).then(f=>Array.from(new Set(f.flat()))),promisesPerLayerView:c}}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!_i(this.popup))return this._popupSetupTask=e3(async n=>{const{default:i}=await H(()=>import("./Popup-35e76c61.js"),["assets/Popup-35e76c61.js","assets/throttle-7bf02de9.js","assets/ByteSizeUnit-d4757d40.js","assets/AttachmentInfo-24f267f4.js","assets/AttachmentQuery-6e51685e.js","assets/utils-22d77ce3.js","assets/widget-931ed9b6.js","assets/ColorStop-7842c5e0.js","assets/utils-7b0dc748.js","assets/utils-55c191c7.js","assets/LRUCache-c7a923e7.js","assets/jsonUtils-f9aedde2.js","assets/UniqueValueRenderer-36595a45.js","assets/LegendOptions-48c2523d.js","assets/diffUtils-9dbdd340.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js","assets/DictionaryLoader-7ed264e8.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/executeQueryJSON-bdb53db6.js","assets/query-22d59433.js","assets/pbfQueryUtils-3b107514.js","assets/pbf-08dd563b.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/queryZScale-b4140d92.js","assets/FeatureSet-4ba9f962.js","assets/featureConversionUtils-bfaae0f6.js","assets/RelationshipQuery-c2adf52b.js","assets/TopFeaturesQuery-4081a2c4.js","assets/FeatureLayer-1a860199.js","assets/MultiOriginJSONSupport-2c2935ac.js","assets/commonProperties-43b199c9.js","assets/FeatureLayerBase-7801e5b0.js","assets/featureLayerUtils-a39aeb4a.js","assets/LayerFloorInfo-0e67daa6.js","assets/serviceCapabilitiesUtils-7d3bbd37.js","assets/APIKeyMixin-828ee2ca.js","assets/ArcGISService-16130ddc.js","assets/CustomParametersMixin-6ff009ea.js","assets/EditBusLayer-60b14f80.js","assets/FeatureEffectLayer-7399d7e4.js","assets/FeatureEffect-8a44b622.js","assets/FeatureReductionLayer-5aee6f89.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/FeatureReductionSelection-63d7d958.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/OperationalLayer-1bd8068d.js","assets/OrderedLayer-d4b74f5a.js","assets/PortalLayer-394f0be4.js","assets/portalItemUtils-1acb3c0b.js","assets/RefreshableLayer-1604ee0a.js","assets/TemporalLayer-64978c57.js","assets/FeatureTemplate-580a397d.js","assets/FeatureType-d929c2b3.js","assets/fieldProperties-c388c8d2.js","assets/labelingInfo-8214bb11.js","assets/versionUtils-1e15284e.js","assets/styleUtils-62792db0.js","assets/popupUtils-afaed8cf.js","assets/interfaces-f1f22245.js","assets/colorUtils-f8c9929c.js"]);if(mt(n),!this.popup||_i(this.popup))return;const s=this.popup;delete s.open,delete s.close,this.popup=new i(s)}),this._popupSetupTask.promise}_queryLayerPopupFeatures(r,n,i){return n.map(({layerView:s,graphics:o})=>{const a={clientGraphics:o,event:i!=null?i.event:void 0,signal:i!=null?i.signal:void 0,defaultPopupTemplateEnabled:i!=null&&!!i.defaultPopupTemplateEnabled},l=s.fetchPopupFeatures(r,a);return{layerView:s,promise:l}})}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n!=null&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(r,n){const{clientGraphics:i,queryArea:s,location:o}=await this._popupHitTestGraphics(r,n),a=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:c}=this._graphicsPerFetchPopupLayerView(i,a);return{clientOnlyGraphics:c,layerViewsAndGraphics:l,queryArea:s,location:o}}async _popupHitTestGraphics(r,n){const i=await this.popupHitTest(r),s=i.results,o=i.mapPoint,a=s.filter(c=>c.type==="graphic"&&this._isValidPopupGraphic(c.graphic,n)),l=a.length?a[0].mapPoint:null;return{clientGraphics:a.map(c=>c.graphic),queryArea:o,location:o||l}}_getFetchPopupLayerViews(){const r=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&r.push(n)}),this.graphicsView!=null&&this._isValidPopupLayerView(this.graphicsView)&&r.push(this.graphicsView),r.reverse()}_isValidPopupLayerView(r){return r!=null&&(!("layer"in r)||!r.suspended)&&"fetchPopupFeatures"in r}_graphicsPerFetchPopupLayerView(r,n){const i=[],s=new Map,o=n.map(a=>{const l=[];return"layer"in a?s.set(a.layer,l):s.set(a.graphics,l),{layerView:a,graphics:l}});for(const a of r){const l=s.get(a.layer)||s.get(a.sourceLayer)||null;l?l.push(a):i.push(a)}return{layerViewsAndGraphics:o,clientOnlyGraphics:i}}};return h([p({cast(r){return!r||_i(r)||typeof r=="object"&&(r.open=n=>(Cc(W.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(n)),r.close=()=>(Cc(W.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),r}})],t.prototype,"popup",void 0),h([p()],t.prototype,"popupEnabled",void 0),t=h([P("esri.views.PopupView")],t),t};function Bl(e,t,r=re){return t||(t=new r),t===e||(t.removeAll(),oK(e)?t.addMany(e):e&&t.add(e)),t}function iR(e){return e}function oK(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Eo;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Eo||(Eo={}));let aK=class{constructor(){this._resolver=ci(),this._status=Eo.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Eo.RESOLVED,this._cleanUp()},()=>{this._status=Eo.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Eo.RESOLVED}isRejected(){return this._status===Eo.REJECTED}isFulfilled(){return this._status!==Eo.PENDING}abort(){this._resolver.reject(Tt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=ci(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||pi(i)||this._resolver.reject(i)}),t.resolve()}};const x3=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new aK,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=h([P("esri.core.Promise")],t),t};let W0=class extends x3(te){};W0=h([P("esri.core.Promise")],W0);const lK="not-loaded",uK="loading",cK="failed",nE="loaded",sR=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=f$(s,l);this.destroyed&&l(new G("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===lK){this._set("loadStatus",uK);const a=this._loadController=new AbortController;i({signal:a.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",nE),this._loadController=null},n=>{this._set("loadStatus",cK),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=dp(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===nE}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new G("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return h([p({readOnly:!0})],t.prototype,"loaded",null),h([p({readOnly:!0})],t.prototype,"loadError",void 0),h([p({clonable:!1})],t.prototype,"loadStatus",void 0),h([p({type:[Ds],readOnly:!0})],t.prototype,"loadWarnings",null),t=h([P("esri.core.Loadable")],t),t};let Uh=class extends sR(W0){};Uh=h([P("esri.core.Loadable")],Uh),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=sR,e.isLoadable=t}(Uh||(Uh={}));const sa=Uh;async function oR(e,t){return await e.load(),hK(e,t)}async function hK(e,t){const r=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):re.isCollection(o)?o.forEach(a=>n(a)):sa.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await WB(r,async s=>{const o=await o5(dK(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function dK(e){return"loadAll"in e&&typeof e.loadAll=="function"}let hm;function pK(e){return hm&&!hm.destroyed||(hm=e()),hm}var w2;const fK=new kn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let hn=w2=class extends te{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new w2({categories:this.categories?j(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=Xg(this.extent,$e.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>fK.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};h([p()],hn.prototype,"categories",void 0),h([p()],hn.prototype,"disableExtraQuery",void 0),h([p({type:et})],hn.prototype,"extent",void 0),h([p()],hn.prototype,"filter",void 0),h([p()],hn.prototype,"num",void 0),h([p()],hn.prototype,"query",void 0),h([p()],hn.prototype,"sortField",void 0),h([p()],hn.prototype,"sortOrder",null),h([p()],hn.prototype,"start",void 0),hn=w2=h([P("esri.portal.PortalQueryParams")],hn);const Ts=hn;var _2;let vt=_2=class extends ne{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new G("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new _2;return t.sourceJSON=e,t.read(e),t}queryItems(e,t){let r=Dr(Ts,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new Ts,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Ts,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const s=new Ts;return s.disableExtraQuery=!0,s.num=1,s.query=i,r.queryGroups(s,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],s=new Ts;return s.num=1,s.query=`typekeywords:"${e}"`,i.queryItems(s,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const s=i==null?void 0:i.categorySchema;return s!=null&&s.length?s:[]}):[])}};h([p()],vt.prototype,"access",void 0),h([p({type:Date})],vt.prototype,"created",void 0),h([p()],vt.prototype,"description",void 0),h([p()],vt.prototype,"id",void 0),h([p()],vt.prototype,"isInvitationOnly",void 0),h([p({type:Date})],vt.prototype,"modified",void 0),h([p()],vt.prototype,"owner",void 0),h([p()],vt.prototype,"portal",void 0),h([p()],vt.prototype,"snippet",void 0),h([p()],vt.prototype,"sortField",void 0),h([p()],vt.prototype,"sortOrder",void 0),h([p()],vt.prototype,"sourceJSON",void 0),h([p()],vt.prototype,"tags",void 0),h([p()],vt.prototype,"thumbnail",void 0),h([p({readOnly:!0})],vt.prototype,"thumbnailUrl",null),h([p()],vt.prototype,"title",void 0),h([p({readOnly:!0})],vt.prototype,"url",null),vt=_2=h([P("esri.portal.PortalGroup")],vt);const b2=vt;let Ca=class extends te{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};h([p()],Ca.prototype,"nextQueryParams",void 0),h([p()],Ca.prototype,"queryParams",void 0),h([p()],Ca.prototype,"results",void 0),h([p()],Ca.prototype,"total",void 0),Ca=h([P("esri.portal.PortalQueryResult")],Ca);const mK=Ca;let os=class extends ne{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new G("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};h([p({type:Date})],os.prototype,"created",void 0),h([p()],os.prototype,"id",void 0),h([p()],os.prototype,"portal",void 0),h([p()],os.prototype,"title",void 0),h([p({readOnly:!0})],os.prototype,"url",null),h([p()],os.prototype,"username",void 0),os=h([P("esri.portal.PortalFolder")],os);const yK=os;var S2;let ze=S2=class extends ne{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,n=e==null?void 0:e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(n=>n.id);if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal.request(t,n).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=yK.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=b2.fromJSON(r);return n.portal=this.portal,n}):[],t})}fetchItems(e){const t=e??{};let r,n=this.userContentUrl??"";return t.folder&&(n+="/"+t.folder.id),H(()=>Promise.resolve().then(()=>uR),void 0).then(({default:i})=>{r=i;const s={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(n,{query:s})}).then(i=>{let s;return i!=null&&i.items?(s=i.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),Promise.all(s.map(o=>o.load())).catch(o=>o).then(()=>({items:s,nextStart:i.nextStart,total:i.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new b2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new G("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new G("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new S2;return t.sourceJSON=e,t.read(e),t}};h([p()],ze.prototype,"access",void 0),h([p({type:Date})],ze.prototype,"created",void 0),h([p()],ze.prototype,"culture",void 0),h([p()],ze.prototype,"description",void 0),h([p()],ze.prototype,"email",void 0),h([p()],ze.prototype,"favGroupId",void 0),h([p()],ze.prototype,"fullName",void 0),h([p({type:Date})],ze.prototype,"modified",void 0),h([p()],ze.prototype,"orgId",void 0),h([p()],ze.prototype,"portal",void 0),h([p()],ze.prototype,"preferredView",void 0),h([p()],ze.prototype,"privileges",void 0),h([p()],ze.prototype,"region",void 0),h([p()],ze.prototype,"role",void 0),h([p()],ze.prototype,"roleId",void 0),h([p()],ze.prototype,"sourceJSON",void 0),h([p()],ze.prototype,"thumbnail",void 0),h([p({readOnly:!0})],ze.prototype,"thumbnailUrl",null),h([p()],ze.prototype,"units",void 0),h([p({readOnly:!0})],ze.prototype,"userContentUrl",null),h([p({readOnly:!0})],ze.prototype,"url",null),h([p()],ze.prototype,"username",void 0),h([p()],ze.prototype,"userType",void 0),ze=S2=h([P("esri.portal.PortalUser")],ze);const aR=ze;var as;let dm;const iE={PortalGroup:()=>Promise.resolve({default:b2}),PortalItem:()=>H(()=>Promise.resolve().then(()=>uR),void 0),PortalUser:()=>Promise.resolve({default:aR})};let U=as=class extends Xp(sa){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Te.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){sE.unregister(this),this.defaultBasemap=Ze(this.defaultBasemap),this.defaultDevBasemap=Ze(this.defaultDevBasemap),this.defaultVectorBasemap=Ze(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=ct(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Te.request.trustedServers.includes(t)||Te.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=aR.fromJSON(e),t.portal=this),t}load(e){const t=H(()=>Promise.resolve().then(()=>FK),void 0).then(({default:r})=>{mt(e),dm=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var n;if(Fe){const i=Fe;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==as.AUTH_MODE_AUTO||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",gK(new WeakRef(this))),sE.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await H(()=>import("./ElevationLayer-85fe64a2.js"),["assets/ElevationLayer-85fe64a2.js","assets/MultiOriginJSONSupport-2c2935ac.js","assets/ArcGISCachedService-9f6bcee9.js","assets/TileInfoTilemapCache-eafc07df.js","assets/TilemapCache-92136343.js","assets/ByteSizeUnit-d4757d40.js","assets/LRUCache-c7a923e7.js","assets/ArcGISService-16130ddc.js","assets/OperationalLayer-1bd8068d.js","assets/commonProperties-43b199c9.js","assets/PortalLayer-394f0be4.js","assets/portalItemUtils-1acb3c0b.js"])).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);r.unshift(...n)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Ns(e)?Promise.reject(Tt()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Ts;if(r.num=100,r.sortField="title",t&&t.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return Ns(e)?Promise.reject(Tt()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Kr();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Kr();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return pK(()=>new as)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Kr().toLowerCase()},...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(n,i)}queryPortal(e,t,r,n){const i=Dr(Ts,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(a=>{const l=i.clone();return l.start=a.nextStart,new mK({nextQueryParams:l,queryParams:i,total:a.total,results:as._resultsToTypedArray(o,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(sA(l),a)));return r&&iE[r]?iE[r]().then(({default:o})=>(mt(n),s(o))):s()}signIn(){if(this.authMode===as.AUTH_MODE_ANONYMOUS)return Promise.reject(new G("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Fe?Fe.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const i=as._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():n)).then(()=>i,()=>i)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===as.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return Yt(this._normalizeSSL(e),c).then(d=>d.data)}toJSON(){throw new G("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new as({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new G("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Ts;r.query=e||(Te.apiKey&&y4(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,t);if(!n.total)return[];const i=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new dm({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const n=new Ts({query:r,disableExtraQuery:!0}),i=await this.queryGroups(n,t);if(!i.total)return[];const s=i.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new dm({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=dm.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let i=[];if(r){const s=n!=null?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};U.AUTH_MODE_ANONYMOUS="anonymous",U.AUTH_MODE_AUTO="auto",U.AUTH_MODE_IMMEDIATE="immediate",h([p()],U.prototype,"access",void 0),h([p()],U.prototype,"allSSL",void 0),h([p()],U.prototype,"authMode",void 0),h([p()],U.prototype,"authorizedCrossOriginDomains",void 0),h([Re("authorizedCrossOriginDomains")],U.prototype,"readAuthorizedCrossOriginDomains",null),h([p()],U.prototype,"basemapGalleryGroupQuery",void 0),h([p({json:{name:"3DBasemapGalleryGroupQuery"}})],U.prototype,"basemapGalleryGroupQuery3D",void 0),h([p()],U.prototype,"bingKey",void 0),h([p()],U.prototype,"canListApps",void 0),h([p()],U.prototype,"canListData",void 0),h([p()],U.prototype,"canListPreProvisionedItems",void 0),h([p()],U.prototype,"canProvisionDirectPurchase",void 0),h([p()],U.prototype,"canSearchPublic",void 0),h([p()],U.prototype,"canShareBingPublic",void 0),h([p()],U.prototype,"canSharePublic",void 0),h([p()],U.prototype,"canSignInArcGIS",void 0),h([p()],U.prototype,"canSignInIDP",void 0),h([p()],U.prototype,"colorSetsGroupQuery",void 0),h([p()],U.prototype,"commentsEnabled",void 0),h([p({type:Date})],U.prototype,"created",void 0),h([p()],U.prototype,"credential",void 0),h([p()],U.prototype,"culture",void 0),h([p()],U.prototype,"currentVersion",void 0),h([p()],U.prototype,"customBaseUrl",void 0),h([p()],U.prototype,"defaultBasemap",void 0),h([Re("defaultBasemap")],U.prototype,"readDefaultBasemap",null),h([p()],U.prototype,"defaultDevBasemap",void 0),h([Re("defaultDevBasemap")],U.prototype,"readDefaultDevBasemap",null),h([p({type:et})],U.prototype,"defaultExtent",void 0),h([p()],U.prototype,"defaultVectorBasemap",void 0),h([Re("defaultVectorBasemap")],U.prototype,"readDefaultVectorBasemap",null),h([p()],U.prototype,"description",void 0),h([p()],U.prototype,"devBasemapGalleryGroupQuery",void 0),h([p()],U.prototype,"eueiEnabled",void 0),h([p({readOnly:!0})],U.prototype,"extraQuery",null),h([p()],U.prototype,"featuredGroups",void 0),h([p()],U.prototype,"featuredItemsGroupQuery",void 0),h([p()],U.prototype,"galleryTemplatesGroupQuery",void 0),h([p()],U.prototype,"livingAtlasGroupQuery",void 0),h([p()],U.prototype,"hasCategorySchema",void 0),h([p()],U.prototype,"helpBase",void 0),h([p()],U.prototype,"helperServices",void 0),h([p()],U.prototype,"helpMap",void 0),h([p()],U.prototype,"homePageFeaturedContent",void 0),h([p()],U.prototype,"homePageFeaturedContentCount",void 0),h([p()],U.prototype,"httpPort",void 0),h([p()],U.prototype,"httpsPort",void 0),h([p()],U.prototype,"id",void 0),h([p()],U.prototype,"ipCntryCode",void 0),h([p({readOnly:!0})],U.prototype,"isOrganization",null),h([p()],U.prototype,"isPortal",void 0),h([p()],U.prototype,"isReadOnly",void 0),h([p({readOnly:!0})],U.prototype,"itemPageUrl",null),h([p()],U.prototype,"layerTemplatesGroupQuery",void 0),h([p()],U.prototype,"maxTokenExpirationMinutes",void 0),h([p({type:Date})],U.prototype,"modified",void 0),h([p()],U.prototype,"name",void 0),h([p()],U.prototype,"portalHostname",void 0),h([p()],U.prototype,"portalMode",void 0),h([p()],U.prototype,"portalProperties",void 0),h([p()],U.prototype,"region",void 0),h([p({readOnly:!0})],U.prototype,"restUrl",null),h([p()],U.prototype,"rotatorPanels",void 0),h([p()],U.prototype,"showHomePageDescription",void 0),h([p()],U.prototype,"sourceJSON",void 0),h([p()],U.prototype,"staticImagesUrl",void 0),h([p({json:{name:"2DStylesGroupQuery"}})],U.prototype,"stylesGroupQuery2d",void 0),h([p({json:{name:"stylesGroupQuery"}})],U.prototype,"stylesGroupQuery3d",void 0),h([p()],U.prototype,"supportsHostedServices",void 0),h([p()],U.prototype,"symbolSetsGroupQuery",void 0),h([p()],U.prototype,"templatesGroupQuery",void 0),h([p()],U.prototype,"thumbnail",void 0),h([p({readOnly:!0})],U.prototype,"thumbnailUrl",null),h([p()],U.prototype,"units",void 0),h([p()],U.prototype,"url",void 0),h([p()],U.prototype,"urlKey",void 0),h([Re("urlKey")],U.prototype,"readUrlKey",null),h([p()],U.prototype,"user",void 0),h([Re("user")],U.prototype,"readUser",null),h([p()],U.prototype,"use3dBasemaps",void 0),h([p()],U.prototype,"useStandardizedQuery",void 0),h([p()],U.prototype,"useVectorBasemaps",void 0),h([p()],U.prototype,"vectorBasemapGalleryGroupQuery",void 0),U=as=h([P("esri.portal.Portal")],U);const oa=U,sE=new FinalizationRegistry(e=>{e.remove()});function gK(e){const t=Fe;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let ls=class extends te{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){t!=null&&Jr(t)?W.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new G("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey},signal:r==null?void 0:r.signal})}async update(t,r){const{addOrUpdateResource:n}=await H(()=>import("./resourceUtils-b3854bba.js"),[]);return n(this,"update",t,r)}hasPath(){return this.path!=null}_normalizePath(t,r){return t==null?t:(t=t.replace(/^\/+/,""),r!=null&&Jr(t)&&(t=O$(t,r.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};h([p()],ls.prototype,"portalItem",void 0),h([p({type:String,value:null})],ls.prototype,"path",null),h([_r("path")],ls.prototype,"_castPath",null),h([p({type:String,readOnly:!0})],ls.prototype,"url",null),h([p({type:String,readOnly:!0})],ls.prototype,"cdnUrl",null),h([p({type:String,readOnly:!0})],ls.prototype,"itemRelativeUrl",null),ls=h([P("esri.portal.PortalItemResource")],ls);const vK=ls;let Vh=class extends te{constructor(t){super(t),this.created=null,this.rating=null}};h([p()],Vh.prototype,"created",void 0),h([p()],Vh.prototype,"rating",void 0),Vh=h([P("esri.portal.PortalRating")],Vh);const zv=Vh;var Oa;const wK=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),_K=new Set(["KML","GeoJson","CSV"]);let ae=Oa=class extends Xp(sa){static from(e){return y$(Oa,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"&&(r="Excalibur Project"),r}readExtent(e){return e&&e.length?new et(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var m;const e=((m=this.type)==null?void 0:m.toLowerCase())||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,a=!1,l=!1,c=!1,d=!1,f=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=c&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":c?"spatiotemporal":s?"featureshosted":d?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="360 vr experience"?i="360vr":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hubpage"?i="hubpage":e==="hub event"?i="hubevent":e==="hub site application"?i="hubsite":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="style"?i="style":e==="desktop style"?i="desktopstyle":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="insights script"?i="insightsscript":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="link chart"?i="linkchart":e==="investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippets"||e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(f=t.includes("Map"),i=f?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":"maps",i?Le(r+i+n+".png"):null}get isLayer(){return this.type!=null&&wK.has(this.type)}get itemCdnUrl(){let e=this.itemUrl;return e&&Fe&&!Fe.findCredential(e)&&(e=Fe._normalizeAGOLorgDomain(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var r,n,i;const e=(r=this.portal)==null?void 0:r.restUrl;if(!e)return null;const t=this.owner||((i=(n=this.portal)==null?void 0:n.user)==null?void 0:i.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=oa.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof zv&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new zv({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:j(this.applicationProxies),avgRating:this.avgRating,categories:j(this.categories),created:j(this.created),culture:this.culture,description:this.description,extent:j(this.extent),groupCategories:j(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:j(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:j(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Oa({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var r;const e=this.toJSON();for(const n of["tags","typeKeywords","categories"])e[n]=(r=e[n])==null?void 0:r.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new zv(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Oa)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new G("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new G("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i==null?void 0:i.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new Oa({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")Ql(t)?n.query={data:t}:n.query={url:vn(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new G("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await H(()=>import("./resourceUtils-b3854bba.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResource:n}=await H(()=>import("./resourceUtils-b3854bba.js"),[]);return e.portalItem=this,n(e,"add",t,r)}async removeResource(e,t){const{removeResource:r}=await H(()=>import("./resourceUtils-b3854bba.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new G("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await H(()=>import("./resourceUtils-b3854bba.js"),[]);return t(this,e)}resourceFromPath(e){return new vK({portalItem:this,path:e})}toJSON(){var r,n;const e=this.extent,t={accessInformation:this.accessInformation,categories:j(this.categories),created:(r=this.created)==null?void 0:r.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(n=this.modified)==null?void 0:n.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};return II(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Oa({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};h([p({type:["private","shared","org","public"]})],ae.prototype,"access",void 0),h([p()],ae.prototype,"accessInformation",void 0),h([p({type:String})],ae.prototype,"apiKey",void 0),h([p({json:{read:{source:"appProxies"}}})],ae.prototype,"applicationProxies",void 0),h([p()],ae.prototype,"avgRating",void 0),h([p()],ae.prototype,"categories",void 0),h([p({type:Date})],ae.prototype,"created",void 0),h([p()],ae.prototype,"culture",void 0),h([p()],ae.prototype,"description",void 0),h([p({readOnly:!0})],ae.prototype,"displayName",null),h([p({type:et})],ae.prototype,"extent",void 0),h([Re("extent")],ae.prototype,"readExtent",null),h([p()],ae.prototype,"groupCategories",void 0),h([p({readOnly:!0})],ae.prototype,"iconUrl",null),h([p()],ae.prototype,"id",void 0),h([p({readOnly:!0})],ae.prototype,"isLayer",null),h([p({type:Boolean,readOnly:!0})],ae.prototype,"isOrgItem",void 0),h([p()],ae.prototype,"itemControl",void 0),h([p({readOnly:!0})],ae.prototype,"itemPageUrl",null),h([p({readOnly:!0})],ae.prototype,"itemUrl",null),h([p()],ae.prototype,"licenseInfo",void 0),h([p({type:Date})],ae.prototype,"modified",void 0),h([p()],ae.prototype,"name",void 0),h([p()],ae.prototype,"numComments",void 0),h([p()],ae.prototype,"numRatings",void 0),h([p()],ae.prototype,"numViews",void 0),h([p()],ae.prototype,"owner",void 0),h([p()],ae.prototype,"ownerFolder",void 0),h([p({type:oa})],ae.prototype,"portal",void 0),h([p()],ae.prototype,"screenshots",void 0),h([p()],ae.prototype,"size",void 0),h([p()],ae.prototype,"snippet",void 0),h([p()],ae.prototype,"sourceJSON",void 0),h([p({type:String})],ae.prototype,"sourceUrl",void 0),h([p({type:String})],ae.prototype,"spatialReference",void 0),h([p()],ae.prototype,"tags",void 0),h([p()],ae.prototype,"thumbnail",void 0),h([p({readOnly:!0})],ae.prototype,"thumbnailUrl",null),h([p()],ae.prototype,"title",void 0),h([p()],ae.prototype,"type",void 0),h([p()],ae.prototype,"typeKeywords",void 0),h([p({type:String,json:{read(e,t){var r;if(_K.has(t.type)){const n=(r=this.portal)==null?void 0:r.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],ae.prototype,"url",void 0),h([p({readOnly:!0})],ae.prototype,"userItemUrl",null),ae=Oa=h([P("esri.portal.PortalItem")],ae);const lR=ae,uR=Object.freeze(Object.defineProperty({__proto__:null,default:lR},Symbol.toStringTag,{value:"Module"}));async function bK(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await y3("esri/t9n/basemaps");return r[e]||r[t]}const $2={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Le("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Le("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Le("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return Le("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Le("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Le("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Le("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Le("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Le("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Le("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Le("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Le("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Le("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},SK=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let bu=class extends te{constructor(t){super(t),this.id=null,this.language=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;const t=Kr().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const r=oH(t);return r==="pt"?"pt-BR":r&&SK.has(r)?r:"global"}};h([p()],bu.prototype,"id",void 0),h([p()],bu.prototype,"language",void 0),h([p()],bu.prototype,"serviceUrl",void 0),bu=h([P("esri.support.BasemapStyle")],bu);const $K=bu,Che={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Ohe(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function p1(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function Ihe(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}async function Ahe(e,t){const r=Fe==null?void 0:Fe.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.substring(0,n)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await Yt(i,{query:{f:"json"},responseType:"json",signal:s});return(o==null?void 0:o.owningSystemUrl)||null}function xK(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function TK(e){return xK(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function MK(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function kK(e){return!!MK(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const EK=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),PK=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function CK(e){return e.layerContainerType==="basemap"?EK:e.layerContainerType==="operational-layers"?PK:null}function OK(e,t){if(t.restrictedWebMapWriting){const r=CK(t);return r==null||r.has(e.type)&&!p1(e)}return!0}function IK(e,t){var r;if(t)if(p1(e)){const n=Bp("featureCollection.layers",t),i=(r=n==null?void 0:n[0])==null?void 0:r.layerDefinition;i&&oE(e,i)}else e.type!=="group"&&oE(e,t)}function oE(e,t){"maxScale"in e&&(t.maxScale=S0(e.maxScale)??void 0),"minScale"in e&&(t.minScale=S0(e.minScale)??void 0)}function AK(e,t){if(IK(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=S0(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(p1(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function aE(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r!=null&&r.messages&&r.messages.push(new G("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(p1(e)&&!e.isTable)t=e.resourceInfo;else if(OK(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&AK(e,t=j(t)),t}var Gh;let LK=0;const RK="esri.Basemap";let Ur=Gh=class extends Xp(sa){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+LK++,this.baseLayers=new re,this.referenceLayers=new re;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&W.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{W.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Ze(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Bl(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=aE(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=aE(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",Bl(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return oR(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>u0(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>u0(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new Gh({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var r;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(n=>{const i=j(n);return i.url&&Hi(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&Hi(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;mt(e);const i=[];if(t){const s=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(bK(o).then(a=>{a&&this.read({title:a},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){var l,c;const n=(l=this.resourceInfo)==null?void 0:l.context,i=((c=this.portalItem)==null?void 0:c.portal)||(n==null?void 0:n.portal)||null,s=DK[(n==null?void 0:n.origin)||""]??"web-map",{populateOperationalLayers:o}=await H(()=>import("./layersCreator-e005d3b1.js"),["assets/layersCreator-e005d3b1.js","assets/portalLayers-5859543e.js","assets/associatedFeatureServiceUtils-87fe13f5.js","assets/lazyLayerLoader-dc888de8.js","assets/portalItemUtils-1acb3c0b.js","assets/styleUtils-62792db0.js"]),a=[];if(mt(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const d={context:{...n,origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},f=g=>s==="web-scene"&&g.layerType==="ArcGISSceneServiceLayer"||g.isReference,m=o(this.baseLayers,e.baseMapLayers.filter(g=>!f(g)),d);a.push(m);const y=o(this.referenceLayers,e.baseMapLayers.filter(f),d);a.push(y)}await Promise.allSettled(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=ur(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:NK[e.type||""]??"web-map",portal:e.portal||oa.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||oa.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){var s;const r=`${e.serviceUrl}/${e.id}`,n=(await Yt(r,{query:{language:e.getLanguageParamValue()},signal:t==null?void 0:t.signal})).data;if(n.baseMap&&Array.isArray(n.baseMap.baseMapLayers)){for(const o of n.baseMap.baseMapLayers)if(!o.customParameters&&((s=o.styleUrl)!=null&&s.includes("?"))){const a=ur(o.styleUrl);a.query&&(o.styleUrl=a.path,o.customParameters=a.query)}}const i=ur(r);return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=$2[e];return t?t.itemId?new Gh({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Gh.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};h([p({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:re}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],Ur.prototype,"baseLayers",null),h([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],Ur.prototype,"id",void 0),h([p({type:lR})],Ur.prototype,"portalItem",void 0),h([p()],Ur.prototype,"referenceLayers",null),h([p({readOnly:!0})],Ur.prototype,"resourceInfo",void 0),h([p({type:$e})],Ur.prototype,"spatialReference",void 0),h([p({type:$K})],Ur.prototype,"style",void 0),h([p()],Ur.prototype,"thumbnailUrl",void 0),h([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Ur.prototype,"title",void 0),h([Pe("title")],Ur.prototype,"writeTitle",null),Ur=Gh=h([P(RK)],Ur);const NK={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},DK={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Dd=Ur,FK=Object.freeze(Object.defineProperty({__proto__:null,default:Dd},Symbol.toStringTag,{value:"Module"})),B0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function cR(e){return!!B0[e]||!!B0[e.toLowerCase()]}function T3(e){return B0[e]??B0[e.toLowerCase()]}function jK(e){return[...T3(e)]}function Uv(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function hR(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*Uv(o,s,i+1/3)),Math.round(255*Uv(o,s,i)),Math.round(255*Uv(o,s,i-1/3)),n]}function zK(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}function pm(e){return Bi(m$(e),0,255)}function fm(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function mm(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let ay=class kt{static blendColors(t,r,n,i=new kt){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),kt.fromArray(a,r)}return kt.fromArray(i.map(a=>parseFloat(a)),r)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return kt.fromArray(hR(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new kt){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.substring(1,2),16),i=parseInt(t.substring(2,3),16),s=parseInt(t.substring(3,4),16),o=t.length===5?15:parseInt(t.substring(4),16);return kt.fromArray([n+16*n,i+16*i,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const n=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),s=parseInt(t.substring(5,7),16),o=t.length===7?255:parseInt(t.substring(7),16);return kt.fromArray([n,i,s,o/255],r)}default:return null}}static fromArray(t,r=new kt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=cR(t)?T3(t):null;return n&&kt.fromArray(n,r)||kt.fromRgb(t,r)||kt.fromHex(t,r)}static fromJSON(t){return t!=null?new kt([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?kt.fromString(t,this):Array.isArray(t)?kt.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof kt||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,n=(t==null?void 0:t.digits)??6,i=n===3||n===4,s=n===4||n===8,o=`#${mm(this.r,i)}${mm(this.g,i)}${mm(this.b,i)}${s?mm(Math.round(255*this.a),i):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=kt.AlphaMode.ALWAYS){const r=pm(this.r),n=pm(this.g),i=pm(this.b);return t===kt.AlphaMode.ALWAYS||this.a!==1?[r,n,i,pm(255*this.a)]:[r,n,i]}clone(){return new kt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(fm(this.r,0,255)),this.g=Math.round(fm(this.g,0,255)),this.b=Math.round(fm(this.b,0,255)),this.a=fm(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};ay.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(ay||(ay={}));const ye=ay;function Lhe(e){}function UK(e){return()=>e}function ge(e,t={}){const r=e instanceof kn?e:new kn(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),p(n)}var x2;let ly=x2=class extends ne{constructor(e){super(e),this.type="none"}clone(){return new x2({type:this.type})}};h([ge({none:"none",stayAbove:"stay-above"})],ly.prototype,"type",void 0),ly=x2=h([P("esri.ground.NavigationConstraint")],ly);function dR(e){const t=m$(100*(1-e));return Math.max(0,Math.min(t,100))}function pR(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var T2;let us=T2=class extends Xp(sa){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new re;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&W.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{pi(e)||W.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)Ze(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Bl(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};UK(s)().write(o,n)&&i.push(o)}else n!=null&&n.messages&&n.messages.push(new G("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return oR(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await H(()=>import("./ElevationQuery-9b75eaa0.js"),[]);mt(t);const n=new r,i=this.layers.filter(lE).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await H(()=>import("./ElevationQuery-9b75eaa0.js"),[]);mt(t);const n=new r,i=this.layers.filter(lE).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:j(this.surfaceColor),navigationConstraint:j(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new T2({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=(t==null?void 0:t.origin)||"web-scene",i=(t==null?void 0:t.portal)||null,s=(t==null?void 0:t.url)||null,{populateOperationalLayers:o}=await H(()=>import("./layersCreator-e005d3b1.js"),["assets/layersCreator-e005d3b1.js","assets/portalLayers-5859543e.js","assets/associatedFeatureServiceUtils-87fe13f5.js","assets/lazyLayerLoader-dc888de8.js","assets/portalItemUtils-1acb3c0b.js","assets/styleUtils-62792db0.js"]);mt(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}await Promise.allSettled(a)}};function VK(e){return e&&"createElevationSampler"in e}function lE(e){return e.type==="elevation"||VK(e)}h([p({json:{read:!1}})],us.prototype,"layers",null),h([Pe("layers")],us.prototype,"writeLayers",null),h([p({readOnly:!0})],us.prototype,"resourceInfo",void 0),h([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ft,read:{reader:pR,source:"transparency"},write:{writer:(e,t)=>{t.transparency=dR(e)},target:"transparency"}}})],us.prototype,"opacity",void 0),h([p({type:ye,json:{type:[ft],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],us.prototype,"surfaceColor",void 0),h([p({type:ly,json:{write:!0}})],us.prototype,"navigationConstraint",void 0),us=T2=h([P("esri.Ground")],us);const H0=us,GK=[["binary","application/octet-stream","bin",""]];function Rhe(e,t){return yR(t.name,(e==null?void 0:e.supportedFormats)??[])!=null}function Nhe(e,t){if(!e)return!1;const r=WK(t,e.supportedFormats??[]);return r!=null&&e.editFormats.includes(r)}function fR(e,t){return k3(HK(e,t))}function mR(e,t){return k3(yR(e,t))}function Dhe(e,t){return gR(BK(e,t))}function WK(e,t){return mR(e.name,t)??fR(e.type,t)}function M3(e){return[...GK,...e]}function BK(e,t){return M3(t).find(r=>k3(r)===e)}function HK(e,t){const r=e.toLowerCase();return M3(t).find(n=>gR(n)===r)}function yR(e,t){const r=e.toLowerCase();return M3(t).find(n=>qK(n).some(i=>r.endsWith(i)))}function k3(e){return e==null?void 0:e[0]}function gR(e){return e==null?void 0:e[1].toLowerCase()}function qK(e){return(e==null?void 0:e[2].split(",").map(t=>t.toLowerCase()))??[]}function Fhe(e){var t;return(t=e.tables)==null?void 0:t.find(r=>r.role==="assetMaps")}function ZK(e){var t,r;return!(!(e&&typeof e=="object"&&"loaded"in e&&e.loaded&&((r=(t=TK(e))==null?void 0:t.operations)!=null&&r.supportsEditing)&&"type"in e)||"editingEnabled"in e&&!kK(e)||e.type==="scene"&&!JK(e))}function JK(e){const{associatedLayer:t}=e,r=t==null?void 0:t.infoFor3D;if(!r)return!0;const{supportedFormats:n,queryFormats:i}=r,s=fR("model/gltf-binary",n)??mR("glb",n);if(!(s!=null&&i.includes(s)))return W.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) is not editable because it does not support GLB queries.`),!1;const o=e.spatialReference,a=t.spatialReference;if(!yt(o,a))return W.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) is not editable because its spatial reference (wkid:${o.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${a.wkid}).`),!1;const l=t.sourceJSON.sourceSpatialReference;return!(l!=null&&!yt(l,a))||(W.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${e.title??"Untitled layer"}, ${e.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${a.wkid}) is different from its source spatial reference (wkid:${l.wkid}).`),!1)}const YK=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,KK="screenUtils.toPt: input not recognized!",vR=96;function jhe(e){return e?e/72*vR:0}function aa(e){return e?72*e/vR:0}function Qe(e){if(typeof e=="string"){const t=e.match(YK);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?aa(r):r;return i?-s:s}return console.warn(KK),null}return e}function gr(e=0,t=0){return{x:e,y:t}}function zhe(e=0,t=0){return[e,t]}function f1(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function XK(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function QK(e,t,r,n,i,s,o,a,l,c,d,f,m,y,g,v){const $=new Float32Array(16);return $[0]=e,$[1]=t,$[2]=r,$[3]=n,$[4]=i,$[5]=s,$[6]=o,$[7]=a,$[8]=l,$[9]=c,$[10]=d,$[11]=f,$[12]=m,$[13]=y,$[14]=g,$[15]=v,$}function eX(e,t){return new Float32Array(e,t,16)}const tX=f1();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:tX,clone:XK,create:f1,createView:eX,fromValues:QK},Symbol.toStringTag,{value:"Module"}));function rX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ma(e,t,r,n,i,s,o,a,l,c,d,f,m,y,g,v,$){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e[9]=d,e[10]=f,e[11]=m,e[12]=y,e[13]=g,e[14]=v,e[15]=$,e}function m1(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ya(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nX(e,t){return wR(e,t)||m1(e),e}function wR(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],$=t[14],_=t[15],b=r*a-n*o,S=r*l-i*o,x=r*c-s*o,M=n*l-i*a,k=n*c-s*a,O=i*c-s*l,A=d*v-f*g,V=d*$-m*g,F=d*_-y*g,q=f*$-m*v,X=f*_-y*v,de=m*_-y*$;let Y=b*de-S*X+x*q+M*F-k*V+O*A;return Y?(Y=1/Y,e[0]=(a*de-l*X+c*q)*Y,e[1]=(i*X-n*de-s*q)*Y,e[2]=(v*O-$*k+_*M)*Y,e[3]=(m*k-f*O-y*M)*Y,e[4]=(l*F-o*de-c*V)*Y,e[5]=(r*de-i*F+s*V)*Y,e[6]=($*x-g*O-_*S)*Y,e[7]=(d*O-m*x+y*S)*Y,e[8]=(o*X-a*F+c*A)*Y,e[9]=(n*F-r*X-s*A)*Y,e[10]=(g*k-v*x+_*b)*Y,e[11]=(f*x-d*k-y*b)*Y,e[12]=(a*V-o*q-l*A)*Y,e[13]=(r*q-n*V+i*A)*Y,e[14]=(v*S-g*M-$*b)*Y,e[15]=(d*M-f*S+m*b)*Y,e):null}function iX(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],$=t[14],_=t[15];return e[0]=a*(m*_-y*$)-f*(l*_-c*$)+v*(l*y-c*m),e[1]=-(n*(m*_-y*$)-f*(i*_-s*$)+v*(i*y-s*m)),e[2]=n*(l*_-c*$)-a*(i*_-s*$)+v*(i*c-s*l),e[3]=-(n*(l*y-c*m)-a*(i*y-s*m)+f*(i*c-s*l)),e[4]=-(o*(m*_-y*$)-d*(l*_-c*$)+g*(l*y-c*m)),e[5]=r*(m*_-y*$)-d*(i*_-s*$)+g*(i*y-s*m),e[6]=-(r*(l*_-c*$)-o*(i*_-s*$)+g*(i*c-s*l)),e[7]=r*(l*y-c*m)-o*(i*y-s*m)+d*(i*c-s*l),e[8]=o*(f*_-y*v)-d*(a*_-c*v)+g*(a*y-c*f),e[9]=-(r*(f*_-y*v)-d*(n*_-s*v)+g*(n*y-s*f)),e[10]=r*(a*_-c*v)-o*(n*_-s*v)+g*(n*c-s*a),e[11]=-(r*(a*y-c*f)-o*(n*y-s*f)+d*(n*c-s*a)),e[12]=-(o*(f*$-m*v)-d*(a*$-l*v)+g*(a*m-l*f)),e[13]=r*(f*$-m*v)-d*(n*$-i*v)+g*(n*m-i*f),e[14]=-(r*(a*$-l*v)-o*(n*$-i*v)+g*(n*l-i*a)),e[15]=r*(a*m-l*f)-o*(n*m-i*f)+d*(n*l-i*a),e}function sX(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],d=e[9],f=e[10],m=e[11],y=e[12],g=e[13],v=e[14],$=e[15];return(t*o-r*s)*(f*$-m*v)-(t*a-n*s)*(d*$-m*g)+(t*l-i*s)*(d*v-f*g)+(r*a-n*o)*(c*$-m*y)-(r*l-i*o)*(c*v-f*y)+(n*l-i*a)*(c*g-d*y)}function _R(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],m=t[9],y=t[10],g=t[11],v=t[12],$=t[13],_=t[14],b=t[15];let S=r[0],x=r[1],M=r[2],k=r[3];return e[0]=S*n+x*a+M*f+k*v,e[1]=S*i+x*l+M*m+k*$,e[2]=S*s+x*c+M*y+k*_,e[3]=S*o+x*d+M*g+k*b,S=r[4],x=r[5],M=r[6],k=r[7],e[4]=S*n+x*a+M*f+k*v,e[5]=S*i+x*l+M*m+k*$,e[6]=S*s+x*c+M*y+k*_,e[7]=S*o+x*d+M*g+k*b,S=r[8],x=r[9],M=r[10],k=r[11],e[8]=S*n+x*a+M*f+k*v,e[9]=S*i+x*l+M*m+k*$,e[10]=S*s+x*c+M*y+k*_,e[11]=S*o+x*d+M*g+k*b,S=r[12],x=r[13],M=r[14],k=r[15],e[12]=S*n+x*a+M*f+k*v,e[13]=S*i+x*l+M*m+k*$,e[14]=S*s+x*c+M*y+k*_,e[15]=S*o+x*d+M*g+k*b,e}function oX(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],c=t[3],d=t[4],f=t[5],m=t[6],y=t[7],g=t[8],v=t[9],$=t[10],_=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=d,e[5]=f,e[6]=m,e[7]=y,e[8]=g,e[9]=v,e[10]=$,e[11]=_,e[12]=o*n+d*i+g*s+t[12],e[13]=a*n+f*i+v*s+t[13],e[14]=l*n+m*i+$*s+t[14],e[15]=c*n+y*i+_*s+t[15]}return e}function aX(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function lX(e,t,r,n){let i,s,o,a,l,c,d,f,m,y,g,v,$,_,b,S,x,M,k,O,A,V,F,q,X=n[0],de=n[1],Y=n[2],Ye=Math.sqrt(X*X+de*de+Y*Y);return Ye<En()?null:(Ye=1/Ye,X*=Ye,de*=Ye,Y*=Ye,i=Math.sin(r),s=Math.cos(r),o=1-s,a=t[0],l=t[1],c=t[2],d=t[3],f=t[4],m=t[5],y=t[6],g=t[7],v=t[8],$=t[9],_=t[10],b=t[11],S=X*X*o+s,x=de*X*o+Y*i,M=Y*X*o-de*i,k=X*de*o-Y*i,O=de*de*o+s,A=Y*de*o+X*i,V=X*Y*o+de*i,F=de*Y*o-X*i,q=Y*Y*o+s,e[0]=a*S+f*x+v*M,e[1]=l*S+m*x+$*M,e[2]=c*S+y*x+_*M,e[3]=d*S+g*x+b*M,e[4]=a*k+f*O+v*A,e[5]=l*k+m*O+$*A,e[6]=c*k+y*O+_*A,e[7]=d*k+g*O+b*A,e[8]=a*V+f*F+v*q,e[9]=l*V+m*F+$*q,e[10]=c*V+y*F+_*q,e[11]=d*V+g*F+b*q,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function uX(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],d=t[9],f=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+c*n,e[5]=o*i+d*n,e[6]=a*i+f*n,e[7]=l*i+m*n,e[8]=c*i-s*n,e[9]=d*i-o*n,e[10]=f*i-a*n,e[11]=m*i-l*n,e}function cX(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],c=t[8],d=t[9],f=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-c*n,e[1]=o*i-d*n,e[2]=a*i-f*n,e[3]=l*i-m*n,e[8]=s*n+c*i,e[9]=o*n+d*i,e[10]=a*n+f*i,e[11]=l*n+m*i,e}function hX(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],d=t[5],f=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+c*n,e[1]=o*i+d*n,e[2]=a*i+f*n,e[3]=l*i+m*n,e[4]=c*i-s*n,e[5]=d*i-o*n,e[6]=f*i-a*n,e[7]=m*i-l*n,e}function dX(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pX(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fX(e,t,r){if(t===0)return m1(e);let n,i,s,o=r[0],a=r[1],l=r[2],c=Math.sqrt(o*o+a*a+l*l);return c<En()?null:(c=1/c,o*=c,a*=c,l*=c,n=Math.sin(t),i=Math.cos(t),s=1-i,e[0]=o*o*s+i,e[1]=a*o*s+l*n,e[2]=l*o*s-a*n,e[3]=0,e[4]=o*a*s-l*n,e[5]=a*a*s+i,e[6]=l*a*s+o*n,e[7]=0,e[8]=o*l*s+a*n,e[9]=a*l*s-o*n,e[10]=l*l*s+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mX(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yX(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gX(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bR(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=n+n,l=i+i,c=s+s,d=n*a,f=n*l,m=n*c,y=i*l,g=i*c,v=s*c,$=o*a,_=o*l,b=o*c;return e[0]=1-(y+v),e[1]=f+b,e[2]=m-_,e[3]=0,e[4]=f-b,e[5]=1-(d+v),e[6]=g+$,e[7]=0,e[8]=m+_,e[9]=g-$,e[10]=1-(d+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function vX(e,t){const r=wX,n=-t[0],i=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=n*n+i*i+s*s+o*o;return f>0?(r[0]=2*(a*o+d*n+l*s-c*i)/f,r[1]=2*(l*o+d*i+c*n-a*s)/f,r[2]=2*(c*o+d*s+a*i-l*n)/f):(r[0]=2*(a*o+d*n+l*s-c*i),r[1]=2*(l*o+d*i+c*n-a*s),r[2]=2*(c*o+d*s+a*i-l*n)),bR(e,t,r),e}const wX=pa();function _X(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function bX(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],d=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+c*c+d*d),e}function SX(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function $X(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3],l=i+i,c=s+s,d=o+o,f=i*l,m=i*c,y=i*d,g=s*c,v=s*d,$=o*d,_=a*l,b=a*c,S=a*d,x=n[0],M=n[1],k=n[2];return e[0]=(1-(g+$))*x,e[1]=(m+S)*x,e[2]=(y-b)*x,e[3]=0,e[4]=(m-S)*M,e[5]=(1-(f+$))*M,e[6]=(v+_)*M,e[7]=0,e[8]=(y+b)*k,e[9]=(v-_)*k,e[10]=(1-(f+g))*k,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function xX(e,t,r,n,i){const s=t[0],o=t[1],a=t[2],l=t[3],c=s+s,d=o+o,f=a+a,m=s*c,y=s*d,g=s*f,v=o*d,$=o*f,_=a*f,b=l*c,S=l*d,x=l*f,M=n[0],k=n[1],O=n[2],A=i[0],V=i[1],F=i[2],q=(1-(v+_))*M,X=(y+x)*M,de=(g-S)*M,Y=(y-x)*k,Ye=(1-(m+_))*k,Gt=($+b)*k,Ce=(g+S)*O,N=($-b)*O,Q=(1-(m+v))*O;return e[0]=q,e[1]=X,e[2]=de,e[3]=0,e[4]=Y,e[5]=Ye,e[6]=Gt,e[7]=0,e[8]=Ce,e[9]=N,e[10]=Q,e[11]=0,e[12]=r[0]+A-(q*A+Y*V+Ce*F),e[13]=r[1]+V-(X*A+Ye*V+N*F),e[14]=r[2]+F-(de*A+Gt*V+Q*F),e[15]=1,e}function TX(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,c=r*o,d=n*o,f=n*a,m=i*o,y=i*a,g=i*l,v=s*o,$=s*a,_=s*l;return e[0]=1-f-g,e[1]=d+_,e[2]=m-$,e[3]=0,e[4]=d-_,e[5]=1-c-g,e[6]=y+v,e[7]=0,e[8]=m+$,e[9]=y-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function MX(e,t,r,n,i,s,o){const a=1/(r-t),l=1/(i-n),c=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(o+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*c,e[15]=0,e}function kX(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function EX(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(i-s)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function PX(e,t,r,n,i,s,o){const a=1/(t-r),l=1/(n-i),c=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(o+s)*c,e[15]=1,e}function CX(e,t,r,n){const i=t[0],s=t[1],o=t[2];let a=i-r[0],l=s-r[1],c=o-r[2];const d=En();if(Math.abs(a)<d&&Math.abs(l)<d&&Math.abs(c)<d)return void m1(e);let f=1/Math.sqrt(a*a+l*l+c*c);a*=f,l*=f,c*=f;const m=n[0],y=n[1],g=n[2];let v=y*c-g*l,$=g*a-m*c,_=m*l-y*a;f=Math.sqrt(v*v+$*$+_*_),f?(f=1/f,v*=f,$*=f,_*=f):(v=0,$=0,_=0);let b=l*_-c*$,S=c*v-a*_,x=a*$-l*v;f=Math.sqrt(b*b+S*S+x*x),f?(f=1/f,b*=f,S*=f,x*=f):(b=0,S=0,x=0),e[0]=v,e[1]=b,e[2]=a,e[3]=0,e[4]=$,e[5]=S,e[6]=l,e[7]=0,e[8]=_,e[9]=x,e[10]=c,e[11]=0,e[12]=-(v*i+$*s+_*o),e[13]=-(b*i+S*s+x*o),e[14]=-(a*i+l*s+c*o),e[15]=1}function OX(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=n[0],l=n[1],c=n[2];let d=i-r[0],f=s-r[1],m=o-r[2],y=d*d+f*f+m*m;y>0&&(y=1/Math.sqrt(y),d*=y,f*=y,m*=y);let g=l*m-c*f,v=c*d-a*m,$=a*f-l*d;return y=g*g+v*v+$*$,y>0&&(y=1/Math.sqrt(y),g*=y,v*=y,$*=y),e[0]=g,e[1]=v,e[2]=$,e[3]=0,e[4]=f*$-m*v,e[5]=m*g-d*$,e[6]=d*v-f*g,e[7]=0,e[8]=d,e[9]=f,e[10]=m,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function IX(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function AX(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function LX(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function SR(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function RX(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function NX(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function DX(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function FX(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=e[9],m=e[10],y=e[11],g=e[12],v=e[13],$=e[14],_=e[15],b=t[0],S=t[1],x=t[2],M=t[3],k=t[4],O=t[5],A=t[6],V=t[7],F=t[8],q=t[9],X=t[10],de=t[11],Y=t[12],Ye=t[13],Gt=t[14],Ce=t[15],N=En();return Math.abs(r-b)<=N*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-S)<=N*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(i-x)<=N*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-M)<=N*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(o-k)<=N*Math.max(1,Math.abs(o),Math.abs(k))&&Math.abs(a-O)<=N*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(l-A)<=N*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-V)<=N*Math.max(1,Math.abs(c),Math.abs(V))&&Math.abs(d-F)<=N*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(f-q)<=N*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(m-X)<=N*Math.max(1,Math.abs(m),Math.abs(X))&&Math.abs(y-de)<=N*Math.max(1,Math.abs(y),Math.abs(de))&&Math.abs(g-Y)<=N*Math.max(1,Math.abs(g),Math.abs(Y))&&Math.abs(v-Ye)<=N*Math.max(1,Math.abs(v),Math.abs(Ye))&&Math.abs($-Gt)<=N*Math.max(1,Math.abs($),Math.abs(Gt))&&Math.abs(_-Ce)<=N*Math.max(1,Math.abs(_),Math.abs(Ce))}function jX(e){const t=En(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],d=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+c*c))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}function zX(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const UX=_R,VX=SR;Object.freeze(Object.defineProperty({__proto__:null,add:LX,adjoint:iX,copy:rX,determinant:sX,equals:FX,exactEquals:DX,frob:AX,fromQuat:TX,fromQuat2:vX,fromRotation:fX,fromRotationTranslation:bR,fromRotationTranslationScale:$X,fromRotationTranslationScaleOrigin:xX,fromScaling:pX,fromTranslation:dX,fromXRotation:mX,fromYRotation:yX,fromZRotation:gX,frustum:MX,getRotation:SX,getScaling:bX,getTranslation:_X,hasIdentityRotation:zX,identity:m1,invert:wR,invertOrIdentity:nX,isOrthoNormal:jX,lookAt:CX,mul:UX,multiply:_R,multiplyScalar:RX,multiplyScalarAndAdd:NX,ortho:PX,perspective:kX,perspectiveFromFieldOfView:EX,rotate:lX,rotateX:uX,rotateY:cX,rotateZ:hX,scale:aX,set:ma,str:IX,sub:VX,subtract:SR,targetTo:OX,translate:oX,transpose:ya},Symbol.toStringTag,{value:"Module"}));const GX=(e,t)=>{const r=ma(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return ya(r,r)},WX=(e,t)=>{const r=ma(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return ya(r,r)},BX=(e,t)=>{const r=1-t,n=ma(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return ya(n,n)},HX=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=ma(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return ya(i,i)},qX=(e,t)=>{const r=1-2*t,n=ma(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return ya(n,n)},ZX=(e,t)=>{const r=ma(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return ya(r,r)},JX=(e,t)=>{const r=1-t,n=ma(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return ya(n,n)};let $R=class xR{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=Pr(t.strength,r.strength,n),this.radius=Pr(t.radius,r.radius,n),this.threshold=Pr(t.threshold,r.threshold,n)}clone(){return new xR(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Fd(this.radius),strength:this.strength,threshold:this.threshold}}},TR=class MR{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(Pr(t.radius,r.radius,n))}clone(){return new MR(this.radius)}toJSON(){return{type:"blur",radius:Fd(this.radius)}}},M2=class kR{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=Pr(t.amount,r.amount,n),this._updateMatrix()}clone(){return new kR(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||f1();switch(this.type){case"brightness":this._colorMatrix=GX(t,this.amount);break;case"contrast":this._colorMatrix=WX(t,this.amount);break;case"grayscale":this._colorMatrix=BX(t,this.amount);break;case"invert":this._colorMatrix=qX(t,this.amount);break;case"saturate":this._colorMatrix=ZX(t,this.amount);break;case"sepia":this._colorMatrix=JX(t,this.amount)}}},ER=class PR{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=Pr(t.offsetX,r.offsetX,n),this.offsetY=Pr(t.offsetY,r.offsetY,n),this.blurRadius=Pr(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(Pr(t.color[0],r.color[0],n)),this.color[1]=Math.round(Pr(t.color[1],r.color[1],n)),this.color[2]=Math.round(Pr(t.color[2],r.color[2],n)),this.color[3]=Pr(t.color[3],r.color[3],n)}clone(){return new PR(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Fd(this.offsetX),yoffset:Fd(this.offsetY),blurRadius:Fd(this.blurRadius),color:t}}},CR=class OR{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=Pr(t.angle,r.angle,n),this._updateMatrix()}clone(){return new OR(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||f1();this._colorMatrix=HX(t,this.angle)}},IR=class AR{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=Pr(t.amount,r.amount,n)}clone(){return new AR(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Pr(e,t,r){return e+(t-e)*r}function Fd(e){return Math.round(1e3*aa(e))/1e3}function YX(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new M2(e.type,0);case"saturate":case"brightness":case"contrast":return new M2(e.type,1);case"opacity":return new IR(1);case"hue-rotate":return new CR(0);case"blur":return new TR(0);case"drop-shadow":return new ER(0,0,0,[...T3("transparent")]);case"bloom":return new $R(0,0,1)}}function KX(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function XX(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(YX(r[i]))}function QX(e){const t=e[0];return!!t&&"type"in t}const uE=W.getLogger("esri.support.basemapUtils");function eQ(){return{}}function tQ(e){for(const t in e){const r=e[t];Ze(r),delete e[t]}}function rQ(e,t){let r;if(typeof e=="string"){const n=e in $2,i=!n&&e.includes("/");if(!n&&!i){const s=Object.entries($2).filter(([o,a])=>Te.apiKey&&!a.classic||!Te.apiKey&&(a.classic||a.is3d)).map(([o])=>`"${o}"`).sort().join(", ");return uE.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`),null}t&&(r=t[e]),r||(r=n?Dd.fromId(e):new Dd({style:{id:e}}),t&&(t[e]=r))}else r=Dr(Dd,e);return r!=null&&r.destroyed&&(uE.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function nQ(e){return new bp({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function Vv(e){for(const t of e.values())t==null||t.destroy();e.clear()}const cE={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function iQ(e){let t=null;if(typeof e=="string")if(e in cE){const r=cE[e];t=new H0({resourceInfo:{data:{layers:[r]}}})}else W.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Dr(H0,e);return t}let LR=0;const E3=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+LR++})}};return t=h([P("esri.core.Identifiable")],t),t},P3=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:LR++})}};return t=h([P("esri.core.NumericIdentifiable")],t),t};let hE=class extends E3(class{}){};hE=h([P("esri.core.Identifiable")],hE);async function sQ(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await H(()=>import("./portalLayers-5859543e.js").then(n=>n.p),["assets/portalLayers-5859543e.js","assets/associatedFeatureServiceUtils-87fe13f5.js","assets/lazyLayerLoader-dc888de8.js","assets/portalItemUtils-1acb3c0b.js"]);try{return await r(t)}catch(n){const i=t&&t.portalItem,s=(i==null?void 0:i.id)||"unset",o=i&&i.portal&&i.portal.url||Te.portalUrl;throw W.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",n),n}}let oQ=0,wt=class extends tu.EventedMixin(E3(sa)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new et(-180,-90,180,90,$e.WGS84),this.id=Date.now().toString(16)+"-layer-"+oQ++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=$e.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await H(()=>import("./arcgisLayers-b43bc604.js"),["assets/arcgisLayers-b43bc604.js","assets/associatedFeatureServiceUtils-87fe13f5.js","assets/fetchService-f7fe51b5.js","assets/lazyLayerLoader-dc888de8.js"])).fromUrl(r)}static fromPortalItem(t){return sQ(t)}initialize(){this.when().catch(t=>{pi(t)||W.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return ur(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Yt(t,{query:{f:"json"},responseType:"json"})).data;throw new G("layer:no-attribution-data","Layer does not have attribution data")}};h([p({type:String})],wt.prototype,"attributionDataUrl",void 0),h([p({type:et})],wt.prototype,"fullExtent",void 0),h([p({readOnly:!0})],wt.prototype,"hasAttributionData",null),h([p({type:String,clonable:!1})],wt.prototype,"id",void 0),h([p({type:Boolean,nonNullable:!0})],wt.prototype,"legendEnabled",void 0),h([p({type:["show","hide","hide-children"]})],wt.prototype,"listMode",void 0),h([p({type:Number,range:{min:0,max:1},nonNullable:!0})],wt.prototype,"opacity",void 0),h([p({clonable:!1})],wt.prototype,"parent",void 0),h([p({readOnly:!0})],wt.prototype,"parsedUrl",null),h([p({type:Boolean,readOnly:!0})],wt.prototype,"persistenceEnabled",void 0),h([p({type:Boolean})],wt.prototype,"popupEnabled",void 0),h([p({type:Boolean})],wt.prototype,"attributionVisible",void 0),h([p({type:$e})],wt.prototype,"spatialReference",void 0),h([p({type:String})],wt.prototype,"title",void 0),h([p({readOnly:!0,json:{read:!1}})],wt.prototype,"type",void 0),h([p()],wt.prototype,"url",void 0),h([p({type:Boolean,nonNullable:!0})],wt.prototype,"visible",void 0),wt=h([P("esri.layers.Layer")],wt);const RR=wt;function k2(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.at(s),(n==null?void 0:n[t])===r)return n;if((n==null?void 0:n.type)==="group"&&(i=k2(n.layers,t,r),i))return i}}const aQ=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new re;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||W.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>n(o.item)),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",Bl(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof RR){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else da(r)?r.then(s=>{this.destroyed||this.add(s,n)}):W.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return k2(this.layers,"id",r)}findLayerByUid(r){return k2(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return h([p()],t.prototype,"layers",null),t=h([P("esri.support.LayersMixin")],t),t};function E2(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.at(n);if(s[t]===r)return s;if((s==null?void 0:s.type)==="group"){const o=E2(s.tables,t,r);if(o)return o}}}const lQ=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new re,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&W.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",Bl(r,this._get("tables")))}findTableById(r){return E2(this.tables,"id",r)}findTableByUid(r){return E2(this.tables,"uid",r)}};return h([p()],t.prototype,"tables",null),t=h([P("esri.support.TablesMixin")],t),t};let Ti=class extends lQ(aQ(tu.EventedMixin(te))){constructor(t){super(t),this.allLayers=new bp({getCollections:()=>{var r,n,i;return[(r=this.basemap)==null?void 0:r.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=nQ(this),this.basemap=null,this.editableLayers=new bp({getCollections:()=>[this.allLayers],itemFilterFunction:ZK}),this.ground=new H0,this._basemapCache=eQ()}destroy(){tQ(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Ze(this.basemap),Ze(this.ground),this._set("ground",null)}castBasemap(t){return rQ(t,this._basemapCache)}castGround(t){return iQ(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};h([p({readOnly:!0,dependsOn:[]})],Ti.prototype,"allLayers",void 0),h([p({readOnly:!0})],Ti.prototype,"allTables",void 0),h([p({type:Dd,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Ti.prototype,"basemap",void 0),h([_r("basemap")],Ti.prototype,"castBasemap",null),h([p({readOnly:!0})],Ti.prototype,"editableLayers",void 0),h([p({type:H0,nonNullable:!0})],Ti.prototype,"ground",void 0),h([_r("ground")],Ti.prototype,"castGround",null),Ti=h([P("esri.Map")],Ti);const NR=Ti,dE={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Gv(e,t,r,n=Zi){const i=new di(f3(n)),s=se.fromJSDate(e,{zone:i}),o=r==="decades"||r==="centuries"?"year":DR(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function pE(e,t,r=Zi){const n=new di(f3(r)),i=se.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const o=i.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=DR(t);return i.startOf(s).toJSDate()}function Whe(e,t,r){return e===0?0:e*dE[t]/dE[r]}function DR(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Fn;let Gr=Fn=class extends ne{static get allTime(){return fE}static get empty(){return uQ}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Fn.allTime)}get isEmpty(){return this.equals(Fn.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new Fn({end:this.end,start:this.start})}equals(e){var s,o,a,l;if(!e)return!1;const t=((s=this.start)==null?void 0:s.getTime())??this.start,r=((o=this.end)==null?void 0:o.getTime())??this.end,n=((a=e.start)==null?void 0:a.getTime())??e.start,i=((l=e.end)==null?void 0:l.getTime())??e.end;return t===n&&r===i}expandTo(e,t=Zi){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=pE(r,e,t));let n=this.end;if(n){const i=pE(n,e,t);n=n.getTime()===i.getTime()?i:Gv(i,1,e,t)}return new Fn({start:r,end:n})}intersection(e){var a,l,c,d;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Fn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((a=this.start)==null?void 0:a.getTime())??-1/0,r=((l=this.end)==null?void 0:l.getTime())??1/0,n=((c=e.start)==null?void 0:c.getTime())??-1/0,i=((d=e.end)==null?void 0:d.getTime())??1/0;let s,o;if(n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),s!=null&&o!=null&&!isNaN(s)&&!isNaN(o)){const f=new Fn;return f.start=s===-1/0?null:new Date(s),f.end=o===1/0?null:new Date(o),f}return Fn.empty}offset(e,t,r=Zi){if(this.isEmpty||this.isAllTime)return this.clone();const n=new Fn,{start:i,end:s}=this;return i!=null&&(n.start=Gv(i,e,t,r)),s!=null&&(n.end=Gv(s,e,t,r)),n}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return fE.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Fn({start:t,end:r})}};h([p({type:Date,json:{write:{allowNull:!0}}})],Gr.prototype,"end",void 0),h([Re("end")],Gr.prototype,"readEnd",null),h([Pe("end")],Gr.prototype,"writeEnd",null),h([p({readOnly:!0,json:{read:!1}})],Gr.prototype,"isAllTime",null),h([p({readOnly:!0,json:{read:!1}})],Gr.prototype,"isEmpty",null),h([p({type:Date,json:{write:{allowNull:!0}}})],Gr.prototype,"start",void 0),h([Re("start")],Gr.prototype,"readStart",null),h([Pe("start")],Gr.prototype,"writeStart",null),Gr=Fn=h([P("esri.TimeExtent")],Gr);const fE=new Gr,uQ=new Gr({start:void 0,end:void 0}),cQ=Gr;let jd=class extends re{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(re.ofType(this.itemType.Type))(t):new re(t)}};function P2(e,t){return{type:e,cast:iR,set(r){const n=Bl(r,this._get(t),e);n.owner=this,this._set(t,n)}}}h([p()],jd.prototype,"owner",null),jd=h([P("esri.core.support.OwningCollection")],jd);var Wh;const q0=Fr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),FR=q0.jsonValues.slice();Fj(FR,"orthometric");const zd=Fr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let jn=Wh=class extends ne{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return q0.write(e,t,r)}readHeightModel(e,t,r){return q0.read(e)||(r!=null&&r.messages&&r.messages.push(hQ(e,{context:r})),null)}readHeightUnit(e,t,r){return zd.read(e)||(r!=null&&r.messages&&r.messages.push(mE(e,{context:r})),null)}readHeightUnitService(e,t,r){return M4(e)||zd.read(e)||(r!=null&&r.messages&&r.messages.push(mE(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Wh({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=jW(t);return new Wh({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Wh;return t.read(e,{origin:"web-scene"}),t}};function mE(e,t){return new Ds("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function hQ(e,t){return new Ds("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}h([p({type:q0.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:FR,default:"ellipsoidal"}}}})],jn.prototype,"heightModel",void 0),h([Pe("web-scene","heightModel")],jn.prototype,"writeHeightModel",null),h([Re(["web-scene","service"],"heightModel")],jn.prototype,"readHeightModel",null),h([p({type:zd.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:zd.jsonValues,write:zd.write}}}})],jn.prototype,"heightUnit",void 0),h([Re("web-scene","heightUnit")],jn.prototype,"readHeightUnit",null),h([Re("service","heightUnit")],jn.prototype,"readHeightUnitService",null),h([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],jn.prototype,"vertCRS",void 0),h([Re("service","vertCRS",["vertCRS","ellipsoid","geoid"])],jn.prototype,"readVertCRS",null),jn=Wh=h([P("esri.geometry.HeightModelInfo")],jn);const C3=jn;let Z0=class extends jd{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(W.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};Z0=h([P("esri.support.AnalysesCollection")],Z0);async function dQ(e,t){const{WhereClause:r}=await H(()=>import("./WhereClause-78ff7756.js").then(n=>n.W),["assets/WhereClause-78ff7756.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js"]);return r.create(e,t)}function qhe(e,t){return e!=null?t!=null?`(${e}) AND (${t})`:e:t}function hu(e){return typeof e=="string"||e instanceof String}const pQ="yyyy-MM-dd",fQ="TT";var Ud;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(Ud||(Ud={}));const mQ=[Ud.HMS_MS,Ud.HMS,Ud.HM,fQ];function yE(e){return se.fromFormat(e,pQ)}function gE(e){let t=null;return mQ.find(r=>(t=se.fromFormat(e,r),t.isValid)),t}function vE(e){return se.fromISO(e)}var zc;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(zc||(zc={}));const yQ=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function gQ(e){return e!=null&&yQ.has(e.type)}function jR(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function zR(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function UR(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function vQ(e,t){const r=e==null?void 0:e.domain;if(!r)return null;switch(r.type){case"range":{const{min:n,max:i}=wQ(e);if(n!=null&&+t<n||i!=null&&+t>i)return zc.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(n=>n==null||n.code!==t))return zc.INVALID_CODED_VALUE}return null}function wQ(e,t){const r=t??(e==null?void 0:e.domain);if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,s=gQ(e);return jR(e)||UR(e)||zR(e)?{..._Q(e,i,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:s}}function _Q(e,t,r){return jR(e)?{min:r!=null&&hu(r)?yE(r).toMillis():null,max:t!=null&&hu(t)?yE(t).toMillis():null,rawMin:r,rawMax:t}:UR(e)?{min:r!=null&&hu(r)?gE(r).toMillis():null,max:t!=null&&hu(t)?gE(t).toMillis():null,rawMin:r,rawMax:t}:zR(e)?{min:r!=null&&hu(r)?vE(r).toMillis():null,max:t!=null&&hu(t)?vE(t).toMillis():null,rawMin:r,rawMax:t}:{max:null,min:null}}const bQ=W.getLogger("esri.support.arcadeOnDemand");let Wv;function VR(){return Wv||(Wv=(async()=>{const e=await H(()=>import("./arcadeUtils-96e38c70.js").then(t=>t.aD),["assets/arcadeUtils-96e38c70.js","assets/TimeOnly-f35243a6.js","assets/UnknownTimeZone-d5028e24.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/number-da09adcd.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/FieldsIndex-3d8128c0.js"]);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Wv}const Zhe=(e,t,r)=>O3.create(e,t,r,null,["$feature","$view"],[]),Jhe=(e,t,r)=>O3.create(e,t,r,null,["$feature","$view"],[]),Yhe=(e,t,r,n)=>O3.create(e,t,r,n,["$feature","$view"],[]);let O3=class GR{constructor(t,r,n,i,s,o,a){this.services=null,this.script=t,this.evaluate=i;const l=Array.isArray(o)?o:o.fields;this.fields=l,this._syntaxTree=n,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,s,o){const{arcade:a,Feature:l,Dictionary:c}=await VR(),d=$e.fromJSON(r);let f;try{f=a.parseScript(t,o)}catch(A){return bQ.error(new G("arcade-bad-expression","Failed to parse arcade script",{script:t,error:A})),null}const m=s.reduce((A,V)=>({...A,[V]:null}),{});let y=null;i!=null&&(y=new c(i),y.immutable=!0,m.$config=null);const g=a.scriptUsesGeometryEngine(f),v=g&&a.enableGeometrySupport(),$=a.scriptUsesFeatureSet(f)&&a.enableFeatureSetSupport(),_=a.scriptIsAsync(f),b=_&&a.enableAsyncSupport(),S={vars:m,spatialReference:d,useAsync:!!b};await Promise.all([v,$,b]);const x=new Set;await a.loadDependentModules(x,f,null,_,g);const M=new c;M.immutable=!1,M.setField("scale",0);const k=a.compileScript(f,S),O=(A,V)=>{var q;const F=(q=A.$view)==null?void 0:q.timeZone;return"$view"in A&&A.$view&&(M.setField("scale",typeof A.$view=="object"&&"scale"in A.$view?A.$view.scale:void 0),A.$view=M),y&&(A.$config=y),k({vars:A,spatialReference:d,services:V,timeZone:F})};return new GR(t,a,f,O,new l,n,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const SQ=/^([0-9_])/,$Q=/[^a-z0-9_\u0080-\uffff]+/gi;function Khe(e){return e==null?null:e.trim().replaceAll($Q,"_").replace(SQ,"F$1")||null}const xQ=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],TQ=["field","normalizationField"];function Xhe(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(wE(xQ,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)wE(TQ,n,t)}}function wE(e,t,r){if(e)for(const n of e){const i=Bp(n,t),s=i&&typeof i!="function"&&r.get(i);s&&Kl(n,s.name,t)}}function Qhe(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(i==null?void 0:i.name)??null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(i==null?void 0:i.name)??null}}const Bv=new Set;function WR(e,t){return e&&t?(Bv.clear(),Pp(Bv,e,t),Array.from(Bv).sort()):[]}function Pp(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)y1(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function y1(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function ede(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}async function la(e,t,r){var s;if(!r)return;const{arcadeUtils:n}=await VR(),i=n.extractFieldNames(r,(s=t==null?void 0:t.fields)==null?void 0:s.map(o=>o.name));for(const o of i)y1(e,t,o)}async function BR(e,t,r){if(r&&r!=="1=1"){const n=await dQ(r,t);if(!n.isStandardized)throw new G("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Pp(e,t,n.fieldNames)}}function tde({displayField:e,fields:t}){return e||(t!=null&&t.length?Hv(t,"name-or-title")||Hv(t,"unique-identifier")||Hv(t,"type-or-category")||MQ(t):null)}function MQ(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function Hv(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function rde(e,t){var n;if(!t)return;const r=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function kQ(e,t,r){r.onStatisticExpression?la(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function nde(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(EQ(e,t,i)),r.fields&&n.push(...r.fields.map(async s=>kQ(e,t.fieldsIndex,s))),await Promise.all(n)}async function EQ(e,t,r){const n=[];r!=null&&r.expressionInfos&&n.push(...r.expressionInfos.map(s=>la(e,t.fieldsIndex,s.expression)));const i=r==null?void 0:r.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&n.push(la(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function ide(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&Pp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Pp(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await BR(e,t.fieldsIndex,r.where))}async function sde(e,t,r){t&&r&&await Promise.all(r.map(n=>PQ(e,t,n)))}async function PQ(e,t,r){t&&r&&(r.valueExpression?await la(e,t.fieldsIndex,r.valueExpression):r.field&&y1(e,t.fieldsIndex,r.field))}function ode(e){return e?WR(e.fieldsIndex,HR(e)):[]}function CQ(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?WR(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const OQ=new Set(["oid","global-id","guid"]),IQ=new Set(["oid","global-id"]),AQ=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function LQ(e){const t=new Set;qR(e).forEach(n=>t.add(n)),CQ(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function HR(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function qR(e){return HR(e).map(t=>t.toLowerCase())}function ade(e,t){var r;return e.editable&&!OQ.has(e.type)&&!qR(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function lde(e,t){var n;const r=((n=e.name)==null?void 0:n.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||LQ(t).includes(r)||IQ.has(e.type)||AQ.some(i=>i.test(r)))}async function ude(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r!=null&&r.length&&await Promise.all(r.map(i=>RQ(e,n,i)))}async function RQ(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await la(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{y1(e,t,o.slice(1,-1))})}await BR(e,t,i)}function cde(e){const t=e.defaultValue;return t!==void 0&&YR(e,t)?t:e.nullable?null:void 0}function hde(e){const t=typeof e=="string"?{type:e}:e;return ZQ(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function ZR(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function NQ(e){return e===null||ZR(e)}function DQ(e){return e===null||Number.isInteger(e)}function JR(e){return e!=null&&typeof e=="string"}function FQ(e){return e===null||JR(e)}function jQ(){return!0}function YR(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?DQ:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?NQ:ZR;break;case"string":case"esriFieldTypeString":r=e.nullable?FQ:JR;break;default:r=jQ}return arguments.length===1?r:r(t)}const zQ=["integer","small-integer","big-integer"],UQ=["single","double"],VQ=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],GQ=["esriFieldTypeSingle","esriFieldTypeDouble"],WQ=new Set([...zQ,...VQ]),BQ=new Set([...UQ,...GQ]),HQ=Fz(WQ,BQ);function qQ(e){return e!=null&&HQ.has(e.type)}function ZQ(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function dde(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function pde(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function fde(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function mde(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function yde(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function gde(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function vde(e,t){return JQ(e,t)===null}var J0,Y0;function wde(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function JQ(e,t){return e==null||e.nullable&&t===null?null:qQ(e)&&!YQ(e.type,Number(t))?J0.OUT_OF_RANGE:YR(e,t)?e.domain?vQ(e,t):null:Y0.INVALID_TYPE}function YQ(e,t){const r=typeof e=="string"?KR(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function KR(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return KQ;case"esriFieldTypeInteger":case"integer":return XQ;case"esriFieldTypeBigInteger":case"big-integer":return QQ;case"esriFieldTypeSingle":case"single":return eee;case"esriFieldTypeDouble":case"double":return tee}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(J0||(J0={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Y0||(Y0={}));const KQ={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},XQ={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},QQ={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},eee={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},tee={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function _de(e,t,r){switch(e){case zc.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case zc.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Y0.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case J0.OUT_OF_RANGE:{const{min:n,max:i}=KR(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function bde(e,t){return!ree(e,t,null)}function ree(e,t,r){if(!(t!=null&&t.attributes)||!e){if(r!=null)for(const s of e??[])r.add(s);return!0}const n=new Set(Object.keys(t.attributes));let i=!1;for(const s of e)if(!n.has(s)){if(i=!0,r==null)break;r.add(s)}return i}function Sde(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let uy=class extends ne{constructor(t){super(t),this.type=null}};h([p({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],uy.prototype,"type",void 0),uy=h([P("esri.popup.content.Content")],uy);const ga=uy;var C2;let Ia=C2=class extends ga{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new C2({description:this.description,displayType:this.displayType,title:this.title})}};h([p({type:String,json:{write:!0}})],Ia.prototype,"description",void 0),h([p({type:["auto","preview","list"],json:{write:!0}})],Ia.prototype,"displayType",void 0),h([p({type:String,json:{write:!0}})],Ia.prototype,"title",void 0),h([p({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Ia.prototype,"type",void 0),Ia=C2=h([P("esri.popup.content.AttachmentsContent")],Ia);const K0=Ia;var O2;let Aa=O2=class extends ga{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new O2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?j(this.outFields):null})}};h([p()],Aa.prototype,"creator",void 0),h([p()],Aa.prototype,"destroyer",void 0),h([p()],Aa.prototype,"outFields",void 0),h([p({type:["custom"],readOnly:!0})],Aa.prototype,"type",void 0),Aa=O2=h([P("esri.popup.content.CustomContent")],Aa);const nee=Aa;var I2;let Su=I2=class extends ne{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new I2({title:this.title,expression:this.expression})}};h([p({type:String,json:{write:!0}})],Su.prototype,"title",void 0),h([p({type:String,json:{write:!0}})],Su.prototype,"expression",void 0),h([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Su.prototype,"returnType",void 0),Su=I2=h([P("esri.popup.ElementExpressionInfo")],Su);const iee=Su;var A2;let Bh=A2=class extends ga{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new A2({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};h([p({type:iee,json:{write:!0}})],Bh.prototype,"expressionInfo",void 0),h([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Bh.prototype,"type",void 0),Bh=A2=h([P("esri.popup.content.ExpressionContent")],Bh);const I3=Bh;let $u=class extends zs(ne){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};h([ge(gZ)],$u.prototype,"dateFormat",void 0),h([p({type:Boolean,json:{write:!0}})],$u.prototype,"digitSeparator",void 0),h([p({type:ft,json:{write:!0}})],$u.prototype,"places",void 0),$u=h([P("esri.popup.support.FieldInfoFormat")],$u);const see=$u;var L2;let zn=L2=class extends ne{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new L2({fieldName:this.fieldName,format:this.format?j(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};h([p({type:String,json:{write:!0}})],zn.prototype,"fieldName",void 0),h([p({type:see,json:{write:!0}})],zn.prototype,"format",void 0),h([p({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],zn.prototype,"isEditable",void 0),h([p({type:String,json:{write:!0}})],zn.prototype,"label",void 0),h([ge(new kn({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],zn.prototype,"stringFieldOption",void 0),h([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],zn.prototype,"statisticType",void 0),h([p({type:String,json:{write:!0}})],zn.prototype,"tooltip",void 0),h([p({type:Boolean,json:{write:!0}})],zn.prototype,"visible",void 0),zn=L2=h([P("esri.popup.FieldInfo")],zn);const XR=zn;var R2;let cs=R2=class extends ga{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new R2(j({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};h([p({type:Object,json:{write:!0}})],cs.prototype,"attributes",void 0),h([p({type:String,json:{write:!0}})],cs.prototype,"description",void 0),h([p({type:[XR]})],cs.prototype,"fieldInfos",void 0),h([Pe("fieldInfos")],cs.prototype,"writeFieldInfos",null),h([p({type:String,json:{write:!0}})],cs.prototype,"title",void 0),h([p({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],cs.prototype,"type",void 0),cs=R2=h([P("esri.popup.content.FieldsContent")],cs);const X0=cs;let La=class extends ne{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};h([p({type:String,json:{write:!0}})],La.prototype,"altText",void 0),h([p({type:String,json:{write:!0}})],La.prototype,"caption",void 0),h([p({type:String,json:{write:!0}})],La.prototype,"title",void 0),h([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],La.prototype,"type",void 0),La=h([P("esri.popup.content.mixins.MediaInfo")],La);const A3=La;var N2;let Ra=N2=class extends te{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new N2({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};h([p()],Ra.prototype,"color",void 0),h([p()],Ra.prototype,"fieldName",void 0),h([p()],Ra.prototype,"tooltip",void 0),h([p()],Ra.prototype,"value",void 0),Ra=N2=h([P("esri.popup.content.support.ChartMediaInfoValueSeries")],Ra);const oee=Ra;var D2;let ao=D2=class extends ne{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new D2({colors:j(this.colors),fields:j(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};h([p({type:[ye],json:{type:[[ft]],write:!0}})],ao.prototype,"colors",void 0),h([p({type:[String],json:{write:!0}})],ao.prototype,"fields",void 0),h([p({type:String,json:{write:!0}})],ao.prototype,"normalizeField",void 0),h([p({type:[oee],json:{read:!1}})],ao.prototype,"series",void 0),h([p({type:String,json:{write:!0}})],ao.prototype,"tooltipField",void 0),ao=D2=h([P("esri.popup.content.support.ChartMediaInfoValue")],ao);const aee=ao;let Hh=class extends A3{constructor(t){super(t),this.type=null,this.value=null}};h([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Hh.prototype,"type",void 0),h([p({type:aee,json:{write:!0}})],Hh.prototype,"value",void 0),Hh=h([P("esri.popup.content.mixins.ChartMediaInfo")],Hh);const g1=Hh,v1=Fr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var F2;let cy=F2=class extends g1{constructor(e){super(e),this.type="bar-chart"}clone(){return new F2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};h([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:v1.write}})],cy.prototype,"type",void 0),cy=F2=h([P("esri.popup.content.BarChartMediaInfo")],cy);const QR=cy;var j2;let hy=j2=class extends g1{constructor(e){super(e),this.type="column-chart"}clone(){return new j2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};h([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:v1.write}})],hy.prototype,"type",void 0),hy=j2=h([P("esri.popup.content.ColumnChartMediaInfo")],hy);const eN=hy;var z2;let qh=z2=class extends ne{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new z2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};h([p({type:String,json:{write:!0}})],qh.prototype,"linkURL",void 0),h([p({type:String,json:{write:!0}})],qh.prototype,"sourceURL",void 0),qh=z2=h([P("esri.popup.content.support.ImageMediaInfoValue")],qh);const lee=qh;var U2;let xu=U2=class extends A3{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new U2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};h([p({type:Number,json:{write:!0}})],xu.prototype,"refreshInterval",void 0),h([p({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],xu.prototype,"type",void 0),h([p({type:lee,json:{write:!0}})],xu.prototype,"value",void 0),xu=U2=h([P("esri.popup.content.ImageMediaInfo")],xu);const tN=xu;var V2;let dy=V2=class extends g1{constructor(e){super(e),this.type="line-chart"}clone(){return new V2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};h([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:v1.write}})],dy.prototype,"type",void 0),dy=V2=h([P("esri.popup.content.LineChartMediaInfo")],dy);const rN=dy;var G2;let py=G2=class extends g1{constructor(e){super(e),this.type="pie-chart"}clone(){return new G2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};h([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:v1.write}})],py.prototype,"type",void 0),py=G2=h([P("esri.popup.content.PieChartMediaInfo")],py);const nN=py,iN={base:A3,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":QR,"column-chart":eN,"line-chart":rN,"pie-chart":nN,image:tN}};var W2;let Un=W2=class extends ga{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?tN.fromJSON(t):t.type==="barchart"?QR.fromJSON(t):t.type==="columnchart"?eN.fromJSON(t):t.type==="linechart"?rN.fromJSON(t):t.type==="piechart"?nN.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new W2(j({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};h([p()],Un.prototype,"activeMediaInfoIndex",void 0),h([p({type:Object,json:{write:!0}})],Un.prototype,"attributes",void 0),h([p({type:String,json:{write:!0}})],Un.prototype,"description",void 0),h([p({types:[iN]})],Un.prototype,"mediaInfos",void 0),h([Re("mediaInfos")],Un.prototype,"readMediaInfos",null),h([Pe("mediaInfos")],Un.prototype,"writeMediaInfos",null),h([p({type:String,json:{write:!0}})],Un.prototype,"title",void 0),h([p({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Un.prototype,"type",void 0),Un=W2=h([P("esri.popup.content.MediaContent")],Un);const Q0=Un;var B2;let Zh=B2=class extends ne{constructor(e){super(e),this.field=null,this.order=null}clone(){return new B2({field:this.field,order:this.order})}};h([p({type:String,json:{write:!0}})],Zh.prototype,"field",void 0),h([p({type:["asc","desc"],json:{write:!0}})],Zh.prototype,"order",void 0),Zh=B2=h([P("esri.popup.support.RelatedRecordsInfoFieldOrder")],Zh);const sN=Zh;let Mi=class extends zs(ga){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};h([p({type:String,json:{write:!0}})],Mi.prototype,"description",void 0),h([p({type:Number,json:{type:ft,write:!0}})],Mi.prototype,"displayCount",void 0),h([p({type:["list"],json:{write:!0}})],Mi.prototype,"displayType",void 0),h([p({type:[sN],json:{write:!0}})],Mi.prototype,"orderByFields",void 0),h([p({type:Number,json:{type:ft,write:!0}})],Mi.prototype,"relationshipId",void 0),h([p({type:String,json:{write:!0}})],Mi.prototype,"title",void 0),h([p({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Mi.prototype,"type",void 0),Mi=h([P("esri.popup.content.RelationshipContent")],Mi);const eg=Mi;var H2;let Jh=H2=class extends ga{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new H2({text:this.text})}};h([p({type:String,json:{write:!0}})],Jh.prototype,"text",void 0),h([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Jh.prototype,"type",void 0),Jh=H2=h([P("esri.popup.content.TextContent")],Jh);const tg=Jh,uee={base:null,key:"type",typeMap:{attachment:K0,media:Q0,text:tg,expression:I3,field:X0,relationship:eg}};var q2;let Na=q2=class extends ne{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new q2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};h([p({type:String,json:{write:!0}})],Na.prototype,"name",void 0),h([p({type:String,json:{write:!0}})],Na.prototype,"title",void 0),h([p({type:String,json:{write:!0}})],Na.prototype,"expression",void 0),h([p({type:["string","number"],json:{write:!0}})],Na.prototype,"returnType",void 0),Na=q2=h([P("esri.popup.ExpressionInfo")],Na);const cee=Na;var Z2;let Yh=Z2=class extends ne{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Z2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};h([p({type:Boolean,json:{write:!0}})],Yh.prototype,"returnTopmostRaster",void 0),h([p({type:Boolean,json:{write:!0}})],Yh.prototype,"showNoDataRecords",void 0),Yh=Z2=h([P("esri.popup.LayerOptions")],Yh);const hee=Yh;var J2;let Kh=J2=class extends ne{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new J2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?j(this.orderByFields):null})}};h([p({type:Boolean,json:{write:!0}})],Kh.prototype,"showRelatedRecords",void 0),h([p({type:[sN],json:{write:!0}})],Kh.prototype,"orderByFields",void 0),Kh=J2=h([P("esri.popup.RelatedRecordsInfo")],Kh);const dee=Kh;var Y2;let dn=Y2=class extends E3(te){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Y2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};h([p()],dn.prototype,"active",void 0),h([p()],dn.prototype,"className",void 0),h([p()],dn.prototype,"disabled",void 0),h([p()],dn.prototype,"icon",void 0),h([p()],dn.prototype,"id",void 0),h([p()],dn.prototype,"indicator",void 0),h([p()],dn.prototype,"title",void 0),h([p()],dn.prototype,"type",void 0),h([p()],dn.prototype,"visible",void 0),dn=Y2=h([P("esri.support.actions.ActionBase")],dn);const L3=dn;var K2;let fy=K2=class extends L3{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new K2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};h([p()],fy.prototype,"image",void 0),fy=K2=h([P("esri.support.Action.ActionButton")],fy);const pee=fy;var X2;let Xh=X2=class extends L3{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new X2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};h([p()],Xh.prototype,"image",void 0),h([p()],Xh.prototype,"value",void 0),Xh=X2=h([P("esri.support.Action.ActionToggle")],Xh);const fee=Xh,mee="esri.PopupTemplate",yee=W.getLogger(mee),Ph="relationships/",_E="expression/",gee=re.ofType({key:"type",defaultKeyValue:"button",base:L3,typeMap:{button:pee,toggle:fee}}),vee={base:ga,key:"type",typeMap:{media:Q0,custom:nee,text:tg,attachments:K0,fields:X0,expression:I3,relationship:eg}},wee=new Set(["attachments","fields","media","text","expression","relationship"]);let Et=class extends zs(ne){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Nl(vee,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||da(t)?t:(yee.error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeContent(t,r,n,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>wee.has(s.type)).map(s=>s==null?void 0:s.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>{var d;return(d=c.fieldInfos)==null?void 0:d.length});r.fieldInfos=t.filter(Boolean).map(c=>{const d=c.toJSON(i);return l&&(d.visible=!1),d})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),Pp(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=j(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>o.fieldName.toLowerCase()===i.fieldName.toLowerCase());s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var s,o;const n=((s=t.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,t.relationshipId)))||[],i=[...((o=r.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...(i==null?void 0:i.length)&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=j(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),Q0.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),tg.fromJSON(s)):s.type==="attachments"?K0.fromJSON(s):s.type==="fields"?X0.fromJSON(s):s.type==="expression"?I3.fromJSON(s):s.type==="relationship"?eg.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!(r!=null&&r.startsWith(Ph)))return null;const i=r.replace(Ph,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return typeof s=="number"&&o?eg.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${Ph}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new tg({text:t})):s.push(new X0),Array.isArray(r)&&r.length&&s.push(Q0.fromJSON({mediaInfos:r})),n&&s.push(K0.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=i;return o&&(a!=null&&a.length)&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:d}=s,f=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(d),...o??[]];return a&&f.push(a),l&&f.push(l),f}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>la(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(r=>r.visible===void 0||!!r.visible).map(r=>r.fieldName).filter(r=>!r.startsWith(Ph)&&!r.startsWith(_E)):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||typeof t!="string")return[];const r=/{[^}]*}/g,n=t.match(r);if(!n)return[];const i=/\{(\w+):.+\}/,s=n.filter(o=>!(o.indexOf(`{${Ph}`)===0||o.indexOf(`{${_E}`)===0)).map(o=>o.replace(i,"{$1}"));return s?s.map(o=>o.slice(1,-1)):[]}};h([p({type:gee})],Et.prototype,"actions",void 0),h([p()],Et.prototype,"content",void 0),h([_r("content")],Et.prototype,"castContent",null),h([Re("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Et.prototype,"readContent",null),h([Pe("content",{popupElements:{type:re.ofType(uee)},showAttachments:{type:Boolean},mediaInfos:{type:re.ofType(iN)},description:{type:String},relatedRecordsInfo:{type:dee}})],Et.prototype,"writeContent",null),h([p({type:[cee],json:{write:!0}})],Et.prototype,"expressionInfos",void 0),h([p({type:[XR]})],Et.prototype,"fieldInfos",void 0),h([Pe("fieldInfos")],Et.prototype,"writeFieldInfos",null),h([p({type:hee})],Et.prototype,"layerOptions",void 0),h([Pe("layerOptions")],Et.prototype,"writeLayerOptions",null),h([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Et.prototype,"lastEditInfoEnabled",void 0),h([p()],Et.prototype,"outFields",void 0),h([p()],Et.prototype,"overwriteActions",void 0),h([p()],Et.prototype,"returnGeometry",void 0),h([p({json:{type:String}})],Et.prototype,"title",void 0),h([Pe("title")],Et.prototype,"writeTitle",null),Et=h([P("esri.PopupTemplate")],Et);const _ee=Et,bE=new kn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let bee=0,Tu=class extends ne{constructor(t){super(t),this.id="sym"+bee++,this.type=null,this.color=new ye([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};h([p({type:bE.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:bE.write}}})],Tu.prototype,"type",void 0),h([p({type:ye,json:{write:{allowNull:!0}}})],Tu.prototype,"color",void 0),h([Re("color")],Tu.prototype,"readColor",null),Tu=h([P("esri.symbols.Symbol")],Tu);const rn=Tu;var Q2;let lo=Q2=class extends rn{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(s=>{const o=s.valueExpressionInfo;return la(e,t,o.expression)});await Promise.all(i)}}}clone(){return new Q2({data:j(this.data)})}hash(){return jI(JSON.stringify(this.data)).toString()}};h([p({json:{write:!1}})],lo.prototype,"color",void 0),h([p({json:{write:!0}})],lo.prototype,"data",void 0),h([Re("data",["symbol"])],lo.prototype,"readData",null),h([Pe("data",{})],lo.prototype,"writeData",null),h([ge({CIMSymbolReference:"cim"},{readOnly:!0})],lo.prototype,"type",void 0),lo=Q2=h([P("esri.symbols.CIMSymbol")],lo);const w1=lo;let Mu=class extends ne{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};h([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Mu.prototype,"enabled",void 0),h([Pe("enabled")],Mu.prototype,"writeEnabled",null),h([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Mu.prototype,"type",void 0),Mu=h([P("esri.symbols.Symbol3DLayer")],Mu);const Ki=Mu;function See(e,t){const r=t.transparency!=null?pR(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new ye([n[0]||0,n[1]||0,n[2]||0,r]):null}function $ee(e,t){t.color=e.toJSON().slice(0,3);const r=dR(e.a);r!==0&&(t.transparency=r)}const va={type:ye,json:{type:[ft],default:null,read:{source:["color","transparency"],reader:See},write:{target:{color:{type:[ft]},transparency:{type:ft}},writer:$ee}}},Ji={type:Number,cast:Qe,json:{write:!0}};let Da=class extends ne{constructor(t){super(t),this.color=new ye([0,0,0,1]),this.extensionLength=0,this.size=aa(1)}clone(){}cloneProperties(){return{color:j(this.color),size:this.size,extensionLength:this.extensionLength}}};h([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Da.prototype,"type",void 0),h([p(va)],Da.prototype,"color",void 0),h([p({...Ji,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Da.prototype,"extensionLength",void 0),h([p(Ji)],Da.prototype,"size",void 0),Da=h([P("esri.symbols.edges.Edges3D")],Da);const R3=Da;var eb;let my=eb=class extends R3{constructor(e){super(e),this.type="sketch"}clone(){return new eb(this.cloneProperties())}};h([ge({sketch:"sketch"},{readOnly:!0})],my.prototype,"type",void 0),my=eb=h([P("esri.symbols.edges.SketchEdges3D")],my);const xee=my;var tb;let yy=tb=class extends R3{constructor(e){super(e),this.type="solid"}clone(){return new tb(this.cloneProperties())}};h([ge({solid:"solid"},{readOnly:!0})],yy.prototype,"type",void 0),yy=tb=h([P("esri.symbols.support.SolidEdges3D")],yy);const Tee=yy,oN={types:{key:"type",base:R3,typeMap:{solid:Tee,sketch:xee}},json:{write:!0}};var rb;let $n=rb=class extends ne{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new rb(e)}};h([p(va)],$n.prototype,"color",void 0),$n=rb=h([P("esri.symbols.support.Symbol3DMaterial")],$n);var nb;let uo=nb=class extends Ki{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new nb({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};h([ge({Extrude:"extrude"},{readOnly:!0})],uo.prototype,"type",void 0),h([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],uo.prototype,"size",void 0),h([p({type:$n,json:{write:!0}})],uo.prototype,"material",void 0),h([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],uo.prototype,"castShadows",void 0),h([p(oN)],uo.prototype,"edges",void 0),uo=nb=h([P("esri.symbols.ExtrudeSymbol3DLayer")],uo);const aN=uo;let Qh=class extends rn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};h([ge({esriSLS:"simple-line"},{readOnly:!0})],Qh.prototype,"type",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],Qh.prototype,"width",void 0),Qh=h([P("esri.symbols.LineSymbol")],Qh);const Mee=Qh,kee=["begin","end","begin-end"],lN=["arrow","circle","square","diamond","cross","x"];var ib;let ki=ib=class extends ne{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new ib({color:j(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};h([p({type:["begin","end","begin-end"],json:{write:!0}})],ki.prototype,"placement",void 0),h([ge({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],ki.prototype,"type",void 0),h([p({type:lN})],ki.prototype,"style",void 0),h([Pe("style")],ki.prototype,"writeStyle",null),h([p({type:ye,value:null,json:{write:{allowNull:!0}}})],ki.prototype,"color",null),h([Re("color")],ki.prototype,"readColor",null),h([Pe("color")],ki.prototype,"writeColor",null),ki=ib=h([P("esri.symbols.LineSymbolMarker")],ki);const Eee=ki;var sb;const qv=new kn({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let hs=sb=class extends Mee{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=Qe(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=Qe(s)),o}clone(){var e;return new sb({color:j(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};h([ge({esriSLS:"simple-line"},{readOnly:!0})],hs.prototype,"type",void 0),h([p({type:qv.apiValues,json:{read:qv.read,write:qv.write}})],hs.prototype,"style",void 0),h([p({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],hs.prototype,"cap",void 0),h([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],hs.prototype,"join",void 0),h([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Eee}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],hs.prototype,"marker",void 0),h([p({type:Number,json:{read:!1,write:!1}})],hs.prototype,"miterLimit",void 0),hs=sb=h([P("esri.symbols.SimpleLineSymbol")],hs);const eh=hs;let ed=class extends rn{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};h([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":eh}},json:{default:null,write:!0}})],ed.prototype,"outline",void 0),h([p({type:["simple-fill","picture-fill"],readOnly:!0})],ed.prototype,"type",void 0),ed=h([P("esri.symbols.FillSymbol")],ed);const uN=ed;let gy=class extends ne{constructor(t){super(t)}clone(){}};h([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],gy.prototype,"type",void 0),gy=h([P("esri.symbols.patterns.LinePattern3D")],gy);const cN=gy,Pee=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ob;const Cee=Fr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let td=ob=class extends cN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new ob(e)}};h([p({type:["style"]})],td.prototype,"type",void 0),h([ge(Cee),p({type:Pee})],td.prototype,"style",void 0),td=ob=h([P("esri.symbols.patterns.LineStylePattern3D")],td);const N3=td;let vy=class extends ne{constructor(t){super(t)}clone(){}};h([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],vy.prototype,"type",void 0),vy=h([P("esri.symbols.patterns.Pattern3D")],vy);const hN=vy,Oee=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var ab;let rd=ab=class extends hN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new ab(e)}};h([p({type:["style"]})],rd.prototype,"type",void 0),h([p({type:Oee,json:{read:!0,write:!0}})],rd.prototype,"style",void 0),rd=ab=h([P("esri.symbols.patterns.StylePattern3D")],rd);const dN=rd,Iee={types:{key:"type",base:hN,typeMap:{style:dN}},json:{write:!0}},pN={types:{key:"type",base:cN,typeMap:{style:N3}},json:{write:!0}},Vd=new ye("white");new ye("black");const Aee=new ye([255,255,255,0]);function Lee(e){return e.r===0&&e.g===0&&e.b===0}var lb;let Gd=lb=class extends $n{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new lb(e)}};h([ge({multiply:"multiply",replace:"replace",tint:"tint"})],Gd.prototype,"colorMixMode",void 0),Gd=lb=h([P("esri.symbols.support.Symbol3DFillMaterial")],Gd);function D3(e=jee){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function F3(e,t,r,n,i,s,o=D3()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Nde(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new et(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Dde(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Fde(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Ree(e){return e[0]>=e[3]?0:e[3]-e[0]}function Nee(e){return e[1]>=e[4]?0:e[4]-e[1]}function Dee(e){return e[2]>=e[5]?0:e[5]-e[2]}function jde(e,t=[0,0,0]){return t[0]=Ree(e),t[1]=Nee(e),t[2]=Dee(e),t}function zde(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Ude(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function Fee(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Vde(e){return e?Fee(e,$E):D3($E)}function Gde(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function Wde(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function SE(e){return e.length===6}function Bde(e,t,r){if(e==null||t==null)return e===t;if(!SE(e)||!SE(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const $E=[1/0,1/0,1/0,-1/0,-1/0,-1/0],jee=[0,0,0,0,0,0];D3();const zee=F3(-.5,-.5,-.5,.5,.5,.5),Uee=F3(-.5,-.5,0,.5,.5,1),Vee=F3(-.5,-.5,0,.5,.5,.5);function Hde(e){switch(e){case"sphere":case"cube":case"diamond":return zee;case"cylinder":case"cone":case"inverted-cone":return Uee;case"tetrahedron":return Vee;default:return}}const j3=["butt","square","round"],Gee=[...j3,"none"],fN=["miter","bevel","round"];var ub;let Fa=ub=class extends ne{constructor(e){super(e),this.color=new ye([0,0,0,1]),this.size=aa(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new ub(e)}};h([p(va)],Fa.prototype,"color",void 0),h([p(Ji)],Fa.prototype,"size",void 0),h([p(pN)],Fa.prototype,"pattern",void 0),h([p({type:j3,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Fa.prototype,"patternCap",void 0),Fa=ub=h([P("esri.symbols.support.Symbol3DOutline")],Fa);var wy;let ds=wy=class extends Ki{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new wy(e)}static fromSimpleFillSymbol(e){var n,i,s;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new N3({style:e.outline.style}):null,r={size:((n=e.outline)==null?void 0:n.width)??0,color:(((i=e.outline)==null?void 0:i.color)??Vd).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(r.patternCap=e.outline.cap),new wy({material:new Gd({color:(e.color??Aee).clone()}),pattern:e.style&&e.style!=="solid"?new dN({style:e.style}):null,outline:r})}};h([ge({Fill:"fill"},{readOnly:!0})],ds.prototype,"type",void 0),h([p({type:Gd,json:{write:!0}})],ds.prototype,"material",void 0),h([p(Iee)],ds.prototype,"pattern",void 0),h([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ds.prototype,"castShadows",void 0),h([p({type:Fa,json:{write:!0}})],ds.prototype,"outline",void 0),h([p(oN)],ds.prototype,"edges",void 0),ds=wy=h([P("esri.symbols.FillSymbol3DLayer")],ds);const of=ds,Wee=["none","underline","line-through"],Bee=["normal","italic","oblique"],Hee=["normal","lighter","bold","bolder"],mN={type:Number,cast:e=>{const t=Xn(e);return t===0?1:Bi(t,.1,4)},nonNullable:!0},qee=["left","right","center"],Zee=["baseline","top","middle","bottom"],yN={type:qee,nonNullable:!0},gN={type:Zee,nonNullable:!0},qde=8;var cb;let ps=cb=class extends ne{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Qe(e)}clone(){return new cb({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};h([p({type:Wee,json:{default:"none",write:!0}})],ps.prototype,"decoration",void 0),h([p({type:String,json:{write:!0}})],ps.prototype,"family",void 0),h([p({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],ps.prototype,"size",void 0),h([_r("size")],ps.prototype,"castSize",null),h([p({type:Bee,json:{default:"normal",write:!0}})],ps.prototype,"style",void 0),h([p({type:Hee,json:{default:"normal",write:!0}})],ps.prototype,"weight",void 0),ps=cb=h([P("esri.symbols.Font")],ps);const _1=ps;function af(e,t){var n;const r=(n=t==null?void 0:t.url)==null?void 0:n.path;if(e&&r&&(e=vn(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=O$(e,t.portalItem.itemUrl);i!=null&&Jee.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return hb(e,t==null?void 0:t.portal)}function b1(e,t,r=Cp.YES){var i,s;if(e==null)return e;!Jr(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=vn(e);if(t){const o=((i=t.verifyItemRelativeUrls)==null?void 0:i.rootPath)||((s=t.url)==null?void 0:s.path);if(o){const a=hb(o,t.portal),l=hb(n,t.portal);n=O$(l,a,a),n!=null&&n!==l&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=wN(n,t==null?void 0:t.portal),Jr(n)&&(n=qo(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Jr(n)&&!Ql(n)&&r===Cp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function z3(e,t,r){return af(e,r)}function Uc(e,t,r,n){const i=b1(e,n);i!==void 0&&(t[r]=i)}const vN=/\/items\/([^\/]+)\/resources\/(.*)/,Jee=/^\.\/resources\//;function Yee(e){const t=(e==null?void 0:e.match(vN))??null;return(t==null?void 0:t[1])??null}function Kee(e){const t=(e==null?void 0:e.match(vN))??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=MM(r);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=MM(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function wN(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?j_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function hb(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=k$();return Ic(n,`${n.scheme}://${r}`)?j_(e,t.portalHostname,r):j_(e,r,t.portalHostname)}var Cp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Cp||(Cp={}));const Zde=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Cp},ensureMainOnlineDomain:wN,fromJSON:af,itemIdFromResourceUrl:Yee,prefixAndFilenameFromResourceUrl:Kee,read:z3,toJSON:b1,write:Uc},Symbol.toStringTag,{value:"Module"}));var db;const Xee=Fr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let ja=db=class extends ne{constructor(e){super(e)}readHref(e,t,r){return e?af(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Ql(e)?t.dataURI=e:(t.href=b1(e,n),Jr(t.href)&&(t.href=qo(t.href))))}clone(){return new db({href:this.href,primitive:this.primitive})}};h([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],ja.prototype,"href",void 0),h([Re("href")],ja.prototype,"readHref",null),h([Pe("href",{href:{type:String},dataURI:{type:String}})],ja.prototype,"writeHref",null),h([ge(Xee)],ja.prototype,"primitive",void 0),ja=db=h([P("esri.symbols.support.IconSymbol3DLayerResource")],ja);var pb;let ec=pb=class extends te{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new pb({x:this.x,y:this.y})}};h([p({type:Number})],ec.prototype,"x",void 0),h([p({type:Number})],ec.prototype,"y",void 0),ec=pb=h([P("esri.symbols.support.Symbol3DAnchorPosition2D")],ec);var fb;let nd=fb=class extends ne{constructor(e){super(e),this.color=new ye([0,0,0,1]),this.size=aa(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new fb(e)}};h([p(va)],nd.prototype,"color",void 0),h([p(Ji)],nd.prototype,"size",void 0),nd=fb=h([P("esri.symbols.support.Symbol3DIconOutline")],nd);var ku;const _N="esri.symbols.IconSymbol3DLayer";let Ei=ku=class extends Ki{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new ku({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Vd,r=xE(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Vd).clone()}:null;return new ku({size:e.size,resource:{primitive:ete(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||Lee(e.color)?Vd:e.color,r=xE(e);return new ku({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new ku({resource:{href:u4({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function xE(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=TE(e.xoffset),i=TE(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function TE(e){return isFinite(e)?e:0}h([p({type:$n,json:{write:!0}})],Ei.prototype,"material",void 0),h([p({type:ja,json:{write:!0}})],Ei.prototype,"resource",void 0),h([ge({Icon:"icon"},{readOnly:!0})],Ei.prototype,"type",void 0),h([p(Ji)],Ei.prototype,"size",void 0),h([ge({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),p({json:{default:"center"}})],Ei.prototype,"anchor",void 0),h([p({type:ec,json:{type:[Number],read:{reader:e=>new ec({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Ei.prototype,"anchorPosition",void 0),h([p({type:nd,json:{write:!0}})],Ei.prototype,"outline",void 0),Ei=ku=h([P(_N)],Ei);const Qee={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ete(e){return Qee[e]||(W.getLogger(_N).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const gl=Ei;let za=class extends zs(ne){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};h([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],za.prototype,"type",void 0),h([p({type:kee,json:{default:"begin-end",write:!0}})],za.prototype,"placement",void 0),h([p({type:lN,json:{default:"arrow",write:!0}})],za.prototype,"style",void 0),h([p({type:ye,json:{type:[ft],default:null,write:!0}})],za.prototype,"color",void 0),za=h([P("esri.symbols.LineStyleMarker3D")],za);const mb=za;var _y;let Pi=_y=class extends Ki{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=aa(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new _y(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??aa(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new N3({style:e.style}):null,material:new $n({color:(e.color||Vd).clone()}),marker:e.marker?new mb({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new _y(t)}};h([p({type:$n,json:{write:!0}})],Pi.prototype,"material",void 0),h([ge({Line:"line"},{readOnly:!0})],Pi.prototype,"type",void 0),h([p({type:fN,json:{write:!0,default:"miter"}})],Pi.prototype,"join",void 0),h([p({type:j3,json:{write:!0,default:"butt"}})],Pi.prototype,"cap",void 0),h([p(Ji)],Pi.prototype,"size",void 0),h([p(pN)],Pi.prototype,"pattern",void 0),h([p({types:{key:"type",base:mb,typeMap:{style:mb}},json:{write:!0}})],Pi.prototype,"marker",void 0),Pi=_y=h([P("esri.symbols.LineSymbol3DLayer")],Pi);const lf=Pi;var yb;const tte=Fr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let id=yb=class extends ne{clone(){return new yb({href:this.href,primitive:this.primitive})}};h([p({type:String,json:{read:z3,write:Uc}})],id.prototype,"href",void 0),h([ge(tte)],id.prototype,"primitive",void 0),id=yb=h([P("esri.symbols.support.ObjectSymbol3DLayerResource")],id);var gb;let rl=gb=class extends te{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new gb({x:this.x,y:this.y,z:this.z})}};h([p({type:Number})],rl.prototype,"x",void 0),h([p({type:Number})],rl.prototype,"y",void 0),h([p({type:Number})],rl.prototype,"z",void 0),rl=gb=h([P("esri.symbols.support.Symbol3DAnchorPosition3D")],rl);var vb;let tr=vb=class extends Ki{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new vb({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};h([p({type:$n,json:{write:!0}})],tr.prototype,"material",void 0),h([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],tr.prototype,"castShadows",void 0),h([p({type:id,json:{write:!0}})],tr.prototype,"resource",void 0),h([ge({Object:"object"},{readOnly:!0})],tr.prototype,"type",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"width",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"height",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"depth",void 0),h([ge({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),p({json:{default:"origin"}})],tr.prototype,"anchor",void 0),h([p({type:rl,json:{type:[Number],read:{reader:e=>new rl({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],tr.prototype,"anchorPosition",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"heading",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"tilt",void 0),h([p({type:Number,json:{write:!0}})],tr.prototype,"roll",void 0),h([p({readOnly:!0})],tr.prototype,"isPrimitive",null),tr=vb=h([P("esri.symbols.ObjectSymbol3DLayer")],tr);const U3=tr;var wb;let dr=wb=class extends Ki{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new wb({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};h([p({type:$n,json:{write:!0}})],dr.prototype,"material",void 0),h([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],dr.prototype,"castShadows",void 0),h([ge({Path:"path"},{readOnly:!0})],dr.prototype,"type",void 0),h([p({type:["circle","quad"],json:{write:!0,default:"circle"}})],dr.prototype,"profile",void 0),h([p({type:fN,json:{write:!0,default:"miter"}})],dr.prototype,"join",void 0),h([p({type:Gee,json:{write:!0,default:"butt"}})],dr.prototype,"cap",void 0),h([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],dr.prototype,"width",void 0),h([Re("width",["width","size","height"])],dr.prototype,"readWidth",null),h([p({type:Number,json:{write:!0}})],dr.prototype,"height",void 0),h([Re("height",["height","size","width"])],dr.prototype,"readHeight",null),h([p({type:["center","bottom","top"],json:{write:!0,default:"center"}})],dr.prototype,"anchor",void 0),h([p({type:["heading","all"],json:{write:!0,default:"all"}})],dr.prototype,"profileRotation",void 0),dr=wb=h([P("esri.symbols.PathSymbol3DLayer")],dr);const V3=dr;var _b;let tc=_b=class extends ne{constructor(){super(...arguments),this.color=new ye([0,0,0,1]),this.size=0}clone(){const e={color:j(this.color),size:this.size};return new _b(e)}};h([p(va)],tc.prototype,"color",void 0),h([p(Ji)],tc.prototype,"size",void 0),tc=_b=h([P("esri.symbols.support.Symbol3DHalo")],tc);let Wd=class extends zs(ne){constructor(t){super(t),this.color=null}};h([p(va)],Wd.prototype,"color",void 0),Wd=h([P("esri.symbols.support.Symbol3DTextBackground")],Wd);var by;let Mr=by=class extends Ki{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new by({enabled:this.enabled,font:this.font&&j(this.font),halo:this.halo&&j(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:j(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new by({font:e.font!=null?e.font.clone():new _1,halo:rte(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new $n({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Wd({color:e.backgroundColor.clone()}):null})}};function rte(e,t){return e&&t!=null&&t>0?new tc({color:j(e),size:t}):null}h([p({type:_1,json:{write:!0}})],Mr.prototype,"font",null),h([Pe("font")],Mr.prototype,"writeFont",null),h([p({type:tc,json:{write:!0}})],Mr.prototype,"halo",void 0),h([p({...yN,json:{default:"center",write:!0}})],Mr.prototype,"horizontalAlignment",void 0),h([p({...mN,json:{default:1,write:!0}})],Mr.prototype,"lineHeight",void 0),h([p({type:$n,json:{write:!0}})],Mr.prototype,"material",void 0),h([p({type:Wd,json:{write:!0}})],Mr.prototype,"background",void 0),h([p(Ji)],Mr.prototype,"size",null),h([p({type:String,json:{write:!0}})],Mr.prototype,"text",void 0),h([ge({Text:"text"},{readOnly:!0})],Mr.prototype,"type",void 0),h([p({...gN,json:{default:"baseline",write:!0}})],Mr.prototype,"verticalAlignment",void 0),Mr=by=h([P("esri.symbols.TextSymbol3DLayer")],Mr);const th=Mr;var bb;let co=bb=class extends Ki{constructor(e){super(e),this.color=Sb.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new bb({color:j(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};h([p({type:ye,nonNullable:!0,json:{type:[ft],write:(e,t,r)=>t[r]=e.toArray(ye.AlphaMode.UNLESS_OPAQUE),default:()=>Sb.clone(),defaultEquals:e=>e.toCss(!0)===Sb.toCss(!0)}})],co.prototype,"color",void 0),h([ge({Water:"water"},{readOnly:!0})],co.prototype,"type",void 0),h([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],co.prototype,"waterbodySize",void 0),h([p({type:Number,json:{write:!0,default:null}})],co.prototype,"waveDirection",void 0),h([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],co.prototype,"waveStrength",void 0),co=bb=h([P("esri.symbols.WaterSymbol3DLayer")],co);const Sb=new ye([0,119,190]),bN=co;var $b;let Ua=$b=class extends te{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new $b({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};h([p({type:String})],Ua.prototype,"name",void 0),h([p({type:String})],Ua.prototype,"styleUrl",void 0),h([p({type:String})],Ua.prototype,"styleName",void 0),h([p({type:oa})],Ua.prototype,"portal",void 0),Ua=$b=h([P("esri.symbols.support.StyleOrigin")],Ua);const xb=Ua;var Tb;let Bd=Tb=class extends te{constructor(){super(...arguments),this.url=""}clone(){return new Tb({url:this.url})}};h([p({type:String})],Bd.prototype,"url",void 0),Bd=Tb=h([P("esri.symbols.support.Thumbnail")],Bd);const SN={icon:gl,object:U3,line:lf,path:V3,fill:of,extrude:aN,text:th,water:bN},nte=re.ofType({base:Ki,key:"type",typeMap:SN,errorContext:"symbol-layer"});let Ci=class extends rn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,n=r==null?void 0:r.type,i=n||re;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&W.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Bl(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=af(t.styleUrl,n);return new xb({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new xb({portal:(n==null?void 0:n.portal)||oa.getDefault(),styleName:t.styleName,name:t.name});n!=null&&n.messages&&n.messages.push(new Ds("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=b1(t.styleUrl,i);Jr(s)&&(s=qo(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&(i!=null&&i.portal)&&!FG(t.portal.restUrl,i.portal.restUrl)?i!=null&&i.messages&&i.messages.push(new Ds("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Ki||t&&SN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};h([p({json:{read:!1,write:!1}})],Ci.prototype,"color",null),h([p({type:nte,nonNullable:!0,json:{write:!0}}),_r(iR)],Ci.prototype,"symbolLayers",null),h([p({type:xb})],Ci.prototype,"styleOrigin",void 0),h([Re("styleOrigin")],Ci.prototype,"readStyleOrigin",null),h([Pe("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Ci.prototype,"writeStyleOrigin",null),h([p({type:Bd,json:{read:!1}})],Ci.prototype,"thumbnail",void 0),h([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Ci.prototype,"type",void 0),Ci=h([P("esri.symbols.Symbol3D")],Ci);const uf=Ci;let sd=class extends ne{constructor(t){super(t),this.visible=!0}clone(){}};h([p({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],sd.prototype,"type",void 0),h([p({readOnly:!0})],sd.prototype,"visible",void 0),sd=h([P("esri.symbols.callouts.Callout3D")],sd);const $N=sd;var Mb;let Sy=Mb=class extends ne{constructor(e){super(e),this.color=new ye("white")}clone(){return new Mb({color:j(this.color)})}};h([p(va)],Sy.prototype,"color",void 0),Sy=Mb=h([P("esri.symbols.callouts.LineCallout3DBorder")],Sy);const ite=Sy;var kb;let ho=kb=class extends $N{constructor(e){super(e),this.type="line",this.color=new ye([0,0,0,1]),this.size=aa(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new kb({color:j(this.color),size:this.size,border:j(this.border)})}};h([ge({line:"line"})],ho.prototype,"type",void 0),h([p(va)],ho.prototype,"color",void 0),h([p(Ji)],ho.prototype,"size",void 0),h([p({type:ite,json:{write:!0}})],ho.prototype,"border",void 0),h([p({readOnly:!0})],ho.prototype,"visible",null),ho=kb=h([P("esri.symbols.callouts.LineCallout3D")],ho);const xN=ho;function G3(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function TN(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!G3(e)}const MN={types:{key:"type",base:$N,typeMap:{line:xN}},json:{write:!0}};var Eb;let Eu=Eb=class extends ne{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Eb({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};h([p(Ji)],Eu.prototype,"screenLength",void 0),h([p({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Eu.prototype,"minWorldLength",void 0),h([p({type:Number,json:{write:!0}})],Eu.prototype,"maxWorldLength",void 0),Eu=Eb=h([P("esri.symbols.support.Symbol3DVerticalOffset")],Eu);const W3=Eu;var $y;const kN=re.ofType({base:null,key:"type",typeMap:{text:th}});let po=$y=class extends uf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new kN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return TN(this)}hasVisibleVerticalOffset(){return G3(this)}clone(){return new $y({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail),callout:j(this.callout),verticalOffset:j(this.verticalOffset)})}static fromTextSymbol(e){return new $y({symbolLayers:new re([th.fromTextSymbol(e)])})}};h([p({type:W3,json:{write:!0}})],po.prototype,"verticalOffset",void 0),h([p(MN)],po.prototype,"callout",void 0),h([p({json:{read:!1,write:!1}})],po.prototype,"styleOrigin",void 0),h([p({type:kN})],po.prototype,"symbolLayers",void 0),h([ge({LabelSymbol3D:"label-3d"},{readOnly:!0})],po.prototype,"type",void 0),po=$y=h([P("esri.symbols.LabelSymbol3D")],po);const B3=po;var xy;const EN=re.ofType({base:null,key:"type",typeMap:{line:lf,path:V3}}),ste=re.ofType({base:null,key:"type",typeMap:{line:lf,path:V3}});let od=xy=class extends uf{constructor(e){super(e),this.symbolLayers=new EN,this.type="line-3d"}clone(){return new xy({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleLineSymbol(e){return new xy({symbolLayers:new re([lf.fromSimpleLineSymbol(e)])})}};h([p({type:EN,json:{type:ste}})],od.prototype,"symbolLayers",void 0),h([ge({LineSymbol3D:"line-3d"},{readOnly:!0})],od.prototype,"type",void 0),od=xy=h([P("esri.symbols.LineSymbol3D")],od);const H3=od;let fo=class extends rn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};h([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],fo.prototype,"angle",void 0),h([p({type:["simple-marker","picture-marker"],readOnly:!0})],fo.prototype,"type",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],fo.prototype,"xoffset",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],fo.prototype,"yoffset",void 0),h([p({type:Number,cast:e=>e==="auto"?e:Qe(e),json:{write:!0}})],fo.prototype,"size",void 0),fo=h([P("esri.symbols.MarkerSymbol")],fo);const PN=fo;var Ty;const CN=re.ofType({base:null,key:"type",typeMap:{fill:of}});let ad=Ty=class extends uf{constructor(e){super(e),this.symbolLayers=new CN,this.type="mesh-3d"}clone(){return new Ty({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleFillSymbol(e){return new Ty({symbolLayers:new re([of.fromSimpleFillSymbol(e)])})}};h([p({type:CN})],ad.prototype,"symbolLayers",void 0),h([ge({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],ad.prototype,"type",void 0),ad=Ty=h([P("esri.symbols.MeshSymbol3D")],ad);const q3=ad;function ote(e,t,r){return t.imageData?u4({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):ON(t.url,r)}function ON(e,t){var r;return lte(t)&&!Jr(e)&&((r=t==null?void 0:t.layer)!=null&&r.parsedUrl)?Kg(t.layer.parsedUrl.path,"images",e):af(e,t)}function ate(e,t,r,n){if(Ql(e)){const i=gp(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&Uc(r.url,t,"url",n)}else Uc(e,t,"url",n)}const IN={json:{read:{source:["imageData","url"],reader:ote},write:{writer(e,t,r,n){ate(e,t,this.source,n)}}}},AN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=ON(t.url,r)),n}}}};function lte(e){var t,r;return!(e==null||e.origin!=="service"&&e.origin!=="portal-item"||((t=e.layer)==null?void 0:t.type)!=="feature"&&((r=e.layer)==null?void 0:r.type)!=="stream")}var Pb;let pn=Pb=class extends uN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Qe(r)),n!=null&&(i.height=Qe(n)),i}clone(){const e=new Pb({color:j(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",j(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};h([ge({esriPFS:"picture-fill"},{readOnly:!0})],pn.prototype,"type",void 0),h([p(IN)],pn.prototype,"url",void 0),h([p({type:Number,json:{write:!0}})],pn.prototype,"xscale",void 0),h([p({type:Number,json:{write:!0}})],pn.prototype,"yscale",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],pn.prototype,"width",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],pn.prototype,"height",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],pn.prototype,"xoffset",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],pn.prototype,"yoffset",void 0),h([p(AN)],pn.prototype,"source",void 0),pn=Pb=h([P("esri.symbols.PictureFillSymbol")],pn);const LN=pn;var Cb;let Vn=Cb=class extends PN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Qe(t)),r!=null&&(n.height=Qe(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Cb({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",j(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};h([p({json:{write:!1}})],Vn.prototype,"color",void 0),h([ge({esriPMS:"picture-marker"},{readOnly:!0})],Vn.prototype,"type",void 0),h([p(IN)],Vn.prototype,"url",void 0),h([p(AN)],Vn.prototype,"source",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],Vn.prototype,"height",void 0),h([Re("height",["height","size"])],Vn.prototype,"readHeight",null),h([p({type:Number,cast:Qe,json:{write:!0}})],Vn.prototype,"width",void 0),h([p({json:{write:!1}})],Vn.prototype,"size",void 0),Vn=Cb=h([P("esri.symbols.PictureMarkerSymbol")],Vn);const Z3=Vn;var Va;const RN=re.ofType({base:null,key:"type",typeMap:{icon:gl,object:U3,text:th}});let Ga=Va=class extends uf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new RN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return TN(this)}hasVisibleVerticalOffset(){return G3(this)}clone(){return new Va({verticalOffset:j(this.verticalOffset),callout:j(this.callout),styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Va({symbolLayers:new re([gl.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Va({symbolLayers:new re([gl.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var n,i;if(((i=(n=e.data)==null?void 0:n.symbol)==null?void 0:i.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Va(r!=null&&r.callout?{symbolLayers:new re([gl.fromCIMSymbol(e)]),callout:new xN({size:.5,color:new ye([0,0,0])}),verticalOffset:new W3({screenLength:40})}:{symbolLayers:new re([gl.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Va({symbolLayers:new re([th.fromTextSymbol(e)])})}};h([p({type:W3,json:{write:!0}})],Ga.prototype,"verticalOffset",void 0),h([p(MN)],Ga.prototype,"callout",void 0),h([p({type:RN,json:{origins:{"web-scene":{write:!0}}}})],Ga.prototype,"symbolLayers",void 0),h([ge({PointSymbol3D:"point-3d"},{readOnly:!0})],Ga.prototype,"type",void 0),Ga=Va=h([P("esri.symbols.PointSymbol3D")],Ga);const J3=Ga;var ld;const NN=re.ofType({base:null,key:"type",typeMap:{extrude:aN,fill:of,icon:gl,line:lf,object:U3,text:th,water:bN}});let ud=ld=class extends uf{constructor(e){super(e),this.symbolLayers=new NN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Cc(W.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Cc(W.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Nc(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Jc))}clone(){return new ld({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromJSON(e){var r;const t=new ld;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new ld({symbolLayers:new re([of.fromSimpleFillSymbol(e)])})}};h([p({type:NN,json:{write:!0}})],ud.prototype,"symbolLayers",void 0),h([ge({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],ud.prototype,"type",void 0),ud=ld=h([P("esri.symbols.PolygonSymbol3D")],ud);const Y3=ud;var Ob;const Zv=new kn({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Wa=Ob=class extends uN{constructor(...e){super(...e),this.color=new ye([0,0,0,.25]),this.outline=new eh,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new Ob({color:j(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};h([p()],Wa.prototype,"color",void 0),h([p()],Wa.prototype,"outline",void 0),h([ge({esriSFS:"simple-fill"},{readOnly:!0})],Wa.prototype,"type",void 0),h([p({type:Zv.apiValues,json:{read:Zv.read,write:Zv.write}})],Wa.prototype,"style",void 0),Wa=Ob=h([P("esri.symbols.SimpleFillSymbol")],Wa);const DN=Wa;var Ib;const Jv=new kn({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Oi=Ib=class extends PN{constructor(...e){super(...e),this.color=new ye([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new eh}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Qe(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Ib({angle:this.angle,color:j(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};h([p()],Oi.prototype,"color",void 0),h([Pe("color")],Oi.prototype,"writeColor",null),h([ge({esriSMS:"simple-marker"},{readOnly:!0})],Oi.prototype,"type",void 0),h([p()],Oi.prototype,"size",void 0),h([p({type:Jv.apiValues,json:{read:Jv.read,write:Jv.write}})],Oi.prototype,"style",void 0),h([p({type:String,json:{write:!0}})],Oi.prototype,"path",null),h([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":eh}},json:{default:null,write:!0}})],Oi.prototype,"outline",void 0),Oi=Ib=h([P("esri.symbols.SimpleMarkerSymbol")],Oi);const S1=Oi;var Ab;let He=Ab=class extends rn{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new _1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Qe(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new Ab({angle:this.angle,backgroundColor:j(this.backgroundColor),borderLineColor:j(this.borderLineColor),borderLineSize:this.borderLineSize,color:j(this.color),font:this.font&&this.font.clone(),haloColor:j(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};h([p({type:ye,json:{write:!0}})],He.prototype,"backgroundColor",void 0),h([p({type:ye,json:{write:!0}})],He.prototype,"borderLineColor",void 0),h([p({type:Number,json:{write:!0},cast:Qe})],He.prototype,"borderLineSize",void 0),h([p({type:_1,json:{write:!0}})],He.prototype,"font",void 0),h([p({...yN,json:{write:!0}})],He.prototype,"horizontalAlignment",void 0),h([p({type:Boolean,json:{write:!0}})],He.prototype,"kerning",void 0),h([p({type:ye,json:{write:!0}})],He.prototype,"haloColor",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],He.prototype,"haloSize",void 0),h([p({type:Boolean,json:{write:!0}})],He.prototype,"rightToLeft",void 0),h([p({type:Boolean,json:{write:!0}})],He.prototype,"rotated",void 0),h([p({type:String,json:{write:!0}})],He.prototype,"text",void 0),h([ge({esriTS:"text"},{readOnly:!0})],He.prototype,"type",void 0),h([p({...gN,json:{write:!0}})],He.prototype,"verticalAlignment",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],He.prototype,"xoffset",void 0),h([p({type:Number,cast:Qe,json:{write:!0}})],He.prototype,"yoffset",void 0),h([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],He.prototype,"angle",void 0),h([p({type:Number,json:{write:!0}})],He.prototype,"width",void 0),h([p({type:Number})],He.prototype,"lineWidth",void 0),h([Pe("lineWidth")],He.prototype,"writeLineWidth",null),h([_r("lineWidth")],He.prototype,"castLineWidth",null),h([p(mN)],He.prototype,"lineHeight",void 0),h([Pe("lineHeight")],He.prototype,"writeLineHeight",null),He=Ab=h([P("esri.symbols.TextSymbol")],He);const $1=He;var Lb;let Gn=Lb=class extends rn{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:oa.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new Lb({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,n=r?this._fetchCacheKey:null;if(r!=null){const a=n&&r.get(n);if(a)return a.clone()}const{resolveWebStyleSymbol:i}=await H(()=>import("./webStyleSymbolUtils-7cfce3ed.js"),["assets/webStyleSymbolUtils-7cfce3ed.js","assets/devEnvironmentUtils-4eab2a99.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js"]);mt(t);const s=i(this,{portal:this.portal},e,t);s.catch(a=>{W.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r!=null&&r.set(n,o.clone()),o):null}};h([p({json:{write:!1}})],Gn.prototype,"color",void 0),h([p({type:String,json:{write:!0}})],Gn.prototype,"styleName",void 0),h([p({type:oa,json:{write:!1}})],Gn.prototype,"portal",void 0),h([p({type:String,json:{read:z3,write:Uc}})],Gn.prototype,"styleUrl",void 0),h([p({type:Bd,json:{read:!1}})],Gn.prototype,"thumbnail",void 0),h([p({type:String,json:{write:!0}})],Gn.prototype,"name",void 0),h([ge({styleSymbolReference:"web-style"},{readOnly:!0})],Gn.prototype,"type",void 0),h([p()],Gn.prototype,"_fetchCacheKey",null),Gn=Lb=h([P("esri.symbols.WebStyleSymbol")],Gn);const x1=Gn;function epe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function tpe(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const K3={base:rn,key:"type",typeMap:{"simple-fill":DN,"picture-fill":LN,"picture-marker":Z3,"simple-line":eh,"simple-marker":S1,text:$1,"label-3d":B3,"line-3d":H3,"mesh-3d":q3,"point-3d":J3,"polygon-3d":Y3,"web-style":x1,cim:w1},errorContext:"symbol"},rpe={base:rn,key:"type",typeMap:{"picture-marker":Z3,"simple-marker":S1,text:$1,"web-style":x1,cim:w1},errorContext:"symbol"},npe=bA({types:K3}),ipe={base:rn,key:"type",typeMap:{"simple-fill":DN,"picture-fill":LN,"picture-marker":Z3,"simple-line":eh,"simple-marker":S1,text:$1,"line-3d":H3,"mesh-3d":q3,"point-3d":J3,"polygon-3d":Y3,"web-style":x1,cim:w1},errorContext:"symbol"},spe={base:rn,key:"type",typeMap:{text:$1,"label-3d":B3},errorContext:"symbol"},ope={base:rn,key:"type",typeMap:{"line-3d":H3,"mesh-3d":q3,"point-3d":J3,"polygon-3d":Y3,"web-style":x1,cim:w1},errorContext:"symbol"},ape={base:rn,key:"type",typeMap:{"label-3d":B3},errorContext:"symbol"},lpe=Nl(K3);var Rb;function ute(e){if(!e)return null;const t={};for(const r in e){const n=_p(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function cte(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let kr=Rb=class extends zs(ne){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Cd(),configurable:!0})}normalizeCtorArgs(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Rb({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&t.defaultPopupTemplate!=null)return t.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:cte(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:D_(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,n){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(i.action=n),e==="attributes"&&(i.attributeName=n),this.layer.graphicChanged(i)}};h([p({value:null,json:{read:ute}})],kr.prototype,"aggregateGeometries",null),h([p({value:null})],kr.prototype,"attributes",null),h([p({value:null,types:K$,json:{read:_p}})],kr.prototype,"geometry",null),h([p({type:Boolean})],kr.prototype,"isAggregate",void 0),h([p({clonable:"reference"})],kr.prototype,"layer",void 0),h([p({type:_ee})],kr.prototype,"popupTemplate",void 0),h([p({clonable:"reference"})],kr.prototype,"sourceLayer",void 0),h([p({value:null,types:K3})],kr.prototype,"symbol",null),h([p({type:Boolean,value:!0})],kr.prototype,"visible",null),kr=Rb=h([P("esri.Graphic")],kr),function(e){e.generateUID=Cd}(kr||(kr={}));const rg=kr;let kl=class extends jd{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};h([i5({Type:rg,ensureType:Dr(rg)})],kl.prototype,"itemType",void 0),kl=h([P("esri.support.GraphicsCollection")],kl);let mo=class extends te{constructor(t){super(t),this.view=null,this.baseLayerViews=new re,this.referenceLayerViews=new re,this._loadingHandle=ce(()=>{var r,n;return(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap},r=>{r&&r.load().catch(()=>{})},wr)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var r,n;if(this.view&&this.view.suspended)return!1;const t=(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};h([p({constructOnly:!0})],mo.prototype,"view",void 0),h([p({readOnly:!0})],mo.prototype,"baseLayerViews",void 0),h([p({readOnly:!0})],mo.prototype,"referenceLayerViews",void 0),h([p({readOnly:!0})],mo.prototype,"suspended",null),h([p({type:Boolean,readOnly:!0})],mo.prototype,"updating",null),mo=h([P("esri.views.BasemapView")],mo);function hte(e){return"tryRecycleWith"in e}let dte=class{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=ci(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,si(this._controller.signal,()=>{const i=new G("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}tryRecycle(t){if(!this.done||!this.layerView||!hte(this.layerView))return null;const r=this.layer.type,n=this._controller.signal;for(let i=0;i<t.length;i++){const s=t[i];if(s.type!==r)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){t.splice(i,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(mt(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((c,d)=>si(this._controller.signal,()=>d(Tt())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var i,s;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let o,a;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),fte(r))o=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new G("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);mt(t),o="default"in d?new d.default({layer:r,view:n}):new d({layer:r,view:n})}const l=()=>{a=ct(a),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};a=si(t,l),mt(t);try{await o.when()}catch(d){throw l(),d}if(!((s=(i=this._map)==null?void 0:i.allLayers)==null?void 0:s.includes(r)))return l(),void this._deferred.reject(new G("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=o,r.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){r.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:r,error:o}),this.done=!0,this._deferred.reject(new G("layerview:create-error","layerview creation failed",{layer:r,error:o}))}}},fn=class extends te{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Ml,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const r=(n=this.view.map)==null?void 0:n.allLayers;if(r)for(const i of r)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=ci(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Yp(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,c,d;if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,i=[],s=this.view.ready,o=f=>{if(f!=null){for(const m of f)if(m){n.add(m);const y=this._layerLayerViewInfoMap.get(m);y&&s?y.start():y||this._recyclingInfoMap.has(m)||i.push(m),"layers"in m&&m.layers&&o(m.layers)}}};for(const f of this._rootCollectionNames)o(Vi(this,f));for(const[f,m]of this._layerLayerViewInfoMap)if(!n.has(f)){this._layerLayerViewInfoMap.delete(m.layer);const y=m.tryRecycle(i);y?(this.notifyChange("updating"),this._recyclingInfoMap.set(m.layer,m),y.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule()})):m.destroy()}for(const[f,m]of this._recyclingInfoMap)n.has(f)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy());for(const f of i)this._createLayerView(f);this._refreshCollections();const a=[(l=r==null?void 0:r.ground)==null?void 0:l.layers,(c=r==null?void 0:r.basemap)==null?void 0:c.baseLayers,(d=r==null?void 0:r.basemap)==null?void 0:d.referenceLayers,r==null?void 0:r.layers].filter(f=>!!f);n.forEach(f=>"layers"in f&&a.push(f.layers)),this.addHandles(a.map(f=>this._watchUpdatingTracking.addOnCollectionChange(()=>f,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Nc(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ce(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),Ss)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),Vv(this._recyclingInfoMap),Vv(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Tt()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||qg(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(Vv(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new G("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(Vi(this,t),Vi(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,n){if(!t||!r)return void(r&&r.removeAll());let i=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!(o!=null&&o.layerView))continue;const a=o.layerView;a.layer=s,a.parent=n,r.at(i)!==a&&r.splice(i,0,a),s.layers&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),i+=1}i<r.length&&r.splice(i,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new dte(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),n=>{n&&(pi(n)||n.name==="cancelled:layerview-create")||W.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};h([p()],fn.prototype,"_workPromise",void 0),h([p({readOnly:!0})],fn.prototype,"_watchUpdatingTracking",void 0),h([p({readOnly:!0})],fn.prototype,"_layersToLayerViews",null),h([p({readOnly:!0})],fn.prototype,"_rootCollectionNames",null),h([p()],fn.prototype,"layerViewImporter",void 0),h([p()],fn.prototype,"supportsGround",void 0),h([p({readOnly:!0})],fn.prototype,"updating",null),h([p({readOnly:!0})],fn.prototype,"updatingRemaining",null),h([p({constructOnly:!0})],fn.prototype,"view",void 0),fn=h([P("esri.views.LayerViewManager")],fn);const pte=fn;function fte(e){return"createLayerView"in e&&e.createLayerView!=null}let Vr=class extends te{constructor(t){super(t),this.factor=1.5,this.offset=gr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};h([p({type:Number})],Vr.prototype,"factor",void 0),h([p({nonNullable:!0})],Vr.prototype,"offset",void 0),h([p()],Vr.prototype,"position",void 0),h([p({type:Number,range:{min:0}})],Vr.prototype,"size",void 0),h([p()],Vr.prototype,"maskUrl",void 0),h([p()],Vr.prototype,"maskEnabled",void 0),h([p()],Vr.prototype,"overlayUrl",void 0),h([p()],Vr.prototype,"overlayEnabled",void 0),h([p({readOnly:!0})],Vr.prototype,"version",null),h([p({type:Boolean})],Vr.prototype,"visible",void 0),Vr=h([P("esri.views.Magnifier")],Vr);const FN=Vr;let cd=class extends zs(te){constructor(t){super(t),this.accentColor=new ye([255,127,0]),this.textColor=new ye([255,255,255])}};h([p({type:ye,nonNullable:!0})],cd.prototype,"accentColor",void 0),h([p({type:ye,nonNullable:!0})],cd.prototype,"textColor",void 0),cd=h([P("esri.views.Theme")],cd);const Nb=cd;var ME;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(ME||(ME={}));const jN=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],zN={};function UN(e){return!!zN[e]}function mte(e){for(const t of e)if(!UN(t))return!1;return!0}jN.forEach(e=>{zN[e]=!0});let yte=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:n},i)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(i,[r],n)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,n,i){const s=Array.isArray(t)?t:t.split(",");if(!mte(s))return s.some(UN)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(r)?a=r:(o=r,a=[]),typeof n=="function"?o=n:i=n,i=i??Zo.DEFAULT;const l=this._createUniqueGroupName(),c=new gte(this.view,s,a,o);this._handlers.set(l,{handler:c,priority:i});for(const d of s){const f=this._handlerCounts.get(d)||0;this._handlerCounts.set(d,f+1)}return this.inputManager&&this.inputManager.installHandlers(l,[c],i),je(()=>this._removeHandler(l,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of r){const i=this._handlerCounts.get(n);i===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):i===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,i-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},gte=class extends Ot{constructor(t,r,n,i){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",n,o=>i(this._wrapClick(o)));break;case"double-click":this.registerIncoming("double-click",n,o=>i(this._wrapDoubleClick(o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>i(this._wrapImmediateClick(o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>i(this._wrapImmediateDoubleClick(o)));break;case"hold":this.registerIncoming("hold",n,o=>i(this._wrapHold(o)));break;case"drag":this.registerIncoming("drag",n,o=>{const a=this._wrapDrag(o);a&&i(a)});break;case"key-down":this.registerIncoming("key-down",n,o=>i(this._wrapKeyDown(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>i(this._wrapKeyUp(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>i(this._wrapPointer(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>i(this._wrapPointer(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>i(this._wrapPointer(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>i(this._wrapPointerDrag(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>i(this._wrapMouseWheel(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>i(this._wrapPointer(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>i(this._wrapPointer(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{i(this._wrapGamepad(o))});break;case"focus":this.registerIncoming("focus",n,o=>{i(this._wrapFocus(o))});break;case"blur":this.registerIncoming("blur",n,o=>{i(this._wrapBlur(o))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,screenPoint:gr(s,o),mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:d,timestamp:f}=t;return{type:"immediate-click",pointerId:c,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:f,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:d,timestamp:f}=t;return{type:"immediate-double-click",pointerId:c,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:f,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:c,mapPoint:this._getMapPoint(s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,r){return this.view.toMap(gr(t,r),{exclude:[]})}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:s,pointerType:o,button:a}=r;if(s==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const l=r.pointer.native,c=r.buttons,{cancelable:d,timestamp:f}=t,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:m,pointerType:o,button:a,buttons:c,radius:r.radius,angle:QA(r.angle),native:l,timestamp:f,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:r,repeat:n,native:i}=t.data,{cancelable:s,timestamp:o}=t;return{type:"key-down",key:r,repeat:n,native:i,timestamp:o,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:r,native:n}=t.data,{cancelable:i,timestamp:s}=t;return{type:"key-up",key:r,native:n,timestamp:s,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,r){const{x:n,y:i,button:s,buttons:o,native:a,eventId:l}=t.data,c=a.pointerId,d=a.pointerType,{cancelable:f,timestamp:m}=t;return{type:r,x:n,y:i,pointerId:c,pointerType:d,button:s,buttons:o,native:a,timestamp:m,eventId:l,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:r,y:n,buttons:i,native:s,eventId:o}=t.data.currentEvent,{button:a}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,f={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:m,timestamp:y}=t;return{type:"pointer-drag",x:r,y:n,pointerId:l,pointerType:c,button:a,buttons:i,action:d,origin:f,native:s,timestamp:y,eventId:o,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:r,data:n,timestamp:i}=t,{x:s,y:o,deltaY:a,native:l}=n;return{type:"mouse-wheel",x:s,y:o,deltaY:a,native:l,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:r,state:n,device:i}=t.data,{cancelable:s,timestamp:o}=t,{buttons:a,axes:l}=n;return{type:"gamepad",device:i,timestamp:o,action:r,buttons:a,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}};var Op,kE,EE;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Op||(Op={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(kE||(kE={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(EE||(EE={}));function vte(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return W.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function Db(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(Op.USER)&&e.getEditableFlag(Op.MANAGER)}function Ii(e){return gr(e.x,e.y)}function VN(e,t){var n;const r=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return r?gr(t.clientX-r.left,t.clientY-r.top):gr(0,0)}function GN(e,t){return t instanceof Event?VN(e,t):Ii(t)}function WN(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let wte=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":PE(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!CE(t))break;const i=Ii(t),s=this._intersect(i,t.pointerType,r.forEachTool);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,t,r),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:a,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!CE(t))break;const i=this._grabbedManipulators.get(t.pointerId),s=i==null?void 0:i.manipulator,o=i==null?void 0:i.tool;if(s==null||o==null)break;const a=Ii(t);a.x=Bi(a.x,0,r.view.width),a.y=Bi(a.y,0,r.view.height);const l=i.start,c=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,c?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,c&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=Ii(t),s=this._intersect(i,t.pointerType,r.forEachTool);if(_te(t)||r.forEachTool(c=>{if((s==null||s.tool!==c||c.automaticManipulatorSelection)&&c.manipulators){let d=!1;c.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,d=!0)}),d&&c.onManipulatorSelectionChanged&&c.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n}),Yv(o,n);break}case"click":{const i=Ii(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=s==null?void 0:s.manipulator;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a}),n();break}case"double-click":{const i=Ii(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),Yv(o,n);break}case"immediate-double-click":{const i=Ii(t),s=this._intersect(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),Yv(o,n);break}}this._onFocusChange(r.forEachTool)}_ungrabManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:Ii(r)}),this._grabbedManipulators.forEach(({manipulator:i},s)=>{i===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(t,r){var i;const n=(i=this._grabbedManipulators.get(t.pointerId))==null?void 0:i.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Ii(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorUngrab(r.setActiveTool))}_cursorFromMap(t){let r=null;return qg(t,({manipulator:n})=>!(n==null||!n.interactive)&&(n.grabbing&&n.grabCursor?(r=n.grabCursor,!0):!!n.cursor&&(r=n.cursor,!0))),r}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:i})=>{r.add(i)}),this._hoveredManipulators.forEach(({tool:i})=>{n.add(i)}),t(i=>{i.hasGrabbedManipulators=r.has(i),i.hasHoveredManipulators=n.has(i);const s=this._grabbedManipulators.values(),o=Nj(s,({tool:a})=>a===i);i.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:n},i=!0,s){const o=(a,l)=>a===t&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:c},d)=>{o(a,l)&&(this._grabbedManipulators.delete(d),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:c}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},c)=>{o(a,l)&&(this._draggedManipulators.delete(c),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),i&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},c)=>{o(a,l)&&(this._hoveredManipulators.delete(c),l.hovering=!1)}),this._afterManipulatorUngrab(n),this._onFocusChange(r)}_intersect(t,r,n){let i=null;return n(s=>{if(s.manipulators==null||!Db(s))return!1;const o=s.manipulators.intersect(t,r);return o!=null&&(i={tool:s,manipulator:o},!0)}),i}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(gr(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!PE(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Ii(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){var a;let s=this._intersect(t,n,i);const o=(a=this._hoveredManipulators.get(r))==null?void 0:a.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(r,s)):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_afterManipulatorUngrab(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function PE(e){return e==="mouse"}function CE(e){return e.pointerType!=="mouse"||e.button===0}function _te(e){return!!e.native.shiftKey}function Yv(e,t){e!=null&&e.consumesClicks&&t()}const OE="attached",Kv="tools",IE=1e3;let Ai=class extends te{constructor(t){super(t),this._updatingHandles=new Ml,this._clock=qc,this._manipulatorState=new wte,this.tools=new re,this.cursor=null,this._interacting=!1,this._interactingTimeout=IE,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const n of this.tools.items)if(r(n))return}}initialize(){this.addHandles([this.view.on(jN,t=>{this._handleInputEvent(t)},Zo.TOOL),...vte(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void W.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r!=null&&r.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const i=Db(n);this.activeTool!=null&&i||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!i)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=ct(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([ce(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(n=>n.onElevationChange(r)))],OE):this.addHandles(ce(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(OE),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:n})=>t(n,r))})}_handleInputEvent(t){let r=!1;const n={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(i=>{!r&&i.visible&&i.handleInputEvent(n)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(Kv),this._forEachTool(t=>{if(t instanceof te){const r=ce(()=>[t.cursor,t.visible,t.editable],()=>{Db(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,Kv)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],Kv)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,Op.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){const t=this;return{setClock:r=>this._clock=r,set interactingTimeoutEnabled(r){t._interactingTimeout=r?IE:0},get interactingTimeoutEnabled(){return t._interactingTimeout!==0}}}};h([p({constructOnly:!0,nonNullable:!0})],Ai.prototype,"view",void 0),h([p({value:null})],Ai.prototype,"activeTool",null),h([p({readOnly:!0,type:re})],Ai.prototype,"tools",void 0),h([p({readOnly:!0})],Ai.prototype,"cursor",void 0),h([p({readOnly:!0})],Ai.prototype,"updating",null),h([p()],Ai.prototype,"_interacting",void 0),h([p({readOnly:!0})],Ai.prototype,"interacting",null),Ai=h([P("esri.views.ToolViewManager")],Ai);let Pu=class extends te{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":bte.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return Ste[this.deviceType]}};h([p({nonNullable:!0,readOnly:!0})],Pu.prototype,"nativeIndex",void 0),h([p({type:String,readOnly:!0})],Pu.prototype,"deviceType",null),h([p({type:Number,readOnly:!0})],Pu.prototype,"axisThreshold",null),Pu=h([P("esri.views.input.gamepad.GamepadInputDevice")],Pu);const bte=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Ste={standard:.15,spacemouse:.025,unknown:0},X3=Pu;let hd=class extends te{constructor(...t){super(...t),this.devices=new re,this.enabledFocusMode="document"}};h([p({type:re.ofType(X3),readOnly:!0})],hd.prototype,"devices",void 0),h([p({type:["document","view","none"]})],hd.prototype,"enabledFocusMode",void 0),hd=h([P("esri.views.input.gamepad.GamepadSettings")],hd);const $te=hd;let My=class extends te{constructor(){super(...arguments),this.gamepad=new $te}};h([p({readOnly:!0})],My.prototype,"gamepad",void 0),My=h([P("esri.views.input.Input")],My);const xte=My;let yo=class extends te{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};h([p({type:Boolean,nonNullable:!0})],yo.prototype,"enabled",void 0),h([p({type:X3})],yo.prototype,"device",void 0),h([p({type:["pan","zoom"],nonNullable:!0})],yo.prototype,"mode",void 0),h([p({type:["forward-down","forward-up"],nonNullable:!0})],yo.prototype,"tiltDirection",void 0),h([p({type:Number,nonNullable:!0})],yo.prototype,"velocityFactor",void 0),yo=h([P("esri.views.navigation.gamepad.GamepadSettings")],yo);const BN=yo;let Ba=class extends te{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new BN,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};h([p({type:Boolean})],Ba.prototype,"browserTouchPanEnabled",void 0),h([p({type:BN,nonNullable:!0})],Ba.prototype,"gamepad",void 0),h([p({type:Boolean})],Ba.prototype,"momentumEnabled",void 0),h([p({type:Boolean})],Ba.prototype,"mouseWheelZoomEnabled",void 0),Ba=h([P("esri.views.navigation.Navigation")],Ba);const HN=Ba,qN={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},ZN=Object.values(qN),JN=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${ZN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Tte=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${ZN.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Mte=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function xpe(e){return!!JN.test(e)}function Q3(e){if(e==null)return null;const t=ur(e),r=(t==null?void 0:t.path.match(JN))||(t==null?void 0:t.path.match(Tte));if(!r)return null;const[,n,i,s,o]=r,a=i.indexOf("/");return{title:YN(a!==-1?i.slice(a+1):i),serverType:qN[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function kte(e){const t=ur(e).path.match(Mte);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function YN(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Tpe(e,t){const r=[];if(e){const n=Q3(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=YN(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Mpe(e){if(!e)return!1;const t=".arcgis.com/",r="//services",n="//tiles",i="//features",s=(e=e.toLowerCase()).includes(t),o=e.includes(r)||e.includes(n)||e.includes(i);return s&&o}function kpe(e,t){return e&&c4(h4(e,t))}function Epe(e){let{url:t}=e;if(!t)return{url:t};t=h4(t,e.logger);const r=ur(t),n=Q3(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=kte(r.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:c4(t),layerId:i}}function Ppe(e,t,r,n,i){Uc(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=Kg(n.url,r,e.layerId.toString()))}function Cpe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}var AE;function Ete(e){var n;const t=e.url?Q3(e.url):void 0;return!(((n=e.spatialReference)==null?void 0:n.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&KN(e)&&e.heightModelInfo?e.heightModelInfo:Pte(e)?C3.deriveUnitFromSR(Ote,e.spatialReference):null}function KN(e){return"heightModelInfo"in e}function XN(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function Pte(e){return XN(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):QN(e)}function Cte(e){return e.layers!=null||QN(e)||XN(e)||KN(e)}function QN(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(AE||(AE={}));const Ote=new C3({heightModel:"gravity-related-height"});var ng;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(ng||(ng={}));let Fb,Xv=null;async function Ite(e){Xv||(Xv=H(()=>import("./geometryServiceUtils-1bd8581b.js"),[]).then(t=>Fb=t)),await Xv,mt(e)}async function e6(e,t,r,n){if(!e)return null;const i=e.spatialReference;return nu()||Fs(i,t)?iu(e,t):Fb?Fb.projectGeometry(e,t,r,n):(await Promise.race([Ite(n),ia(n)]),e6(e,t,r,n))}let Ie=class extends te{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=dp(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference!=null?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,i,s,o;const t=(n=this.map)==null?void 0:n.call(this),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(i=t==null?void 0:t.basemap)==null?void 0:i.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers}),r}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;let n=null;for(const s of t){const o=this._getSupportedSpatialReferences(s);if(o.length>0){const a=this._narrowDownSpatialReferenceCandidates(n,o);a!=null&&(n=a)}if(n!=null&&n.length===1)break}if(r&&(n==null||n.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(n);return{spatialReference:i!=null?i.spatialReference:null,viewingMode:i!=null?i.viewingMode:null,updating:!1}}get _tileInfoTask(){var n,i,s,o,a,l,c;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:r}=this._collectLayers([{parent:(i=(n=this.map)==null?void 0:n.call(this))==null?void 0:i.basemap,layers:(a=(o=(s=this.map)==null?void 0:s.call(this))==null?void 0:o.basemap)==null?void 0:a.baseLayers},{layers:(c=(l=this.map)==null?void 0:l.call(this))==null?void 0:c.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const d=t[0].tileInfo;return{tileInfo:d&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:r}}get _heightModelInfoTask(){var n,i,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;for(const o of t)if(Cte(o)){const a=Ete(o);if(a)return{heightModelInfo:a,vcsWkid:(i=o.spatialReference)==null?void 0:i.vcsWkid,latestVcsWkid:(s=o.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,r=t.updating,n=[];for(const i of t.layers){const s="fullExtents"in i&&i.fullExtents||(i.fullExtent!=null?[i.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:s[0],a=s.find(l=>l.spatialReference.equals(this.spatialReference))??o;if(a)return{candidates:[{extent:a,layer:i}],updating:!1};if(this._getSupportedSpatialReferences(i).length>0)for(const l of s)n.push({extent:l,layer:i})}return{candidates:n,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),i=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=dp(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:i.clone(),task:e3(async s=>{try{const o=await e6(n.extent,i,"portalItem"in n.layer?n.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Ns(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const n=[],i=(s,o)=>s!=null?o!=null?s===o&&s:s:o;for(const s of t)for(const o of r){if(!s.spatialReference.equals(o.spatialReference))continue;const a=i(s.viewingMode,o.viewingMode);if(a!==!1){n.push({spatialReference:s.spatialReference,viewingMode:a});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r!=null?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:n})=>n.equals(r))&&(t=t.filter(({spatialReference:n})=>n.equals(r))),t.length>1&&t.some(({viewingMode:n})=>n!==ng.Local)&&(t=t.filter(({viewingMode:n})=>n!==ng.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const n=[];for(const i of r){const s=this.getSpatialReferenceSupport({spatialReference:i,layer:t});if(s!=null){const o=s.constraints!=null?s.constraints:[{spatialReference:i,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||n.push({spatialReference:a,viewingMode:l})}}return n}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:n})=>r.equals(n.spatialReference))||t[0]}_collectLayers(t){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const r=new Ate;for(const i of t)if(this._collectCollection(i,r),r.preloading===this.sourcePreloadCount)break;return{layers:r.layers,updating:r.updating}}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const n of t.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":r.updating||r.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},r)}if(r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{pi(r)||console.log(r)}),"loading"):t.loadStatus:"loaded"}};h([p()],Ie.prototype,"required",void 0),h([p({constructOnly:!0})],Ie.prototype,"map",void 0),h([p({constructOnly:!0})],Ie.prototype,"getSpatialReferenceSupport",void 0),h([p()],Ie.prototype,"defaultSpatialReference",void 0),h([p()],Ie.prototype,"userSpatialReference",void 0),h([p()],Ie.prototype,"sourcePreloadCount",void 0),h([p()],Ie.prototype,"priorityCollection",void 0),h([p()],Ie.prototype,"requiresExtentInSpatialReference",void 0),h([p()],Ie.prototype,"suspended",void 0),h([p({readOnly:!0})],Ie.prototype,"ready",null),h([p({readOnly:!0})],Ie.prototype,"heightModelInfoReady",null),h([p({readOnly:!0})],Ie.prototype,"spatialReference",null),h([p({readOnly:!0})],Ie.prototype,"extent",null),h([p({readOnly:!0})],Ie.prototype,"heightModelInfo",null),h([p({readOnly:!0})],Ie.prototype,"vcsWkid",null),h([p({readOnly:!0})],Ie.prototype,"latestVcsWkid",null),h([p({readOnly:!0})],Ie.prototype,"viewingMode",null),h([p({readOnly:!0})],Ie.prototype,"tileInfo",null),h([p({readOnly:!0})],Ie.prototype,"mapCollections",null),h([p({readOnly:!0})],Ie.prototype,"_allLayers",null),h([p({readOnly:!0})],Ie.prototype,"_spatialReferenceTask",null),h([p({readOnly:!0})],Ie.prototype,"_tileInfoTask",null),h([p({readOnly:!0})],Ie.prototype,"_heightModelInfoTask",null),h([p({readOnly:!0})],Ie.prototype,"_extentCandidatesTask",null),h([p()],Ie.prototype,"_extentTask",null),h([p()],Ie.prototype,"_projectExtentTask",void 0),Ie=h([P("esri.views.support.DefaultsFromMap")],Ie);let Ate=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};var dd;let K=dd=class extends tu.EventedMixin(x3(te)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new o$,this.updatingHandles=new Ml,this.allLayerViews=new bp({getCollections:()=>{var t,r,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:Rte}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new kl,this.analyses=new Z0,this.typeSpecificPreconditionsReady=!0,this.layerViews=new re,this.magnifier=new FN,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new xte,this.navigation=new HN,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new yte(this),this.persistableViewModels=new re,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(ce(()=>this.preconditionsReady,t=>{var r,n;t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,dd.views.add(this)):(this._lockedSpatialReference=null,dd.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((r=this.toolViewManager)==null||r.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown()):t&&!this.ready&&(this._startup(),this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Jc))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,t1(()=>this.ready)))),this.basemapView=new mo({view:this}),this.layerViewManager=new pte({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Ai({view:this}),this._setupSpatialReferenceLogger(),this.addHandles([ce(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),ce(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),ce(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([ce(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const r=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(e!=null)return;const i=je(()=>e=dp(e));e=e3(async s=>{try{await oA(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}W.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(i,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var e,t;this.destroyed||(dd.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ze(this.graphics),this.analyses=Ze(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Ze(this.analysisViewManager),this.toolViewManager=Ze(this.toolViewManager),this.layerViewManager=Ze(this.layerViewManager),this.basemapView=Ze(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Ze(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return W.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ie({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||sa.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(W.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),sa.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;let e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!yt(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Zi}set timeZone(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));this._userTimeZone=e,e===Zi||e===p3||t.has(e.toLowerCase())||r.has(e.toLowerCase())||W.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Nb}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(e){throw new G("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport({spatialReference:e})!=null}when(e,t){return this.isResolved()&&!this.ready&&W.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Gl(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};K.views=new re,h([p()],K.prototype,"_userSpatialReference",void 0),h([p()],K.prototype,"activeTool",null),h([p({readOnly:!0})],K.prototype,"allLayerViews",void 0),h([p()],K.prototype,"groundView",void 0),h([p()],K.prototype,"animation",null),h([p()],K.prototype,"basemapView",void 0),h([p()],K.prototype,"center",null),h([p({readOnly:!0})],K.prototype,"_defaultsFromMapSettings",null),h([p()],K.prototype,"defaultsFromMap",null),h([p()],K.prototype,"fatalError",void 0),h([p({type:et})],K.prototype,"extent",null),h([p(P2(kl,"graphics"))],K.prototype,"graphics",void 0),h([p(P2(Z0,"analyses"))],K.prototype,"analyses",void 0),h([p({readOnly:!0,type:C3})],K.prototype,"heightModelInfo",null),h([p({readOnly:!0})],K.prototype,"interacting",null),h([p({readOnly:!0})],K.prototype,"navigating",null),h([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],K.prototype,"preconditionsReady",null),h([p({readOnly:!0})],K.prototype,"typeSpecificPreconditionsReady",void 0),h([p({type:re,readOnly:!0})],K.prototype,"layerViews",void 0),h([p()],K.prototype,"resolution",null),h([p({type:FN})],K.prototype,"magnifier",void 0),h([p({value:null,type:NR})],K.prototype,"map",null),h([p()],K.prototype,"padding",void 0),h([p({readOnly:!0})],K.prototype,"ready",void 0),h([p({type:$e})],K.prototype,"spatialReference",null),h([p()],K.prototype,"spatialReferenceWarningDelay",void 0),h([p()],K.prototype,"stationary",null),h([p({readOnly:!0})],K.prototype,"supportsGround",void 0),h([p({type:cQ})],K.prototype,"timeExtent",void 0),h([p({type:String,nonNullable:!0})],K.prototype,"timeZone",null),h([p()],K.prototype,"tools",null),h([p()],K.prototype,"toolViewManager",void 0),h([p({readOnly:!0})],K.prototype,"type",void 0),h([p({type:Number})],K.prototype,"scale",void 0),h([p({readOnly:!0})],K.prototype,"updating",void 0),h([p({readOnly:!0})],K.prototype,"initialExtentRequired",void 0),h([p({readOnly:!0})],K.prototype,"initialExtent",null),h([p()],K.prototype,"cursor",null),h([p({readOnly:!0})],K.prototype,"input",void 0),h([p({type:HN,nonNullable:!0})],K.prototype,"navigation",void 0),h([p()],K.prototype,"layerViewManager",void 0),h([p()],K.prototype,"analysisViewManager",void 0),h([p()],K.prototype,"width",void 0),h([p()],K.prototype,"height",void 0),h([p({readOnly:!0})],K.prototype,"resizing",void 0),h([p({value:null,readOnly:!0})],K.prototype,"size",null),h([p({readOnly:!0})],K.prototype,"suspended",void 0),h([p({readOnly:!0})],K.prototype,"viewEvents",void 0),h([p({readOnly:!0})],K.prototype,"persistableViewModels",void 0),h([p()],K.prototype,"_isValid",void 0),h([p()],K.prototype,"_readyCycleForced",void 0),h([p()],K.prototype,"_lockedSpatialReference",void 0),h([p()],K.prototype,"_userTimeZone",void 0),h([p()],K.prototype,"_lockedTimeZone",void 0),h([p({type:Nb})],K.prototype,"theme",void 0),h([p({readOnly:!0,type:Nb})],K.prototype,"effectiveTheme",null),K=dd=h([P("esri.views.View")],K);const Lte=K;function Rte(e){return e.layerViews}let go=class extends W0{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=ci(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new G("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,r){r||(r=da(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};h([p({readOnly:!0})],go.prototype,"done",null),h([p({readOnly:!0,type:String})],go.prototype,"state",void 0),h([p()],go.prototype,"target",void 0),go=h([P("esri.views.ViewAnimation")],go),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(go||(go={}));const jb=go;function nl(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,c=1-a-l;function d(g){return((o*g+s)*g+i)*g}function f(g){return((c*g+l)*g+a)*g}function m(g){return(3*o*g+2*s)*g+i}function y(g,v){let $,_,b,S,x,M;for(b=g,M=0;M<8;M++){if(S=d(b)-g,Math.abs(S)<v)return b;if(x=m(b),Math.abs(x)<1e-6)break;b-=S/x}if($=0,_=1,b=g,b<$)return $;if(b>_)return _;for(;$<_;){if(S=d(b),Math.abs(S-g)<v)return b;g>S?$=b:_=b,b=.5*(_-$)+$}return b}return function(g,v=1e-6){return f(y(g,v))}}const Nte=/^cubic-bezier\((.*)\)/,mn={};function Dte(e){let t=mn[e]||null;if(!t){const r=Nte.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=nl.apply(nl,n))}}return t}mn.ease=nl(.25,.1,.25,1),mn.linear=nl(0,0,1,1),mn.easeIn=mn["ease-in"]=nl(.42,0,1,1),mn.easeOut=mn["ease-out"]=nl(0,0,.58,1),mn.easeInOut=mn["ease-in-out"]=nl(.42,0,.58,1);function Fte(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function jte(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function zte(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e}function ex(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5];let l=r*s-n*i;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-s*o)*l,e[5]=(n*o-r*a)*l,e):null}function Ute(e){return e[0]*e[3]-e[1]*e[2]}function t6(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],d=r[1],f=r[2],m=r[3],y=r[4],g=r[5];return e[0]=n*c+s*d,e[1]=i*c+o*d,e[2]=n*f+s*m,e[3]=i*f+o*m,e[4]=n*y+s*g+a,e[5]=i*y+o*g+l,e}function T1(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=Math.sin(r),d=Math.cos(r);return e[0]=n*d+s*c,e[1]=i*d+o*c,e[2]=n*-c+s*d,e[3]=i*-c+o*d,e[4]=a,e[5]=l,e}function tx(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],d=r[1];return e[0]=n*c,e[1]=i*c,e[2]=s*d,e[3]=o*d,e[4]=a,e[5]=l,e}function Ip(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*c+s*d+a,e[5]=i*c+o*d+l,e}function r6(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function n6(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function rx(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Vte(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Gte(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function Wte(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function i6(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function Bte(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function Hte(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function qte(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Zte(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=t[0],c=t[1],d=t[2],f=t[3],m=t[4],y=t[5],g=En();return Math.abs(r-l)<=g*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=g*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-d)<=g*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-f)<=g*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-m)<=g*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-y)<=g*Math.max(1,Math.abs(a),Math.abs(y))}const Jte=t6,Yte=i6;Object.freeze(Object.defineProperty({__proto__:null,add:Wte,copy:Fte,determinant:Ute,equals:Zte,exactEquals:qte,frob:Gte,fromRotation:r6,fromScaling:n6,fromTranslation:rx,identity:jte,invert:ex,mul:Jte,multiply:t6,multiplyScalar:Bte,multiplyScalarAndAdd:Hte,rotate:T1,scale:tx,set:zte,str:Vte,sub:Yte,subtract:i6,translate:Ip},Symbol.toStringTag,{value:"Module"}));function Jo(){return[1,0,0,1,0,0]}function Kte(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Xte(e,t,r,n,i,s){return[e,t,r,n,i,s]}function Qte(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,clone:Kte,create:Jo,createView:Qte,fromValues:Xte},Symbol.toStringTag,{value:"Module"}));function Ap(e,t){return e[0]=t[0],e[1]=t[1],e}function Nt(e,t,r){return e[0]=t,e[1]=r,e}function s6(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Lp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function o6(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function a6(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function ere(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function tre(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function rre(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function nre(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function ire(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function cf(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function sre(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function M1(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function ig(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function sg(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function l6(e){const t=e[0],r=e[1];return t*t+r*r}function u6(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ore(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function zb(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function c6(e,t){return e[0]*t[0]+e[1]*t[1]}function h6(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function are(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function lre(e,t){t=t||1;const r=2*Jg()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function ure(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Jn(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function cre(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function hre(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function dre(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),a=Math.cos(n);return e[0]=i*a-s*o+r[0],e[1]=i*o+s*a+r[1],e}function pre(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function fre(e){return"vec2("+e[0]+", "+e[1]+")"}function mre(e,t){return e[0]===t[0]&&e[1]===t[1]}function yre(e,t){const r=e[0],n=e[1],i=t[0],s=t[1],o=En();return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function gre(e,t,r,n,i){let s=t[0]-r[0],o=t[1]-r[1];const a=(n[0]*s+n[1]*o)*(i-1);return s=n[0]*a,o=n[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const vre=sg,nx=Lp,wre=o6,_re=a6,bre=M1,Sre=ig,$re=l6;Object.freeze(Object.defineProperty({__proto__:null,add:s6,angle:pre,ceil:ere,copy:Ap,cross:h6,dist:bre,distance:M1,div:_re,divide:a6,dot:c6,equals:yre,exactEquals:mre,floor:tre,inverse:ore,len:vre,length:sg,lerp:are,max:nre,min:rre,mul:wre,multiply:o6,negate:u6,normalize:zb,projectAndScale:gre,random:lre,rotate:dre,round:ire,scale:cf,scaleAndAdd:sre,set:Nt,sqrDist:Sre,sqrLen:$re,squaredDistance:ig,squaredLength:l6,str:fre,sub:nx,subtract:Lp,transformMat2:ure,transformMat2d:Jn,transformMat3:cre,transformMat4:hre},Symbol.toStringTag,{value:"Module"}));function ht(){return[0,0]}function xre(e){return[e[0],e[1]]}function hf(e,t){return[e,t]}function Tre(e,t=ht()){const r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Mre(e,t){return new Float64Array(e,t,2)}function d6(){return ht()}function p6(){return hf(1,1)}function f6(){return hf(1,0)}function m6(){return hf(0,1)}const kre=d6(),Ere=p6(),Pre=f6(),Cre=m6();Object.freeze(Object.defineProperty({__proto__:null,ONES:Ere,UNIT_X:Pre,UNIT_Y:Cre,ZEROS:kre,clone:xre,create:ht,createView:Mre,fromArray:Tre,fromValues:hf,ones:p6,unitX:f6,unitY:m6,zeros:d6},Symbol.toStringTag,{value:"Module"}));const ym={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new ei({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:$e.WebMercator}),minus180Line:new ei({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:$e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ei({paths:[[[180,-180],[180,180]]],spatialReference:$e.WGS84}),minus180Line:new ei({paths:[[[-180,-180],[-180,180]]],spatialReference:$e.WGS84})}};function vl(e,t){return Math.ceil((e-t)/(2*t))}function y6(e,t){const r=Hd(e);for(const n of r)for(const i of n)i[0]+=t;return e}function Hd(e){return J$(e)?e.rings:e.paths}function Lpe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Ore(e){return typeof e=="string"?ur(e):j(e)}function Ire(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s)){n[i]=[];for(let o=0;o<s.length;o++)n[i][o]=Ire(s[o])}else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r==null?void 0:r[i]);n[i]=t?o:JSON.stringify(o)}else n[i]=t?s:JSON.stringify(s);else n[i]=s}return n}async function Are(e,t,r,n){const i=Ore(e),s=t[0].spatialReference,o={...n,responseType:"json",query:{...i.query,f:"json",sr:$4(s),target:JSON.stringify({geometryType:Y$(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await Yt(i.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map(d=>{const f=_p(d);return f.spatialReference=s,f})}}function Lre(e){return{geometryType:Y$(e[0]),geometries:e.map(t=>t.toJSON())}}function Rre(e,t,r){const n=jB(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}async function Nre(e,t,r){const n=typeof e=="string"?ur(e):e,i=t[0].spatialReference,s=Y$(t[0]),o={...r,query:{...n.query,f:"json",sr:$4(i),geometries:JSON.stringify(Lre(t))}},{data:a}=await Yt(n.path+"/simplify",o);return Rre(a.geometries,s,i)}const g6=W.getLogger("esri.geometry.support.normalizeUtils");function Dre(e){return e.type==="polygon"}function Fre(e){return e[0].type==="polygon"}function jre(e){return e[0].type==="polyline"}function LE(e){const t=[];let r=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];let o=null;for(let a=0;a<s.length;a++)o=s[a],t.push(o),a===0?(r=o[0],n=r):(r=Math.min(r,o[0]),n=Math.max(n,o[0]));o&&t.push([(r+n)/2,0])}return t}function zre(e,t){if(!(e instanceof ei||e instanceof ta)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw g6.error(i),new G(i)}const r=Hd(e),n=[];for(const i of r){const s=[];n.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const a=i[o][0],l=i[o][1],c=i[o+1][0],d=i[o+1][1],f=Math.sqrt((c-a)*(c-a)+(d-l)*(d-l)),m=(d-l)/f,y=(c-a)/f,g=f/t;if(g>1){for(let b=1;b<=g-1;b++){const S=b*t,x=y*S+a,M=m*S+l;s.push([x,M])}const v=(f+Math.floor(g-1)*t)/2,$=y*v+a,_=m*v+l;s.push([$,_])}s.push([c,d])}}return Dre(e)?new ta({rings:n,spatialReference:e.spatialReference}):new ei({paths:n,spatialReference:e.spatialReference})}function RE(e,t,r){if(t){const n=zre(e,1e6);e=Dh(n,!0)}return r&&(e=y6(e,r)),e}function NE(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=vl(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=vl(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=vl(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=vl(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function Ure(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=Hd(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(c=>{if(c[0]<180)return!0;{let d=0;for(let m=0;m<l.length;m++){const y=l[m][0];d=y>d?y:d}d=Number(d.toFixed(9));const f=-360*vl(d,180);for(let m=0;m<l.length;m++){const y=s.getPoint(a,m);s.setPoint(a,m,y.clone().offset(f,0))}return!0}})}if(i===r){if(Fre(e))for(const a of Hd(s))e[i]=e[i].addRing(a);else if(jre(e))for(const a of Hd(s))e[i]=e[i].addPath(a)}else r=i,e[i]=s}return e}async function Vre(e,t,r){if(!Array.isArray(e))return Vre([e],t);t&&typeof t!="string"&&g6.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(t==null?void 0:t.url)??Te.geometryServiceUrl;let i,s,o,a,l,c,d,f,m=0;const y=[],g=[];for(const x of e)if(x!=null)if(i||(i=x.spatialReference,s=Yr(i),o=i.isWebMercator,c=o?102100:4326,a=ym[c].maxX,l=ym[c].minX,d=ym[c].plus180Line,f=ym[c].minus180Line),s)if(x.type==="mesh")g.push(x);else if(x.type==="point")g.push(NE(x.clone(),a,l));else if(x.type==="multipoint"){const M=x.clone();M.points=M.points.map(k=>NE(k,a,l)),g.push(M)}else if(x.type==="extent"){const M=x.clone()._normalize(!1,!1,s);g.push(M.rings?new ta(M):M)}else if(x.extent){const M=x.extent,k=vl(M.xmin,l)*(2*a);let O=k===0?x.clone():y6(x.clone(),k);M.offset(k,0),M.intersects(d)&&M.xmax!==a?(m=M.xmax>m?M.xmax:m,O=RE(O,o),y.push(O),g.push("cut")):M.intersects(f)&&M.xmin!==l?(m=M.xmax*(2*a)>m?M.xmax*(2*a):m,O=RE(O,o,360),y.push(O),g.push("cut")):g.push(O)}else g.push(x.clone());else g.push(x);else g.push(x);let v=vl(m,a),$=-90;const _=v,b=new ei;for(;v>0;){const x=360*v-180;b.addPath([[x,$],[x,-1*$]]),$*=-1,v--}if(y.length>0&&_>0){const x=Ure(y,await Are(n,y,b,r)),M=[],k=[];for(let V=0;V<g.length;V++){const F=g[V];if(F!=="cut")k.push(F);else{const q=x.shift(),X=e[V];X!=null&&X.type==="polygon"&&X.rings&&X.rings.length>1&&q.rings.length>=X.rings.length?(M.push(q),k.push("simplify")):k.push(o?xl(q):q)}}if(!M.length)return k;const O=await Nre(n,M,r),A=[];for(let V=0;V<k.length;V++){const F=k[V];F!=="simplify"?A.push(F):A.push(o?xl(O.shift()):O.shift())}return A}const S=[];for(let x=0;x<g.length;x++){const M=g[x];if(M!=="cut")S.push(M);else{const k=y.shift();S.push(o===!0?xl(k):k)}}return S}function Gre(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&Yr(e.spatialReference);if(!r)return t;const[n,i]=r.valid,s=2*i,{width:o}=t;let a,{xmin:l,xmax:c}=t;if([l,c]=[c,l],e.type==="extent"||o===0||o<=i||o>s||l<n||c>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=LE(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=LE(e.paths);break;case"multipoint":a=e.points}const d=t.clone();for(let f=0;f<a.length;f++){let m=a[f][0];m<0?(m+=i,c=Math.max(m,c)):(m-=i,l=Math.min(m,l))}return d.xmin=l,d.xmax=c,d.width<o?(d.xmin-=i,d.xmax-=i,d):t}function v6(e,t,r){const n=Yr(r);if(n==null)return e;const[i,s]=n.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<i&&(a=-Math.ceil(Math.abs(t-i)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<i&&(l=-Math.ceil(Math.abs(e-i)/o));let c=e+(a-l)*o;const d=c-t;return d>s?c-=o:d<i&&(c+=o),c}function Rpe(e,t){const r=Yr(t);if(r){const[n,i]=r.valid,s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}const w6=96,_6=39.37,Wre=180/Math.PI;function b6(e){return e.wkid?e:e.spatialReference||$e.WGS84}function ix(e,t){return t.type?Nt(e,t.x,t.y):Ap(e,t)}function S6(e){return eu(e)}function yc(e,t){const r=Math.max(1,t[0]),n=Math.max(1,t[1]);return Math.max(e.width/r,e.height/n)*Qre(e.spatialReference)}async function pd(e,t,r,n){var a,l;let i,s;if(!e||Array.isArray(e)&&!e.length)return null;if(re.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const c=e.every(m=>"attributes"in m),d=e.some(m=>!m.geometry);let f=e;if(c&&d&&t&&t.allLayerViews){const m=new Map;for(const $ of e){const _=$.layer,b=m.get(_)||[],S=$.attributes[_.objectIdField];S!=null&&b.push(S),m.set(_,b)}const y=[];m.forEach(($,_)=>{const b=t.allLayerViews.find(S=>S.layer.id===_.id);if(b&&"queryFeatures"in b){const S=_.createQuery();S.objectIds=$,S.returnGeometry=!0,y.push(b.queryFeatures(S))}});const g=await Promise.all(y),v=[];for(const $ of g)if($&&$.features&&$.features.length)for(const _ of $.features)_.geometry!=null&&v.push(_.geometry);f=v}for(const m of f)n=await pd(m,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new ue(e);else if(e instanceof fa)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const c=e.layer,d=t.allLayerViews.find(f=>f.layer.id===c.id);if(d&&"queryFeatures"in d){const f=c.createQuery();f.objectIds=[e.attributes[c.objectIdField]],f.returnGeometry=!0;const m=await d.queryFeatures(f);i=(l=(a=m==null?void 0:m.features)==null?void 0:a[0])==null?void 0:l.geometry}}}if(i==null)return null;switch(i.type){case"point":s=new et({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=Gre(i);break;default:s=i.extent}if(!s)return null;nu()||Fs(s.spatialReference,r)||await ia();const o=iu(s,r);return o?n=n?n.union(o):o:null}function Bre(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const r=e.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(e)&&e.length&&e.every(r=>"layer"in r)){let r=0,n=0;for(const i of e){const s=i.layer;s!=null&&s.minScale&&s.maxScale&&(r=s.minScale<r?s.minScale:r,n=s.maxScale>n?s.maxScale:n)}return r&&n?{min:r,max:n}:null}}}function Qv(e,t){return yt(b6(e),t)?e:iu(e,t)}async function Hre(e,t){var v;if(!e||!t)return new Wi({targetGeometry:new ue,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:s,size:o}=t,a=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]];let l=null;e instanceof Wi?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let c=null;l!=null&&l.targetGeometry?c=l.targetGeometry:e instanceof et?c=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(c=await pd(e.center,t,r)||await pd(e.extent,t,r)||await pd(e.target,t,r)||await pd(e,t,r)),!c&&(s!=null&&s.targetGeometry)?c=s.targetGeometry:!c&&t.extent&&(c=t.extent),r||(r=b6(t.spatialReference||t.extent||c)),nu()||yt(c.spatialReference,r)||Fs(c.spatialReference,r)||await ia();const d=Qv("center"in c?c.center:c,r);t.pickClosestTarget!==!1&&d.type==="point"&&((v=s.targetGeometry)==null?void 0:v.type)==="point"&&(d.x=v6(d.x,s.targetGeometry.x,d.spatialReference));let f=0;if((l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point")f=l.scale;else if("scale"in e&&e.scale)f=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)f=n.zoomToScale(e.zoom);else if(Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0){const $=Qv(t.extent,r);f=$!=null?yc($,a):t.extent?yc(t.extent,a):s.scale}else f=yc(Qv(c.extent,r),a);const m=Bre(e.target??e);m&&(m.min&&m.min<f?f=m.min:m.max&&m.max>f&&(f=m.max));let y=0;l?y=l.rotation:e.hasOwnProperty("rotation")?y=e.rotation:s&&(y=s.rotation);let g=new Wi({targetGeometry:d,scale:f,rotation:y});return n&&(g=n.fit(g),n.constrainByGeometry(g),n.rotationEnabled||(g.rotation=s.rotation)),g}function fi(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function qre(e,t,r){return r?Nt(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):cf(e,t,.5)}const Zre=function(){const e=ht();return function(t,r,n){const i=r.targetGeometry;ix(e,i);const s=.5*rh(r);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=i.spatialReference,t}}();function Jre(e,t,r,n,i){var s;return Ub(e,t,r.center),e.scale=yc(r,n),(s=i==null?void 0:i.constraints)==null||s.constrain(e),e}function Yre(e,t,r,n){return ax(e,t,r,n),ex(e,e)}const $6=function(){const e=ht();return function(t,r,n){return nx(t,ene(t,r),qre(e,r,n))}}(),Kre=function(){const e=Jo(),t=ht();return function(r,n,i,s){const o=rh(n),a=sx(n);return Nt(t,o,o),n6(e,t),T1(e,e,a),Ip(e,e,$6(t,i,s)),Ip(e,e,[0,s.top-s.bottom]),Nt(r,e[4],e[5])}}();function rh(e){return e.scale*Xre(e.targetGeometry)}function Xre(e){return e!=null&&zt(e.spatialReference)?1/(S6(e.spatialReference)*_6*w6):1}function sx(e){return b$(e.rotation)||0}function Qre(e){return zt(e)?S6(e)*_6*w6:1}function ene(e,t){return cf(e,t,.5)}const ox=function(){const e=ht(),t=ht(),r=ht();return function(n,i,s,o,a,l){return u6(e,i),cf(t,s,.5*l),Nt(r,1/o*l,-1/o*l),rx(n,t),a&&T1(n,n,a),tx(n,n,r),Ip(n,n,e),n}}(),ax=function(){const e=ht();return function(t,r,n,i){const s=rh(r),o=sx(r);return ix(e,r.targetGeometry),ox(t,e,n,s,o,i)}}(),tne=function(){const e=ht();return function(t,r,n,i){const s=rh(r);return ix(e,r.targetGeometry),ox(t,e,n,s,0,i)}}();function rne(e){const t=Yr(e);return t?t.valid[1]-t.valid[0]:0}function nne(e,t){return Math.round(rne(e)/t)}const ine=function(){const e=ht(),t=ht(),r=[0,0,0];return function(n,i,s){Lp(e,n,i),zb(e,e),Lp(t,n,s),zb(t,t),h6(r,e,t);let o=Math.acos(c6(e,t)/(sg(e)*sg(t)))*Wre;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),sne=function(){const e=ht();return function(t,r,n,i){const s=t.targetGeometry;return fi(t,r),Kre(e,r,n,i),s.x+=e[0],s.y+=e[1],t}}(),Ub=function(e,t,r){fi(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},one=function(){const e=ht();return function(t,r,n,i,s){s||(s="center"),nx(e,n,i),cf(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":Nt(e,0,0);break;case"left":Nt(e,-o,0);break;case"top":Nt(e,0,a);break;case"right":Nt(e,o,0);break;case"bottom":Nt(e,0,-a);break;case"top-left":Nt(e,-o,a);break;case"bottom-left":Nt(e,-o,-a);break;case"top-right":Nt(e,o,a);break;case"bottom-right":Nt(e,o,-a)}return k1(t,r,e),t}}();function Npe(e,t,r){return fi(e,t),e.rotation+=r,e}function ane(e,t,r){return fi(e,t),e.rotation=r,e}const lne=function(){const e=ht();return function(t,r,n,i,s){return fi(t,r),isNaN(n)||n===0||(T6(e,i,r,s),t.scale=r.scale*n,M6(e,e,t,s),k1(t,t,Nt(e,e[0]-i[0],i[1]-e[1]))),t}}();function DE(e,t,r){return fi(e,t),e.scale=r,e}const x6=function(){const e=ht();return function(t,r,n,i,s,o){return fi(t,r),isNaN(n)||n===0||(T6(e,s,r,o),t.scale=r.scale*n,t.rotation+=i,M6(e,e,t,o),k1(t,t,Nt(e,e[0]-s[0],s[1]-e[1]))),t}}(),Dpe=function(){const e=ht(),t=ht();return function(r,n,i,s,o,a,l){return $6(t,a,l),s6(e,o,t),s?x6(r,n,i,s,e,a):lne(r,n,i,e,a)}}(),T6=function(){const e=Jo();return function(t,r,n,i){return Jn(t,r,Yre(e,n,i,1))}}(),M6=function(){const e=Jo();return function(t,r,n,i){return Jn(t,r,ax(e,n,i,1))}}(),k1=function(){const e=ht(),t=Jo();return function(r,n,i){fi(r,n);const s=rh(n),o=r.targetGeometry;return r6(t,sx(n)),tx(t,t,hf(s,s)),Jn(e,i,t),o.x+=e[0],o.y+=e[1],r}}();let une=class{constructor(t,r,n,i){const s=t.targetGeometry,o=r.targetGeometry;i?typeof i=="string"&&(i=Dte(i)||mn.ease):i=mn.ease,this.easing=i,this.duration=n,this.sCenterX=s.x,this.sCenterY=s.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,r){const n=this.easing(r);let i,s,o,a;r>=1?(i=this.tCenterX,s=this.tCenterY,o=this.tRotation,a=this.tScale):(i=this.sCenterX+n*this.dCenterX,s=this.sCenterY+n*this.dCenterY,o=this.sRotation+n*this.dRotation,a=this.sScale+n*this.dScale),t.targetGeometry.x=i,t.targetGeometry.y=s,t.scale=a,t.rotation=o}},fs=class extends te{constructor(t){super(t),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=mn.ease,this.view=null,this.viewpoint=new Wi({targetGeometry:new ue,scale:0,rotation:0}),this._updateTask=Oc({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=ct(this._updateTask)}animate(t,r,n){this.stop();const i=this.viewpoint;fi(i,r),this.transition=new une(this.viewpoint,t.target,(n==null?void 0:n.duration)||this.duration,(n==null?void 0:n.easing)||this.easing);const s=()=>{var o,a;this.animation===t&&this._updateTask&&(t.state==="finished"&&((o=this.transition)==null||o.applyRatio(this.viewpoint,1),(a=this.view)!=null&&a.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const n=new jb({target:t.clone()}),i=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var n,i;const r=this.animation;if(r&&r.state!==jb.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else{const s=this.transition,o=(performance.now()-this._startTime)/s.duration,a=o>=1;s.applyRatio(this.viewpoint,o),a&&((n=this.animation)==null||n.finish())}(i=this.view)!=null&&i.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};h([p()],fs.prototype,"animation",void 0),h([p()],fs.prototype,"duration",void 0),h([p()],fs.prototype,"transition",void 0),h([p()],fs.prototype,"easing",void 0),h([p()],fs.prototype,"view",void 0),h([p()],fs.prototype,"viewpoint",void 0),fs=h([P("esri.views.2d.AnimationManager")],fs);const cne=fs;let hne=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var o,a;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:i,state:{id:s}}=this.view;r.forEach(this._updateLayerView,this),i!=null&&(i.lastUpdateId!==s&&(i.viewChange(),i.lastUpdateId=s),i.updateRequested&&i.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((a=this._frameTaskHandle)==null||a.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=ce(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=Oc(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var i;if(!t.attached)return void this.requestUpdate();const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((i=t.layerViews)==null||i.forEach(this._updateLayerView,this))}},ky=class extends te{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void W.getLogger(this).error("#goTo()","target cannot be null or undefined");this.view.animation&&(this.view.animation=null);const n=this._createAnimation();await t1(()=>this.view.ready,r);const i={animate:!0,...r},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:c,padding:d,allLayerViews:f}=this.view,m=Hre(t,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:c,padding:d,allLayerViews:f,pickClosestTarget:(r==null?void 0:r.pickClosestTarget)??!0});return n==null||n.update(m),this._gotoTask={},i.animate?this._gotoAnimated(m,i):this._gotoImmediate(m,i)}_gotoImmediate(t,r){const n=this._gotoTask,i=this.view.animation,s=t.then(o=>{if(mt(r),n!==this._gotoTask)throw new G("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=i.target=o,i.finish()});return this._cancellableGoTo(n,i,s)}_gotoAnimated(t,r){const n=this._gotoTask,i=this.view.animation;if(!i)return Promise.resolve();const s=t.then(o=>{if(mt(r),n!==this._gotoTask)throw new G("view:goto-interrupted","Goto was interrupted");return i.update(o),this.view.animationManager.animate(i,this.view.viewpoint,r),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,i,s)}_createAnimation(){return this.view.animation&&!this.view.animation.done||(this.view.animation=new jb),this.view.animation}_cancellableGoTo(t,r,n){const i=()=>t===this._gotoTask;return n.finally(()=>{i()&&(r.done||r.stop(),this.view.animation=null)})}};h([p({constructOnly:!0})],ky.prototype,"view",void 0),ky=h([P("esri.views.2d.GoToManager")],ky);function rt(){return Promise.all([H(()=>import("./webglDeps-9aea9c75.js"),["assets/webglDeps-9aea9c75.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/programUtils-9399f41b.js","assets/NestedMap-1b5db22e.js"]),H(()=>import("./mapViewDeps-6c68c0db.js"),["assets/mapViewDeps-6c68c0db.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/visualVariablesUtils-73d1d4d8.js","assets/OptimizedGeometry-d94e541f.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js","assets/definitions-d28bab5c.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/GeometryUtils-f6e6151e.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/imageUtils-7a465f28.js","assets/Container-f2d36f2f.js","assets/Texture-f675116c.js","assets/BufferPool-befa182b.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/enums-fb086c25.js","assets/programUtils-9399f41b.js","assets/NestedMap-1b5db22e.js","assets/MagnifierPrograms-2c5185f8.js","assets/rasterizingUtils-f8b3e6ff.js","assets/pbf-08dd563b.js","assets/imageutils-e6922af3.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/CircularArray-ef508845.js","assets/testSVGPremultipliedAlpha-9055109d.js","assets/throttle-7bf02de9.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js","assets/RenderingContext-8c05ccc2.js","assets/OrderIndependentTransparency-6ae10952.js","assets/basicInterfaces-11f56cb3.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/GraphicContainer-ed4da031.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/requestImageUtils-6312ca62.js"])])}const Ch=()=>rt().then(()=>H(()=>import("./TileLayerView2D-60891ccc.js"),["assets/TileLayerView2D-60891ccc.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/BufferPool-befa182b.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/enums-fb086c25.js","assets/MagnifierPrograms-2c5185f8.js","assets/rasterizingUtils-f8b3e6ff.js","assets/pbf-08dd563b.js","assets/imageutils-e6922af3.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/CircularArray-ef508845.js","assets/testSVGPremultipliedAlpha-9055109d.js","assets/throttle-7bf02de9.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js","assets/OrderIndependentTransparency-6ae10952.js","assets/basicInterfaces-11f56cb3.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/vec3f32-2da9db36.js","assets/imageUtils-fc786669.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/TileContainer-d3fa1aca.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/HighlightGraphicContainer-f1965438.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/RefreshableLayerView-e734be59.js","assets/drapedUtils-4efd95b2.js","assets/floorFilterUtils-080a7cd2.js","assets/sublayerUtils-44a79dda.js","assets/popupUtils-158a08e7.js"])),du=()=>rt().then(()=>H(()=>import("./FeatureLayerView2D-9fa32786.js"),["assets/FeatureLayerView2D-9fa32786.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/FeatureEffect-8a44b622.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/FeatureSet-4ba9f962.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/TileContainer-d3fa1aca.js","assets/CircularArray-ef508845.js","assets/BufferPool-befa182b.js","assets/FeatureContainer-ac3e4d66.js","assets/commonProperties-43b199c9.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),FE={"base-dynamic":()=>rt().then(()=>H(()=>import("./BaseDynamicLayerView2D-73d609fd.js"),["assets/BaseDynamicLayerView2D-73d609fd.js","assets/BitmapContainer-4eb08411.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/ExportStrategy-5d3a03bf.js","assets/Bitmap-a468b1d0.js","assets/RefreshableLayerView-e734be59.js"])),"base-tile":Ch,"bing-maps":Ch,csv:du,"geo-rss":()=>rt().then(()=>H(()=>import("./GeoRSSLayerView2D-6cdc4c37.js"),["assets/GeoRSSLayerView2D-6cdc4c37.js","assets/jsonUtils-f9aedde2.js","assets/UniqueValueRenderer-36595a45.js","assets/LegendOptions-48c2523d.js","assets/diffUtils-9dbdd340.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/ColorStop-7842c5e0.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js","assets/DictionaryLoader-7ed264e8.js","assets/LRUCache-c7a923e7.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/FeatureSet-4ba9f962.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/GraphicContainer-ed4da031.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/TimeOnly-f35243a6.js"])),feature:du,geojson:du,graphics:()=>rt().then(()=>H(()=>import("./GraphicsLayerView2D-9843c3ad.js"),["assets/GraphicsLayerView2D-9843c3ad.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/GraphicContainer-ed4da031.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js"])),group:()=>rt().then(()=>H(()=>import("./GroupLayerView2D-063b82b4.js"),["assets/GroupLayerView2D-063b82b4.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js"])),imagery:()=>rt().then(()=>H(()=>import("./ImageryLayerView2D-a01c6278.js"),["assets/ImageryLayerView2D-a01c6278.js","assets/RasterVFDisplayObject-f41c3988.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-547ded43.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/GraphicsView2D-9be86d91.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/visualVariablesUtils-73d1d4d8.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js","assets/HighlightGraphicContainer-f1965438.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/BitmapContainer-4eb08411.js","assets/Bitmap-a468b1d0.js","assets/ExportStrategy-5d3a03bf.js","assets/rasterProjectionHelper-9f8ef9b3.js","assets/commonProperties-43b199c9.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),"imagery-tile":()=>rt().then(()=>H(()=>import("./ImageryTileLayerView2D-27d97815.js"),["assets/ImageryTileLayerView2D-27d97815.js","assets/multidimensionalUtils-c70ba9c6.js","assets/RasterVFDisplayObject-f41c3988.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-547ded43.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/rasterUtils-e68f7896.js","assets/TiledDisplayObject-d74621e4.js","assets/TileContainer-d3fa1aca.js","assets/RawBlockCache-c8aa1ff3.js","assets/rasterProjectionHelper-9f8ef9b3.js","assets/util-a284bd77.js","assets/commonProperties-43b199c9.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),kml:()=>rt().then(()=>H(()=>import("./KMLLayerView2D-b842ebcc.js"),["assets/KMLLayerView2D-b842ebcc.js","assets/kmlUtils-ef3eaab5.js","assets/jsonUtils-f9aedde2.js","assets/UniqueValueRenderer-36595a45.js","assets/LegendOptions-48c2523d.js","assets/diffUtils-9dbdd340.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/ColorStop-7842c5e0.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js","assets/DictionaryLoader-7ed264e8.js","assets/LRUCache-c7a923e7.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/FeatureSet-4ba9f962.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/Bitmap-a468b1d0.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/BitmapContainer-4eb08411.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/GraphicContainer-ed4da031.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/TimeOnly-f35243a6.js","assets/rasterProjectionHelper-9f8ef9b3.js","assets/RenderingContext-8c05ccc2.js","assets/programUtils-9399f41b.js","assets/NestedMap-1b5db22e.js","assets/OrderIndependentTransparency-6ae10952.js","assets/basicInterfaces-11f56cb3.js","assets/testSVGPremultipliedAlpha-9055109d.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/rasterUtils-e68f7896.js"])),"knowledge-graph":()=>rt().then(()=>H(()=>import("./KnowledgeGraphLayerView2D-21005289.js"),["assets/KnowledgeGraphLayerView2D-21005289.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js"])),"link-chart":()=>rt().then(()=>H(()=>import("./KnowledgeGraphLayerView2D-21005289.js"),["assets/KnowledgeGraphLayerView2D-21005289.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js"])),"knowledge-graph-sublayer":du,"map-image":()=>rt().then(()=>H(()=>import("./MapImageLayerView2D-bcc7641e.js"),["assets/MapImageLayerView2D-bcc7641e.js","assets/BitmapContainer-4eb08411.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/GraphicsView2D-9be86d91.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/visualVariablesUtils-73d1d4d8.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js","assets/HighlightGraphicContainer-f1965438.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/ExportStrategy-5d3a03bf.js","assets/Bitmap-a468b1d0.js","assets/commonProperties-43b199c9.js","assets/ExportImageParameters-229f0d8c.js","assets/floorFilterUtils-080a7cd2.js","assets/sublayerUtils-44a79dda.js","assets/RefreshableLayerView-e734be59.js","assets/drapedUtils-4efd95b2.js","assets/popupUtils-158a08e7.js"])),"map-notes":()=>rt().then(()=>H(()=>import("./MapNotesLayerView2D-dbc6d9a8.js"),["assets/MapNotesLayerView2D-dbc6d9a8.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/GraphicContainer-ed4da031.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js"])),media:()=>rt().then(()=>H(()=>import("./MediaLayerView2D-c0844002.js"),["assets/MediaLayerView2D-c0844002.js","assets/UniqueValueRenderer-36595a45.js","assets/LegendOptions-48c2523d.js","assets/diffUtils-9dbdd340.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/ColorStop-7842c5e0.js","assets/jsonUtils-805d1979.js","assets/styleUtils-e8aad1b5.js","assets/jsonUtils-f9aedde2.js","assets/DictionaryLoader-7ed264e8.js","assets/LRUCache-c7a923e7.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/perspectiveUtils-1b6be1a2.js","assets/normalizeUtilsSync-62ac54ad.js","assets/mat3f64-221ce671.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/BufferPool-befa182b.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/util-a284bd77.js","assets/enums-fb086c25.js","assets/MagnifierPrograms-2c5185f8.js","assets/rasterizingUtils-f8b3e6ff.js","assets/pbf-08dd563b.js","assets/imageutils-e6922af3.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/CircularArray-ef508845.js","assets/testSVGPremultipliedAlpha-9055109d.js","assets/throttle-7bf02de9.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/TimeOnly-f35243a6.js","assets/OrderIndependentTransparency-6ae10952.js","assets/basicInterfaces-11f56cb3.js","assets/GraphicsView2D-9be86d91.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/vec3f32-2da9db36.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js"])),"ogc-feature":()=>rt().then(()=>H(()=>import("./OGCFeatureLayerView2D-1ac89e93.js"),["assets/OGCFeatureLayerView2D-1ac89e93.js","assets/FeatureLayerView2D-9fa32786.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/FeatureEffect-8a44b622.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/FeatureSet-4ba9f962.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/TileContainer-d3fa1aca.js","assets/CircularArray-ef508845.js","assets/BufferPool-befa182b.js","assets/FeatureContainer-ac3e4d66.js","assets/commonProperties-43b199c9.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),"open-street-map":Ch,"oriented-imagery":du,route:()=>rt().then(()=>H(()=>import("./RouteLayerView2D-6bd11fcf.js"),["assets/RouteLayerView2D-6bd11fcf.js","assets/Stop-343d21cb.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/GraphicContainer-ed4da031.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js"])),stream:()=>rt().then(()=>H(()=>import("./StreamLayerView2D-afee9d06.js"),["assets/StreamLayerView2D-afee9d06.js","assets/FeatureSet-4ba9f962.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/FeatureLayerView2D-9fa32786.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/FeatureEffect-8a44b622.js","assets/Query-474f3baf.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/TileContainer-d3fa1aca.js","assets/CircularArray-ef508845.js","assets/BufferPool-befa182b.js","assets/FeatureContainer-ac3e4d66.js","assets/commonProperties-43b199c9.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),"subtype-group":()=>rt().then(()=>H(()=>import("./SubtypeGroupLayerView2D-1092afb7.js"),["assets/SubtypeGroupLayerView2D-1092afb7.js","assets/FeatureEffect-8a44b622.js","assets/Query-474f3baf.js","assets/Field-ebbe1dfc.js","assets/fieldType-088ee331.js","assets/FeatureLayerView2D-9fa32786.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/FeatureSet-4ba9f962.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/TileContainer-d3fa1aca.js","assets/CircularArray-ef508845.js","assets/BufferPool-befa182b.js","assets/FeatureContainer-ac3e4d66.js","assets/commonProperties-43b199c9.js","assets/floorFilterUtils-080a7cd2.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),tile:Ch,"vector-tile":()=>rt().then(()=>H(()=>import("./VectorTileLayerView2D-48973b80.js"),["assets/VectorTileLayerView2D-48973b80.js","assets/diffUtils-9dbdd340.js","assets/enums-fb086c25.js","assets/Rect-ea14f53a.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/pbf-08dd563b.js","assets/rasterizingUtils-f8b3e6ff.js","assets/floatRGBA-adf8f6af.js","assets/LRUCache-c7a923e7.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/config-1337d16e.js","assets/TiledDisplayObject-d74621e4.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/StyleDefinition-29c49b98.js","assets/enums-f1a6a48a.js","assets/color-430dd9e0.js","assets/VertexElementDescriptor-2925c6af.js","assets/TileContainer-d3fa1aca.js","assets/WGLContainer-35b97840.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/StyleRepository-c9f175a9.js","assets/colorUtils-f8c9929c.js","assets/GeometryUtils-984e8446.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js"])),video:()=>rt().then(()=>H(()=>import("./VideoLayerView2D-38dbae72.js"),["assets/VideoLayerView2D-38dbae72.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/GraphicContainer-ed4da031.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/VertexElementDescriptor-2925c6af.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/visualVariablesUtils-73d1d4d8.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js"])),wcs:()=>rt().then(()=>H(()=>import("./ImageryTileLayerView2D-27d97815.js"),["assets/ImageryTileLayerView2D-27d97815.js","assets/multidimensionalUtils-c70ba9c6.js","assets/RasterVFDisplayObject-f41c3988.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/dataUtils-547ded43.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/rasterUtils-e68f7896.js","assets/TiledDisplayObject-d74621e4.js","assets/TileContainer-d3fa1aca.js","assets/RawBlockCache-c8aa1ff3.js","assets/rasterProjectionHelper-9f8ef9b3.js","assets/util-a284bd77.js","assets/commonProperties-43b199c9.js","assets/popupUtils-158a08e7.js","assets/RefreshableLayerView-e734be59.js"])),"web-tile":Ch,wfs:du,wms:()=>rt().then(()=>H(()=>import("./WMSLayerView2D-9b266f48.js"),["assets/WMSLayerView2D-9b266f48.js","assets/BitmapContainer-4eb08411.js","assets/WGLContainer-35b97840.js","assets/definitions-d28bab5c.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/Container-f2d36f2f.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/ExportStrategy-5d3a03bf.js","assets/Bitmap-a468b1d0.js","assets/RefreshableLayerView-e734be59.js","assets/commonProperties-43b199c9.js","assets/ExportWMSImageParameters-f301b51f.js"])),wmts:()=>rt().then(()=>H(()=>import("./WMTSLayerView2D-3bb0fd2e.js"),["assets/WMTSLayerView2D-3bb0fd2e.js","assets/imageUtils-fc786669.js","assets/BitmapTileContainer-ec88b95a.js","assets/Bitmap-a468b1d0.js","assets/Container-f2d36f2f.js","assets/definitions-d28bab5c.js","assets/enums-bdecffa2.js","assets/Texture-f675116c.js","assets/TiledDisplayObject-d74621e4.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/VertexElementDescriptor-2925c6af.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/GeometryUtils-f6e6151e.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedGeometry-d94e541f.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/TileContainer-d3fa1aca.js","assets/LayerView-afeaadc7.js","assets/scaleUtils-9954959a.js","assets/RefreshableLayerView-e734be59.js"])),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function dne(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new G(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const jE={hasLayerViewModule:e=>FE[e.type]!=null,importLayerView:e=>{const t=FE[e.type];if(t==null)throw dne(e);return t(e)}};function pne(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of l)for(let d=0;d<c.length-1;d++){pB(a,n,c,d);const f=M1(n,a);f<i&&(i=f,s=a[0],o=a[1])}return{coordinate:new ue({x:s,y:o,spatialReference:r}),distance:i}}var Vb;let il=Vb=class extends P3(te){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return iu(this.geometry,this.spatialReference)}catch(e){return W.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?Qg(this.normalizedGeometry,r):O4(this.normalizedGeometry,r))return e;const{coordinate:n}=pne(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new Vb({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};h([p({constructOnly:!0})],il.prototype,"geometry",void 0),h([p({readOnly:!0})],il.prototype,"normalizedGeometry",null),h([p({constructOnly:!0})],il.prototype,"spatialReference",void 0),il=Vb=h([P("esri.views.2d.constraints.GeometryConstraint")],il);var Gb;let fd=Gb=class extends P3(te){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new Gb({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};h([p()],fd.prototype,"enabled",void 0),h([p()],fd.prototype,"rotationEnabled",void 0),fd=Gb=h([P("esri.views.2d.constraints.RotationConstraint")],fd);const k6=fd;var Wb;let Er=Wb=class extends P3(te){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:s}=this,o=-1,a=-1,l=!1,c=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!(t!=null&&t.length))return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(d=>d.clone()),t.sort((d,f)=>f.scale-d.scale),t.forEach((d,f)=>d.level=f);for(const d of t)!l&&r>0&&r>=d.scale&&(o=d.level,l=!0),!c&&n>0&&n>=d.scale&&(a=e?e.level:-1,c=!0),e=d;i===-1&&(i=r===0?0:o),s===-1&&(s=n===0?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),r=t[i].scale,n=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((d,f)=>{this._lodByScale[d.scale]=d,this._scales[f]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,o=n!==0&&e.scale<n,a=r!==0&&e.scale>r;if(o||a){const l=a?r:n;if(t&&s){const c=(l-t.scale)/(e.scale-t.scale);i.x=s.x+(i.x-s.x)*c,i.y=s.y+(i.y-s.y)*c}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new Wb({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};h([p({readOnly:!0})],Er.prototype,"effectiveLODs",void 0),h([p({readOnly:!0})],Er.prototype,"effectiveMinZoom",void 0),h([p({readOnly:!0})],Er.prototype,"effectiveMaxZoom",void 0),h([p({readOnly:!0})],Er.prototype,"effectiveMinScale",void 0),h([p({readOnly:!0})],Er.prototype,"effectiveMaxScale",void 0),h([p()],Er.prototype,"lods",void 0),h([p()],Er.prototype,"minZoom",void 0),h([p()],Er.prototype,"maxZoom",void 0),h([p()],Er.prototype,"minScale",void 0),h([p()],Er.prototype,"maxScale",void 0),h([p()],Er.prototype,"snapToZoom",void 0),Er=Wb=h([P("esri.views.2d.constraints.ZoomConstraint")],Er);const E6=Er,fne={base:null,key:"type",typeMap:{extent:et,polygon:ta}};let at=class extends te{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new re}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,n;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _geometry(){var r,n;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((r=this.view)==null?void 0:r.constraintsInfo.spatialReference)===t.spatialReference?t:new il({geometry:this.geometry,spatialReference:(n=this.view)==null?void 0:n.constraintsInfo.spatialReference})}get _rotation(){return new k6({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const t=this._get("_zoom"),r=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),n=this.minZoom,i=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return t&&t.lods===r&&t.minZoom===n&&t.maxZoom===i&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===a?t:new E6({lods:r,minZoom:n,maxZoom:i,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(n=>n.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>{var n;return(n=r.applyPanConstraint)==null?void 0:n.call(r,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};h([p({readOnly:!0})],at.prototype,"effectiveLODs",null),h([p({readOnly:!0})],at.prototype,"effectiveMinScale",null),h([p({readOnly:!0})],at.prototype,"effectiveMaxScale",null),h([p({readOnly:!0})],at.prototype,"effectiveMinZoom",null),h([p({readOnly:!0})],at.prototype,"effectiveMaxZoom",null),h([p({types:fne,value:null})],at.prototype,"geometry",null),h([p({type:[To]})],at.prototype,"lods",void 0),h([p()],at.prototype,"minScale",void 0),h([p()],at.prototype,"maxScale",void 0),h([p()],at.prototype,"minZoom",void 0),h([p()],at.prototype,"maxZoom",void 0),h([p()],at.prototype,"rotationEnabled",void 0),h([p()],at.prototype,"snapToZoom",void 0),h([p({type:re})],at.prototype,"customConstraints",void 0),h([p()],at.prototype,"view",void 0),h([p({readOnly:!0})],at.prototype,"version",null),h([p({type:il,readOnly:!0})],at.prototype,"_geometry",null),h([p({type:k6})],at.prototype,"_rotation",null),h([p({readOnly:!0,type:E6})],at.prototype,"_zoom",null),at=h([P("esri.views.2d.MapViewConstraints")],at);const P6=at;let Hl=class Ha{static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}constructor(t,r,n,i){this.set(t,r,n,i)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Ha(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,a,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Ha(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new Ha(t,r,n,i),new Ha(t,r,n+1,i),new Ha(t,r+1,n,i),new Ha(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Hl.pool=new Xl(Hl,null,null,25,50);function Ks(e,t){return[e,t]}function ba(e,t,r){return e[0]=t,e[1]=r,e}function mne(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const Nn=new Hl("0/0/0/0");let yne=class C6{static create(t,r,n=null){const i=Yr(t.spatialReference),s=r.origin||Ks(t.origin.x,t.origin.y),o=Ks(t.size[0]*r.resolution,t.size[1]*r.resolution),a=Ks(-1/0,-1/0),l=Ks(1/0,1/0),c=Ks(1/0,1/0);n!=null&&(ba(a,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),ba(l,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),ba(c,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:d,rows:f}=r;let m,y,g,v;return!n&&d&&f&&(ba(a,d[0],f[0]),ba(l,d[1],f[1]),ba(c,d[1]-d[0]+1,f[1]-f[0]+1)),t.isWrappable?(m=Ks(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),c[1]),y=Ks(Math.floor((i.origin[0]-s[0])/o[0]),a[1]),g=Ks(m[0]+y[0]-1,l[1]),v=!0):(y=a,g=l,m=c,v=!1),new C6(r.level,r.resolution,r.scale,s,a,l,c,o,y,g,m,v)}constructor(t,r,n,i,s,o,a,l,c,d,f,m){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldStart=c,this.worldEnd=d,this.worldSize=f,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){Nn.set(r);const i=n?Nn.col:this.denormalizeCol(Nn.col,Nn.world),s=Nn.row;return mne(t,this.getXForColumn(i),this.getYForRow(s+1),this.getXForColumn(i+1),this.getYForRow(s)),t}getTileCoords(t,r,n=!1){Nn.set(r);const i=n?Nn.col:this.denormalizeCol(Nn.col,Nn.world);return Array.isArray(t)?ba(t,this.getXForColumn(i),this.getYForRow(Nn.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(Nn.row)),t}},Rp=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:s}=i;if(n.length!==0)for(const{row:o,colFrom:a,colTo:l}of n)for(let c=a;c<=l;c++)t.call(r,s,o,i.normalizeCol(c),i.getWorldForColumn(c))}};Rp.pool=new Xl(Rp);let ew=class{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}};const Ge=new Hl("0/0/0/0");let gne=class O6{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[s,o]=r,a=s-n,l=o-i,c=l!==0?a/l:0,d=(Math.ceil(i)-i)*c,f=(Math.floor(i)-i)*c;return new O6(n,Math.floor(i),Math.ceil(o),c,a<0?d:f,a<0?f:d,a<0?s:n,a<0?n:s)}constructor(t,r,n,i,s,o,a,l){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const zr=[[0,0],[0,0],[0,0],[0,0]],vne=1e-6;let wne=class{constructor(t,r=null,n=t.lods[0].level,i=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(a=>a.level>=n&&a.level<=i);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>yne.create(t,a,r));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){Ge.set(r);const i=this._infoByLevel[Ge.level];return i?i.getTileBounds(t,Ge,n):t}getTileCoords(t,r,n=!1){Ge.set(r);const i=this._infoByLevel[Ge.level];return i?i.getTileCoords(t,Ge,n):t}getTileCoverage(t,r=192,n=!0,i="closest"){if(!n&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=Rp.pool.acquire(s),a=this._wrap;let l,c,d,f=1/0,m=-1/0;const y=o.spans;zr[0][0]=zr[0][1]=zr[1][1]=zr[3][0]=-r,zr[1][0]=zr[2][0]=t.size[0]+r,zr[2][1]=zr[3][1]=t.size[1]+r;for(const _ of zr)t.toMap(_,_),_[0]=s.getColumnForX(_[0]),_[1]=s.getRowForY(_[1]);const g=[];let v=3;for(let _=0;_<4;_++){if(zr[_][1]===zr[v][1]){v=_;continue}const b=gne.create(zr[_],zr[v]);f=Math.min(b.ymin,f),m=Math.max(b.ymax,m),g[b.ymin]===void 0&&(g[b.ymin]=[]),g[b.ymin].push(b),v=_}if(f==null||m==null||m-f>100)return null;let $=[];for(l=f;l<m;){g[l]!=null&&($=$.concat(g[l])),c=1/0,d=-1/0;for(let _=$.length-1;_>=0;_--){const b=$[_];c=Math.min(c,b.getLeftCol()),d=Math.max(d,b.getRightCol())}if(c=Math.floor(c),d=Math.floor(d),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const _=Math.floor(d/s.worldSize[0]);for(let b=Math.floor(c/s.worldSize[0]);b<=_;b++)y.push(new ew(l,Math.max(s.getFirstColumnForWorld(b),c),Math.min(s.getLastColumnForWorld(b),d)))}else y.push(new ew(l,c,d));else c>s.last[0]||d<s.first[0]||(c=Math.max(c,s.first[0]),d=Math.min(d,s.last[0]),y.push(new ew(l,c,d)));l+=1;for(let _=$.length-1;_>=0;_--){const b=$[_];b.ymax>=l?b.incrRow():$.splice(_,1)}}return o}getTileParentId(t){Ge.set(t);const r=this._infoByLevel[Ge.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(Ge,this._lodInfos[n],Ge),Ge.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){Ge.set(r);const n=this._infoByLevel[Ge.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(Ge,i,Ge);const o=i.denormalizeCol(Ge.col,Ge.world);for(const a of t.spans)if(a.row===Ge.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(i.resolution<n.resolution){const[o,a,l,c]=t.spans.reduce((v,$)=>(v[0]=Math.min(v[0],$.row),v[1]=Math.max(v[1],$.row),v[2]=Math.min(v[2],$.colFrom),v[3]=Math.max(v[3],$.colTo),v),[1/0,-1/0,1/0,-1/0]),d=n.denormalizeCol(Ge.col,Ge.world),f=i.getColumnForX(n.getXForColumn(d)),m=i.getRowForY(n.getYForRow(Ge.row)),y=i.getColumnForX(n.getXForColumn(d+1))-1,g=i.getRowForY(n.getYForRow(Ge.row+1))-1;return!(f>c||y<l||m>a||g<o)}const s=i.denormalizeCol(Ge.col,Ge.world);return t.spans.some(o=>o.row===Ge.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=Yr(this.tileInfo.spatialReference),s=-n*(i.valid[1]-i.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+vne)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}},tw=class{constructor(){this._map=new Map,this._observable=new Qp}get size(){return ee(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return ee(this._observable),this._map.entries()}forEach(t,r){ee(this._observable),this._map.forEach((n,i)=>t.call(r,n,i,this),r)}get(t){return ee(this._observable),this._map.get(t)}has(t){return ee(this._observable),this._map.has(t)}keys(){return ee(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return ee(this._observable),this._map.values()}[Symbol.iterator](){return ee(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}},_ne=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},bne=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new tw,this._controllers=new tw,this._processingItems=new tw,this._pausedSignal=nR(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new R0(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=ct(this._schedule),this._task=ct(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let s=null;r&&(s=si(r,()=>i.abort()));const o=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),a(),c.reject(Tt())},a=()=>{l.remove(),s!=null&&s.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=f$(i.signal,o),c=ci();return this._deferreds.set(t,c),this._controllers.set(t,i),c.promise.then(a,a),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Yp(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const n=new AbortController,i=new _ne(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(s){this._processError(i,s)}da(r)?(i.promise=r,r.then(s=>this._processResult(i,s),s=>this._processError(i,s))):this._processResult(i,r)}get test(){return{update:t=>this.runTask(t)}}};function Sne(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const rw=new Set,gm=[],pu=new Map,zE=[0,0];let vo=class extends te{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r,strategy:n}=this;this._queue=new bne({concurrency:t,process:(i,s)=>{const o=this._keyToItem.get(i);return r(o,{signal:s})},peeker:n==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue=Ze(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const n=this._queue.push(r),i=()=>{this._keyToItem.delete(r)};return this._keyToItem.set(r,t),n.then(i,i),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;t.forEach(d=>{const f=this._keyToItem.get(d),m=this.tileInfoView.getTileScale(f.key);pu.has(m)||(pu.set(m,[]),n=Math.max(m,n),i=Math.min(m,i)),pu.get(m).push(f.key),rw.add(m)});let s=this.state.scale;pu.has(s)||(Sne(gm,rw),gm.sort((d,f)=>d-f),s=gm.reduce((d,f)=>Math.abs(f-s)<Math.abs(d-s)?f:d,gm[0])),s=Math.min(s,n),s=Math.max(s,i);const o=pu.get(s),a=r.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),c=a.getRowForY(this.state.center[1]);return o.sort((d,f)=>{const m=a.denormalizeCol(d.col,d.world),y=a.denormalizeCol(f.col,f.world);return Math.sqrt((l-m)*(l-m)+(c-d.row)*(c-d.row))-Math.sqrt((l-y)*(l-y)+(c-f.row)*(c-f.row))}),rw.clear(),pu.clear(),o[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,n=this.state.center;let i,s=Number.POSITIVE_INFINITY;return t.forEach(o=>{const a=this._keyToItem.get(o);r.getTileCoords(zE,a.key);const l=M1(zE,n);l<s&&(s=l,i=a.key)}),i.id}};h([p({constructOnly:!0})],vo.prototype,"concurrency",void 0),h([p({constructOnly:!0})],vo.prototype,"process",void 0),h([p()],vo.prototype,"state",void 0),h([p({constructOnly:!0})],vo.prototype,"strategy",void 0),h([p({constructOnly:!0})],vo.prototype,"tileInfoView",void 0),vo=h([P("esri.views.2d.tiling.TileQueue")],vo);const Ype=vo;let $ne=class{constructor(t,r,n){this.maxSize=t,this._tileInfoView=r,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const n=r.key.level,i=this._tileKeysPerLevel[n];UE(this._tilePerId,t);for(let s=0;s<i.length;s++)if(i[s].id===t){i.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&s>=0;)s!==t&&(i=this._pruneAroundCenterTile(i,r,n,s)),s--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const s=this._tileKeysPerLevel[i];if(!s||s.length===0)return t;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=n*o[0],c=n*o[1],d=[0,0],f=[0,0];for(s.sort((m,y)=>(d[0]=a.x+l*(m.col+.5),d[1]=a.y-c*(m.row+.5),f[0]=a.x+l*(y.col+.5),f[1]=a.y-c*(y.row+.5),ig(d,r)-ig(f,r)));s.length>0;){const m=s.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),UE(this._tilePerId,t)}};function UE(e,t){e.delete(t)}const Sa=new Hl(0,0,0,0),ts=new Map,$a=[],nw=[];let Xpe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new $ne(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){var _,b;const{resampling:r,tileIndex:n}=this,{scale:i,center:s,resolution:o}=t.state,{minScale:a,maxScale:l}=this.tileInfoView,c=!t.stationary&&i>this._previousScale;if(this._previousScale=i,!r&&(i>a||i<l))return this.tiles.length=0,void this.clear();const d=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!d)return this.tiles.length=0,void this.clear();const{spans:f,lodInfo:m}=d,{level:y}=m;this.tiles.length=0,n.forEach(S=>S.visible=!0);let g=0,v=0;if(f.length>0)for(const{row:S,colFrom:x,colTo:M}of f)for(let k=x;k<=M;k++){g++;const O=Sa.set(y,S,m.normalizeCol(k),m.getWorldForColumn(k)).id;let A=n.get(O);if(A)A.isReady?(ts.set(O,A),v++):c||this._addParentTile(O,ts);else{if((_=this._tileCache)!=null&&_.has(O)){if(A=this._tileCache.pop(O),this.tileIndex.set(O,A),A.isReady){ts.set(O,A),v++;continue}}else A=this.acquireTile(Sa),this.tileIndex.set(O,A);c||this._addParentTile(O,ts)}}const $=v===g;for(const[S,x]of n){if(ts.has(S))continue;Sa.set(S);const M=this.tileInfoView.intersects(d,Sa),k=this.cachePolicy==="purge"?Sa.level!==y:Sa.level>y;!M||!c&&$?!k&&M||$a.push(x):x.isReady?k&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Sa,y)?$a.push(x):nw.push(x):k&&$a.push(x)}for(const S of nw)S.isReady&&ts.set(S.key.id,S);for(const S of $a)this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(S.key.id);for(const S of ts.values())this.tiles.push(S);for(const S of n.values())ts.has(S.key.id)||(S.visible=!1);(b=this._tileCache)==null||b.prune(y,s,o),Rp.pool.release(d),nw.length=0,$a.length=0,ts.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){var r;for(const n of this.tileIndex.values())this.tiles.includes(n)?t(n):$a.push(n);for(const n of $a)this.releaseTile(n),this.tileIndex.delete(n.key.id);(r=this._tileCache)==null||r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){var s;let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i==null?void 0:i.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if((s=this._tileCache)!=null&&s.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i==null?void 0:i.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=qi();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const s=qi();if(this.tileInfoView.getTileBounds(s,i.key,!0),kB(s,n))return!0}return!1}};function I6(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function xne(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Tne(e,t,r,n,i,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Mne(e,t){return new Float32Array(e,t,6)}function A6(e,t,r,n){const i=t[n],s=t[n+1];e[n]=r[0]*i+r[2]*s+r[4],e[n+1]=r[1]*i+r[3]*s+r[5]}function kne(e,t,r,n=0,i=0,s=2){const o=i||t.length/s;for(let a=n;a<o;a++)A6(e,t,r,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:xne,create:I6,createView:Mne,fromValues:Tne,transform:A6,transformMany:kne},Symbol.toStringTag,{value:"Module"}));function Ene(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Pne(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function L6(e,t,r,n,i,s,o,a,l,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e}function R6(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Cne(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function One(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],f=d*o-a*c,m=-d*s+a*l,y=c*s-o*l;let g=r*f+n*m+i*y;return g?(g=1/g,e[0]=f*g,e[1]=(-d*n+i*c)*g,e[2]=(a*n-i*o)*g,e[3]=m*g,e[4]=(d*r-i*l)*g,e[5]=(-a*r+i*s)*g,e[6]=y*g,e[7]=(-c*r+n*l)*g,e[8]=(o*r-n*s)*g,e):null}function Ine(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8];return e[0]=o*d-a*c,e[1]=i*c-n*d,e[2]=n*a-i*o,e[3]=a*l-s*d,e[4]=r*d-i*l,e[5]=i*s-r*a,e[6]=s*c-o*l,e[7]=n*l-r*c,e[8]=r*o-n*s,e}function Ane(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*(c*s-o*l)+r*(-c*i+o*a)+n*(l*i-s*a)}function lx(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],m=r[0],y=r[1],g=r[2],v=r[3],$=r[4],_=r[5],b=r[6],S=r[7],x=r[8];return e[0]=m*n+y*o+g*c,e[1]=m*i+y*a+g*d,e[2]=m*s+y*l+g*f,e[3]=v*n+$*o+_*c,e[4]=v*i+$*a+_*d,e[5]=v*s+$*l+_*f,e[6]=b*n+S*o+x*c,e[7]=b*i+S*a+x*d,e[8]=b*s+S*l+x*f,e}function Bb(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],m=r[0],y=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=m*n+y*o+c,e[7]=m*i+y*a+d,e[8]=m*s+y*l+f,e}function N6(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],m=Math.sin(r),y=Math.cos(r);return e[0]=y*n+m*o,e[1]=y*i+m*a,e[2]=y*s+m*l,e[3]=y*o-m*n,e[4]=y*a-m*i,e[5]=y*l-m*s,e[6]=c,e[7]=d,e[8]=f,e}function Lne(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function Rne(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function Nne(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Dne(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Fne(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function jne(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function zne(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,c=r*o,d=n*o,f=n*a,m=i*o,y=i*a,g=i*l,v=s*o,$=s*a,_=s*l;return e[0]=1-f-g,e[3]=d-_,e[6]=m+$,e[1]=d+_,e[4]=1-c-g,e[7]=y-v,e[2]=m-$,e[5]=y+v,e[8]=1-c-f,e}function Une(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],d=t[10],f=d*o-a*c,m=-d*s+a*l,y=c*s-o*l,g=r*f+n*m+i*y;if(!g)return null;const v=1/g;return e[0]=f*v,e[1]=(-d*n+i*c)*v,e[2]=(a*n-i*o)*v,e[3]=m*v,e[4]=(d*r-i*l)*v,e[5]=(-a*r+i*s)*v,e[6]=y*v,e[7]=(-c*r+n*l)*v,e[8]=(o*r-n*s)*v,e}function Vne(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],$=t[14],_=t[15],b=r*a-n*o,S=r*l-i*o,x=r*c-s*o,M=n*l-i*a,k=n*c-s*a,O=i*c-s*l,A=d*v-f*g,V=d*$-m*g,F=d*_-y*g,q=f*$-m*v,X=f*_-y*v,de=m*_-y*$;let Y=b*de-S*X+x*q+M*F-k*V+O*A;return Y?(Y=1/Y,e[0]=(a*de-l*X+c*q)*Y,e[1]=(l*F-o*de-c*V)*Y,e[2]=(o*X-a*F+c*A)*Y,e[3]=(i*X-n*de-s*q)*Y,e[4]=(r*de-i*F+s*V)*Y,e[5]=(n*F-r*X-s*A)*Y,e[6]=(v*O-$*k+_*M)*Y,e[7]=($*x-g*O-_*S)*Y,e[8]=(g*k-v*x+_*b)*Y,e):null}function Gne(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Wne(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Bne(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Hne(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function D6(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function qne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Zne(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function Jne(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Yne(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=t[0],m=t[1],y=t[2],g=t[3],v=t[4],$=t[5],_=t[6],b=t[7],S=t[8],x=En();return Math.abs(r-f)<=x*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-m)<=x*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(i-y)<=x*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(s-g)<=x*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-v)<=x*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-$)<=x*Math.max(1,Math.abs(a),Math.abs($))&&Math.abs(l-_)<=x*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-b)<=x*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(d-S)<=x*Math.max(1,Math.abs(d),Math.abs(S))}function Kne(e){const t=En(),r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+c*c))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}const Xne=lx,Qne=D6;Object.freeze(Object.defineProperty({__proto__:null,add:Hne,adjoint:Ine,copy:Pne,determinant:Ane,equals:Yne,exactEquals:Jne,frob:Bne,fromMat2d:jne,fromMat4:Ene,fromQuat:zne,fromRotation:Dne,fromScaling:Fne,fromTranslation:Nne,identity:R6,invert:One,isOrthoNormal:Kne,mul:Xne,multiply:lx,multiplyScalar:qne,multiplyScalarAndAdd:Zne,normalFromMat4:Vne,normalFromMat4Legacy:Une,projection:Gne,rotate:N6,scale:Lne,scaleByVec2:Rne,set:L6,str:Wne,sub:Qne,subtract:D6,translate:Bb,transpose:Cne},Symbol.toStringTag,{value:"Module"}));function Ey(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function eie(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function tie(e,t,r,n,i,s,o,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=i,c[5]=s,c[6]=o,c[7]=a,c[8]=l,c}function rie(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:eie,create:Ey,createView:rie,fromValues:tie},Symbol.toStringTag,{value:"Module"}));function F6(){return new Float32Array(2)}function nie(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Vc(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function iie(e,t){return new Float32Array(e,t,2)}function j6(){return F6()}function z6(){return Vc(1,1)}function U6(){return Vc(1,0)}function V6(){return Vc(0,1)}const sie=j6(),oie=z6(),aie=U6(),lie=V6();Object.freeze(Object.defineProperty({__proto__:null,ONES:oie,UNIT_X:aie,UNIT_Y:lie,ZEROS:sie,clone:nie,create:F6,createView:iie,fromValues:Vc,ones:z6,unitX:U6,unitY:V6,zeros:j6},Symbol.toStringTag,{value:"Module"}));function uie(e){return e instanceof Float32Array&&e.length>=2}function cie(e){return Array.isArray(e)&&e.length>=2}function vm(e){return uie(e)||cie(e)}var Hb;const Qt=[0,0];let wo=Hb=class extends ne{constructor(e){super(e),this._viewpoint2D={center:ht(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new et,this.id=0,this.inverseTransform=Jo(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Jo(),this.transformNoRotation=Jo(),this.displayMat3=Ey(),this.displayViewMat3=Ey(),this.viewMat3=Ey(),this.viewMat2d=I6(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=fi(r,e.viewpoint),this._set("size",Ap(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new Hb({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return vm(t)?Jn(e,t,this.inverseTransform):(Qt[0]=t,Qt[1]=r,Jn(e,Qt,this.inverseTransform))}toScreen(e,t,r){return vm(t)?Jn(e,t,this.transform):(Qt[0]=t,Qt[1]=r,Jn(e,Qt,this.transform))}toScreenNoRotation(e,t,r){return vm(t)?Jn(e,t,this.transformNoRotation):(Qt[0]=t,Qt[1]=r,Jn(e,Qt,this.transformNoRotation))}toScreenClosest(e,t,r){vm(t)?(Qt[0]=t[0],Qt[1]=t[1]):(Qt[0]=t,Qt[1]=r);const[n]=Qt,{center:i,extent:s,spatialReference:o,transform:a}=this;return(n<s.xmin||n>s.xmax)&&(Qt[0]=v6(n,i[0],o)),Jn(e,Qt,a)}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return ox(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size"),o=new Wi({targetGeometry:new ue(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",o),!s||!t||!r)return;this.resolution=rh(o),this.rotation=n,this.scale=r,this.spatialReference=t,Ap(this.center,e);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;L6(this.displayMat3,a,0,0,0,l,0,-1,1,1);const c=R6(this.viewMat3),d=Vc(s[0]/2,s[1]/2),f=Vc(-s[0]/2,-s[1]/2),m=b$(n);Bb(c,c,d),N6(c,c,m),Bb(c,c,f),lx(this.displayViewMat3,this.displayMat3,c);const y=rx(this.viewMat2d,d);return T1(y,y,m),Ip(y,y,f),Zre(this.extent,o,s),ax(this.transform,o,s,i),ex(this.inverseTransform,this.transform),tne(this.transformNoRotation,o,s,i),this.worldScreenWidth=nne(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};h([p({readOnly:!0})],wo.prototype,"id",void 0),h([p({value:1,json:{write:!0}})],wo.prototype,"pixelRatio",null),h([p({json:{write:!0}})],wo.prototype,"size",null),h([p()],wo.prototype,"spatialReference",void 0),h([p({type:Wi,json:{write:!0}})],wo.prototype,"viewpoint",null),wo=Hb=h([P("esri.views.2d.ViewState")],wo);const VE=wo;var qb,Zb;let $s=qb=class extends te{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new qb({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};h([p()],$s.prototype,"left",void 0),h([p()],$s.prototype,"top",void 0),h([p()],$s.prototype,"right",void 0),h([p()],$s.prototype,"bottom",void 0),$s=qb=h([P("esri.views.2d.PaddedViewState.Padding")],$s);let Cu=Zb=class extends VE{constructor(...e){super(...e),this.paddedViewState=new VE,this._updateContent=(()=>{const t=ht();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;Nt(t,n.left+n.right,n.top+n.bottom),Lp(t,r,t),Ap(i.size,t);const s=i.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(ce(()=>[this.size,this.padding],()=>this._updateContent(),Jc)),this.padding=new $s,this.size=[0,0]}set padding(e){this._set("padding",e||new $s)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,sne(t,e,this._get("size"),this._get("padding"));const r=this._viewpoint2D,n=t.targetGeometry;r.center[0]=n.x,r.center[1]=n.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=n.spatialReference,this._update()}}clone(){return new Zb({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};h([p()],Cu.prototype,"paddedViewState",void 0),h([p({type:$s})],Cu.prototype,"padding",null),h([p()],Cu.prototype,"viewpoint",null),Cu=Zb=h([P("esri.views.2d.PaddedViewState")],Cu);const hie=Cu;let pr=class extends te{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([ce(()=>{var r;return(r=this.constraints)==null?void 0:r.version},r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Jc)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new ue({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void W.getLogger(this).error(new G("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:i}))}const n=this.viewpoint;Ub(n,n,r),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void W.getLogger(this).error(new G("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void W.getLogger(this).error(new G("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const n=this.viewpoint;Jre(n,n,r,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;ane(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const r=this.viewpoint;DE(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var s;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,n;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?n=new G("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(n=new G("mapview:invalid-viewpoint","geometry not defined"))}catch(o){n=new G("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(n)return void W.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const i=new Wi({targetGeometry:new ue,scale:0,rotation:0});fi(i,r),(s=this.constraints)==null||s.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this._set("viewpoint",i)}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var i,s;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const r=((i=this.constraints)==null?void 0:i.zoomToScale(t))??0;if(!r)return void this._set("zoom",-1);const n=this.viewpoint;DE(n,n,r),this.viewpoint=n,this._set("zoom",((s=this.constraints)==null?void 0:s.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:n}=this,i=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),c=this._get("zoom"),d=c!=null&&n!=null&&n.zoomToScale(c)||void 0;let f,m,y;const g=l==null?void 0:l.rotation,v=l==null?void 0:l.targetGeometry;(v==null?void 0:v.type)==="extent"?f=v:(v==null?void 0:v.type)==="point"&&(m=v,y=l==null?void 0:l.scale);const $=s??f;return{center:i??m??($==null?void 0:$.center),rotation:a??g,scale:(o??d??y??($&&yc($,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,n,i){var o;const s=t.targetGeometry;try{this._project(t,n)}catch(a){W.getLogger(this).warn(new Ds("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:n,error:a})),t.targetGeometry=i||new ue({x:0,y:0,spatialReference:n})}(o=this.constraints)==null||o.fit(t),this._set("state",new hie({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:n,rotation:i,scale:s}=this.state.paddedViewState,o=new ue({x:t,y:r,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",i),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){var l;const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const c=r.viewpoint.clone();c.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=c}const n=r.clone(),[i,s]=r.center;let o=null;try{o=this._project(new ue({x:i,y:s,spatialReference:r.spatialReference}),t)}catch(c){D$()||W.getLogger(this).warn(new Ds("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:t,error:c}))}o||(o=new ue({x:0,y:0,spatialReference:t}));const a=Ub(new Wi({targetGeometry:new ue,scale:0,rotation:0}),r.viewpoint,o);n.viewpoint=a;try{const d=[r.size[0]/2,r.size[1]/2],f=[d[0]+20,d[1]],m=r.toMap([0,0],f),{x:y,y:g}=this._project(new ue({x:m[0],y:m[1],spatialReference:r.spatialReference}),t);m[0]=y,m[1]=g,n.toScreen(m,m);const v=ine(d,m,f),$=Math.hypot(m[0]-d[0],m[1]-d[1])/20;!Number.isFinite($)||Math.abs($)>4?(a.rotation=0,a.targetGeometry=new ue({x:0,y:0,spatialReference:t})):(a.scale*=$,a.scale>L("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(v)?v:0)}catch{}(l=this._get("constraints"))==null||l.constrain(a,void 0),this._get("state").viewpoint=a}resize(t,r){var o;if(!this.ready)return;const n=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();n.size=[t,r],one(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=((o=this.constraints)==null?void 0:o.constrain(i,void 0))??i,this.state.viewpoint=i}toMap(t){if(!this.ready)return null;const r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),s=this.state.spatialReference;return new ue({x:n,y:i,spatialReference:s})}toScreen(t,r){if(!this.ready)return null;const n=this._project(t,this.state.spatialReference),i=[n.x,n.y];return(r==null?void 0:r.pickClosestTarget)===!1?this.state.toScreen(i,i):this.state.toScreenClosest(i,i),gr(i[0],i[1])}_project(t,r){var s;const n=(t==null?void 0:t.targetGeometry)||t;if(!r)return t;if(!n)return null;if(r.imageCoordinateSystem||(s=n.spatialReference)!=null&&s.imageCoordinateSystem||yt(r,n.spatialReference))return t;const i=iu(n,r);if(!i)throw new G("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:r});return die(t)?(t.targetGeometry=i,t):i}};function die(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}h([p({type:ue})],pr.prototype,"center",null),h([p()],pr.prototype,"constraints",void 0),h([p({type:et})],pr.prototype,"extent",null),h([p({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],pr.prototype,"padding",null),h([p()],pr.prototype,"ready",void 0),h([p()],pr.prototype,"resizeAlign",void 0),h([p({readOnly:!0})],pr.prototype,"resolution",null),h([p({type:Number})],pr.prototype,"rotation",null),h([p({type:Number})],pr.prototype,"scale",null),h([p({readOnly:!0})],pr.prototype,"state",void 0),h([p({type:Wi})],pr.prototype,"viewpoint",null),h([p()],pr.prototype,"zoom",null),pr=h([P("esri.views.2d.ViewStateManager")],pr);function ux(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let GE=class extends Ot{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){ux(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},pie=class extends Ot{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:s}=r,{view:o}=this,{mapViewNavigation:a}=o;switch(i){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,c=this._startScale*l,d=c/this._currentScale;a.setViewpointImmediate(d),this._currentScale=c;break}case"end":{const{constraints:l}=o,{effectiveLODs:c,snapToZoom:d}=l;if(!d||!c)return void a.end();const f=l.snapScale(this._currentScale),m=(s.y>0?Math.max(f,l.snapToPreviousScale(this._startScale)):Math.min(f,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(m);break}}}},E1=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,n;this._startEvent=t,(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},fie=class extends Ot{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new E1({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&ux(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},mie=class extends Ot{constructor(t,r,n){super(!0),this._view=t,this.pointerAction=r;const i=this._view.mapViewNavigation;this._dragEventSeparator=new E1({start:(s,o)=>{i.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{i.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{i.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&ux(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function Dn(e){let t=e*e;return e<0&&(t*=-1),t}function yie(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function gie(e,t,r){const n=r,i=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(n.translation[0]=Dn(i.axes[0]),n.translation[1]=Dn(i.axes[1]),n.translation[2]=Dn(i.buttons[7])-Dn(i.buttons[6]),n.heading=Dn(i.axes[2]),n.tilt=Dn(i.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*Dn(i.axes[0]),n.translation[1]=1.2*Dn(i.axes[1]),n.translation[2]=2*-Dn(i.axes[2]),n.heading=1.2*Dn(i.axes[5]),n.tilt=1.2*Dn(i.axes[3])),n.tilt*=o,UA(n.translation,n.translation,a),n}function vie(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let wie=class extends Ot{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new o$,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([ce(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=Oc({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},wr)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,yie(this._transformation)):(this._currentDevice=t.data.device,gie(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(vie(r))return;const n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,s=bie*i*t;k1(n,n,[r.translation[0]*s,-r.translation[1]*s]);const o=1+r.translation[2]*Sie*t,a=this._view.constraints.rotationEnabled?-r.heading*_ie*t:0,l=this._view.size,c=[l[0]/2,l[1]];x6(n,n,o,a,c,l);const d=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=d}};const _ie=.06,bie=.7,Sie=6e-4;function G6(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),{remove:()=>document.addEventListener("visibilitychange",t)}}let $ie=class extends Ot{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=i=>{const s=this._keyMap[i.data.key];if(i.modifiers.has("Meta")||i.modifiers.has("Ctrl"))return void this._stopMovement();if(s==null)return;i.stopPropagation(),i.preventDefault();const o=i.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=G6(i=>i?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},xie=class extends Ot{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=G6(i=>i?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var rc;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(rc||(rc={}));let Tie=class extends Ot{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=rc.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=rc.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(i){case rc.IN:o=s.zoomIn();break;case rc.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const Mie=.6;let kie=class extends Ot{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=t.data,o=1/Mie**(1/60*s),a=r.zoom(o,[n,i]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},Eie=class extends Ot{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new E1({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function WE(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>Oie(r,e.axisThreshold))}:{buttons:[],axes:[]}}function Pie(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function Cie(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Oie(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let Iie=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,WE(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(this._forEachGamepad(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new X3(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Oc({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;this._forEachGamepad(i=>{const s=this._inputDevices[i.index];if(!s)return;const o=this._latestUpdate[i.index],a=WE(s),l=n||Cie(a);o&&(o.timestamp===i.timestamp||!o.active&&l||Pie(o.state,a))||this._emitGamepadEvent(i,a,!l)})}_forEachGamepad(t){const r=window.navigator.getGamepads();for(let n=0;n<r.length;n++){const i=r[n];this._validate(i)&&t(i)}}_emitGamepadEvent(t,r,n){const i=this._latestUpdate[t.index],s=i&&i.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:o})}_validate(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0}};const BE=L("edge"),Aie=L("chrome"),Lie=L("ff"),Rie=L("safari"),HE="esri-view-surface",fu={touchNone:`${HE}--touch-none`,touchPan:`${HE}--touch-pan`};let W6=class B6{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Iie(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=Ze(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(iw[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&iw[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(iw[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,r){r?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?fu.touchNone:fu.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?fu.touchPan:fu.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(fu.touchNone),this._element.classList.remove(fu.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=VN(this._element,t);return B6.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const n=ZY(r);n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,r){let n=r.deltaY;switch(r.deltaMode){case 0:BE&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}BE?n*=.7:Aie||Rie?n*=.6:Lie&&(n*=1.375);const i=100,s=Math.abs(n);s>i&&(n=n/s*200/(1+Math.exp(-.02*(s-i))));const o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};W6.test={disableSubpixelCoordinates:!1};const iw={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Nie=class extends Ot{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};const Ht={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function og(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Die(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function Fie(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:gr()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[S,x]=e,[M,k]=[x.x-S.x,x.y-S.y];return t.radius=Math.sqrt(M*M+k*k)/2,t.center.x=(S.x+x.x)/2,t.center.y=(S.y+x.y)/2,t}let r=0,n=0;for(let S=0;S<e.length;S++)r+=e[S].x,n+=e[S].y;r/=e.length,n/=e.length;const i=e.map(S=>S.x-r),s=e.map(S=>S.y-n);let o=0,a=0,l=0,c=0,d=0,f=0,m=0;for(let S=0;S<i.length;S++){const x=i[S],M=s[S],k=x*x,O=M*M;o+=k,a+=O,l+=x*M,c+=k*x,d+=O*M,f+=x*O,m+=M*k}const y=.5*(c+f),g=.5*(d+m),v=o*a-l*l,$=(y*a-g*l)/v,_=(o*g-l*y)/v,b=gr($+r,_+n);return{radius:Math.sqrt($*$+_*_+(o+a)/e.length),center:b}}function El(e){const{native:t}=e,{pointerId:r,button:n,pointerType:i}=t;return i==="mouse"?`${r}:${n}`:`${i}`}let jie=class extends Ot{constructor(t=Ht.maximumDoubleClickDelay,r=Ht.maximumDoubleClickDistance,n=Ht.maximumDoubleTouchDelay,i=Ht.maximumDoubleTouchDistance,s=qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=gr(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new E1({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=ct(t.doubleTapTimeout)})}get hasPendingInputs(){return qg(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=ct(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,r,n){const{button:i,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:c}=n;return{action:t,delta:r,button:i,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:c}}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:s}=n;this._dragStartCenter=s;const o=this._createDoubleTapDragData("begin",gr(0,0),n);this._doubleTapDrag.emit(o,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=gr(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("update",s,r);this._doubleTapDrag.emit(o,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=gr(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("end",s,r);this._doubleTapDrag.emit(o,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=El(r),i=this._pointerState.get(n),{pointerType:s}=r.native;if(i){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),og(i.event.data,r)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=El(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(i),s);this._pointerState.set(i,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}},zie=class extends Ot{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:i,pointers:Uie(this._activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=wm(this._activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,i);const s=Py(i,H6(this._activePointerMap));i.initialAngle=s,i.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this._activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=wm(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=wm(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=Py(n,r)-t,n.lastAngle=Py(n,r)-t})}_emitEvent(t,r,n){const i=wm(this._activePointerMap);this._drag.emit(this._createPayload(t,r,i,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function H6(e){const t=[];return e.forEach(r=>{t.push(gr(r.event.x,r.event.y))}),Fie(t)}function wm(e){const t=H6(e);let r=0;return e.forEach(n=>{let i=Py(n,t),s=i-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;i=n.lastAngle+s,n.lastAngle=i;const o=i-n.initialAngle;r+=o}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function Uie(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function Py(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var qE;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(qE||(qE={}));let Vie=class extends Ot{constructor(t=Ht.maximumDoubleClickDelay,r=Ht.maximumDoubleClickDistance,n=Ht.maximumDoubleTouchDelay,i=Ht.maximumDoubleTouchDistance,s=qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=El(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,n=El(r),i=this._pointerState.get(n);if(i&&i.downButton===r.native.button){const s=i.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),og(s,t.data)>o?this._startImmediateDoubleClick(t,i):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(r))):og(i,t.data)>o?this._removeState(r):this._startImmediateDoubleClick(t,i)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const r=El(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},Gie=class extends Ot{constructor(t=Ht.maximumClickDelay,r=Ht.movementUntilMouseDrag,n=Ht.movementUntilPenDrag,i=Ht.movementUntilTouchDrag,s=Ht.holdDelay,o=qc){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=ct(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,r,n){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:n}}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",i,r),void 0,i.modifiers):Die(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",i,r)):this._pointerDrag.emit(this._createPointerDragData("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,s=this._pointerState.get(i);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",s,r==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}},Wie=class extends Ot{constructor(t=Ht.maximumDoubleClickDelay,r=Ht.maximumDoubleClickDistance,n=Ht.maximumDoubleTouchDelay,i=Ht.maximumDoubleTouchDistance,s=qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=ct(t.doubleClickTimer))}get hasPendingInputs(){return qg(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=ct(n.doubleClickTimer),r&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_getPointerId(t){const{pointerId:r,pointerType:n,button:i}=t.native;return n==="mouse"?`${r}:${i}`:`${n}`}_handleImmediateClick(t){const r=t.data,{pointerType:n}=r.native,i=this._getPointerId(r);if(!this._pointerState.has(i))return void this._startClick(t);const s=this._pointerState.get(i),{data:o,modifiers:a}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;og(o,r)>l?(this._clearDoubleClickTimer(i,!0),this._startClick(t)):(this._clearDoubleClickTimer(i,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(t){const r=El(t.data),n=this._pointerState.get(r);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:n}}=r,i=El(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),s),a=1;this._pointerState.set(i,{event:t,doubleClickTimer:o,pointerDownCount:a}),this.refreshHasPendingInputs()}};const _m={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let qa=class extends te{initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this.addHandles([Gl(()=>!t(),()=>this._disconnect()),Gl(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=Ze(this._inputManager)}_connect(){const t=this.view.surface,r=new W6(t,this.view.input),n=[new Vie,new Gie,new Wie,new zie(this.view.navigation),new jie],i=new cn({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new Nie],Zo.INTERNAL),i.installHandlers("navigation",[new Eie(this.view),new wie(this.view),new kie(this.view),new GE(this.view),new GE(this.view,[_m.counter]),new fie(this.view,"primary"),new $ie(this.view,_m.pan),new Tie(this.view,_m.zoom),new xie(this.view,_m.rotate),new mie(this.view,"secondary"),new pie(this.view,"touch")],Zo.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,ce(()=>{var s,o;return(o=(s=this.view)==null?void 0:s.navigation)==null?void 0:o.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},wr)}get test(){return{inputManager:this._inputManager}}};h([p()],qa.prototype,"view",void 0),h([p()],qa.prototype,"latestPointerType",null),h([p()],qa.prototype,"latestPointerLocation",null),h([p()],qa.prototype,"multiTouchActive",null),qa=h([P("esri.views.2d.input.MapViewInputManager")],qa);const Bie=qa;var _fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZE,JE,YE,Jb={exports:{}};Jb.exports,ZE=Jb,JE=function(){function e(i,s,o,a,l){t(i,s,o||0,a||i.length-1,l||n)}function t(i,s,o,a,l){for(;a>o;){if(a-o>600){var c=a-o+1,d=s-o+1,f=Math.log(c),m=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1);t(i,s,Math.max(o,Math.floor(s-d*m/c+y)),Math.min(a,Math.floor(s+(c-d)*m/c+y)),l)}var g=i[s],v=o,$=a;for(r(i,o,s),l(i[a],g)>0&&r(i,o,a);v<$;){for(r(i,v,$),v++,$--;l(i[v],g)<0;)v++;for(;l(i[$],g)>0;)$--}l(i[o],g)===0?r(i,o,$):r(i,++$,a),$<=s&&(o=$+1),s<=$&&(a=$-1)}}function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function n(i,s){return i<s?-1:i>s?1:0}return e},(YE=JE())!==void 0&&(ZE.exports=YE);const qie=Hie(Jb.exports);function ag(e,t){if(!(this instanceof ag))return new ag(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function Zie(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function mu(e,t){md(e,0,e.children.length,t,e)}function md(e,t,r,n,i){i||(i=Ou(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<r;o++)s=e.children[o],yd(i,e.leaf?n(s):s);return i}function yd(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function KE(e,t){return e.minX-t.minX}function XE(e,t){return e.minY-t.minY}function sw(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function bm(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Jie(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Yie(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function ow(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Sm(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Ou(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function QE(e,t,r,n,i){for(var s,o=[t,r];o.length;)(r=o.pop())-(t=o.pop())<=n||(s=t+Math.ceil((r-t)/n/2)*n,qie(e,s,t,r,i),o.push(t,s,s,r))}ag.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!Sm(e,t))return r;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],Sm(e,a=t.leaf?n(o):o)&&(t.leaf?r.push(o):ow(e,a)?this._all(o,r):l.push(o));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!Sm(e,t))return!1;for(var n,i,s,o,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(s=t.children[n],Sm(e,o=t.leaf?r(s):s)){if(t.leaf||ow(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Ou([]),this},remove:function(e,t){if(!e)return this;for(var r,n,i,s,o=this.data,a=this.toBBox(e),l=[],c=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],r=c.pop(),s=!0),o.leaf&&(i=Zie(e,o.children,t))!==-1)return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!ow(o,a)?n?(r++,o=n.children[r],s=!1):o=null:(l.push(o),c.push(r),r=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:KE,compareMinY:XE,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,s=r-t+1,o=this._maxEntries;if(s<=o)return mu(i=Ou(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=Ou([])).leaf=!1,i.height=n;var a,l,c,d,f=Math.ceil(s/o),m=f*Math.ceil(Math.sqrt(o));for(QE(e,t,r,m,this.compareMinX),a=t;a<=r;a+=m)for(QE(e,a,c=Math.min(a+m-1,r),f,this.compareMinY),l=a;l<=c;l+=f)d=Math.min(l+f-1,c),i.children.push(this._build(e,l,d,n-1));return mu(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,s,o,a,l,c,d,f;n.push(t),!t.leaf&&n.length-1!==r;){for(d=f=1/0,i=0,s=t.children.length;i<s;i++)l=sw(o=t.children[i]),(c=Jie(e,o)-l)<f?(f=c,d=l<d?l:d,a=o):c===f&&l<d&&(d=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),yd(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),o=Ou(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,mu(r,this.toBBox),mu(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},_splitRoot:function(e,t){this.data=Ou([e,t]),this.data.height=e.height+1,this.data.leaf=!1,mu(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,s,o,a,l,c,d;for(l=c=1/0,n=t;n<=r-t;n++)o=Yie(i=md(e,0,n,this.toBBox),s=md(e,n,r,this.toBBox)),a=sw(i)+sw(s),o<l?(l=o,d=n,c=a<c?a:c):o===l&&a<c&&(c=a,d=n);return d},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:KE,i=e.leaf?this.compareMinY:XE;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,s,o=this.toBBox,a=md(e,0,t,o),l=md(e,r-t,r,o),c=bm(a)+bm(l);for(i=t;i<r-t;i++)s=e.children[i],yd(a,e.leaf?o(s):s),c+=bm(a);for(i=r-t-1;i>=t;i--)s=e.children[i],yd(l,e.leaf?o(s):s),c+=bm(l);return c},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)yd(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():mu(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var Yb;const eP=new kn({upperLeft:"upper-left",lowerLeft:"lower-left"});let Za=Yb=class extends ne{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Yb(j({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};h([p({type:et,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Za.prototype,"extent",void 0),h([p({type:["view","edit"],json:{write:!0}})],Za.prototype,"mode",void 0),h([p({type:String,json:{read:eP.read,write:eP.write}})],Za.prototype,"originPosition",void 0),h([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Za.prototype,"tolerance",void 0),Za=Yb=h([P("esri.rest.support.QuantizationParameters")],Za);const Kie=Za;let tP=class q6{constructor(t,r){this.key=new Hl(0,0,0,0),this.bounds=qi(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return et.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),r=yr.acquire();for(let n=0;n<t.length;n++)r[n]=new q6(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return Kie.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const xa={added:[],removed:[]},aw=new Set,Xie=new Hl(0,0,0,0);let Qie=class extends tu{constructor(t){super(),this._tiles=new Map,this._index=ag(9,L("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new tP(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:s}=i;if(n.length>0)for(const{row:o,colFrom:a,colTo:l}of n)for(let c=a;c<=l;c++){const d=Xie.set(s,o,i.normalizeCol(c),i.getWorldForColumn(c)).id;if(aw.add(d),!this.has(d)){const f=new tP(this.tileScheme,d);this._tiles.set(d,f),this._index.insert(f),this.tiles.push(f),xa.added.push(f)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];aw.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),xa.removed.push(a))}(xa.added.length||xa.removed.length)&&this.emit("update",xa),Rp.pool.release(r),aw.clear(),xa.added.length=0,xa.removed.length=0}},Ja=class extends te{constructor(){super(...arguments),this.color=new ye([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity}};h([p({type:ye})],Ja.prototype,"color",void 0),h([p({type:ye})],Ja.prototype,"haloColor",void 0),h([p()],Ja.prototype,"haloOpacity",void 0),h([p()],Ja.prototype,"fillOpacity",void 0),Ja=h([P("esri.views.2d.support.HighlightOptions")],Ja);const Z6=Ja;async function ese(e,t,r){const n=WN(t)?GN(e,t):t;if(!e.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let i=new Set;const s=new Set;let o=!1,a=null,l=null;r!=null&&r.include?nP(r.include,rP(e,m=>{i.add(m),lw(m,y=>s.add(y))},(m,y)=>{s.add(m),i.add(y)},m=>{a||(a=new Set),a.add(m)},m=>i.add(m),()=>o=!0)):(o=!0,i=new Set(e.allLayerViews),i.forEach(m=>{lw(m,y=>s.add(y))})),r!=null&&r.exclude&&nP(r.exclude,rP(e,m=>{i.delete(m),lw(m,y=>s.delete(y))},m=>s.delete(m),m=>{l||(l=new Set),l.add(m)}));const c=e.allLayerViews.filter(m=>!m.suspended&&i.has(m)).reverse(),d=e.toMap(n);let f=[...o?e.graphicsView.hitTest(d).map(m=>({type:"graphic",graphic:m,layer:null,mapPoint:d})):[],...await Promise.all(c.map(m=>m.hitTest(d,n)).toArray())].filter(l0).flat().filter(l0);return f=f.filter(m=>{var y;return m.type!=="graphic"||((y=m.layer)==null?void 0:y.type)!=="subtype-group"||s.has(m.graphic.layer)}),a&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||(a==null?void 0:a.has(Kb(m.graphic))))),l&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||!(l!=null&&l.has(Kb(m.graphic))))),{screenPoint:n,results:f}}function rP(e,t,r,n,i,s){return o=>{if(o instanceof rg){if(o.layer===e)s==null||s();else{const a=e.allLayerViews.find(l=>l.layer===o.layer);a&&(i==null||i(a))}n(Kb(o))}else if(o.type==="subtype-sublayer"){const a=e.allLayerViews.find(l=>l.layer===o.parent);a&&r(o,a)}else{const a=e.allLayerViews.find(l=>l.layer===o);a&&t(a)}}}function nP(e,t){if(e)if(a0(e))for(const r of e)if(a0(r))for(const n of r)t(n);else t(r);else t(e)}function Kb(e){var r,n;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((n=e.sourceLayer)==null?void 0:n.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function lw({layer:e},t){e.type==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}function tse(e,t,r){const{ctx:n,canvas:i}=J6(e,r),s=n.getImageData(0,0,e.width,e.height),o=ise(i,t);return Y6(i),{dataUrl:o,data:s}}function rse(e,t){const{ctx:r,canvas:n}=J6(e,t),i=r.getImageData(0,0,e.width,e.height);return Y6(n),i}function J6(e,t){const r=nse();t.premultipliedAlpha&&use(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&lse(n),{ctx:n,canvas:r}}function Y6(e){e.width=0,e.height=0}function nse(){return uw==null&&(uw=document.createElement("canvas")),uw}let uw=null;function ise(e,t){const r=cse[t.format],n=t.quality/100;return e.toDataURL(r,n)}function sse(e,t){const r=ase(e),n=dse[r];return{format:r,quality:Bi(t??n,0,100)}}function ose(e,t){return t/Math.max(e[0],e[1])}function $fe(e,t,r,n=0,i=0,s=e.width-n,o=e.height-i,a=!1){const{data:l}=e,{width:c,height:d,data:f}=t,m=s/c,y=o/d,g=Math.ceil(m/2),v=Math.ceil(y/2),$=e.width;for(let _=0;_<d;_++)for(let b=0;b<c;b++){const S=4*(b+(a?d-_-1:_)*c);let x=0,M=0,k=0,O=0,A=0,V=0;const F=(_+.5)*y;for(let q=Math.floor(_*y);q<(_+1)*y;q++){const X=Math.abs(F-(q+.5))/v,de=(b+.5)*m,Y=X*X;for(let Ye=Math.floor(b*m);Ye<(b+1)*m;Ye++){const Gt=Math.abs(de-(Ye+.5))/g,Ce=Math.sqrt(Y+Gt*Gt);if(Ce>=1)continue;let N=2*Ce*Ce*Ce-3*Ce*Ce+1;const Q=4*(n+Ye+(i+q)*$);V+=N*l[Q+3],M+=N,!r&&l[Q+3]<255&&(N=N*l[Q+3]/255),k+=N*l[Q],O+=N*l[Q+1],A+=N*l[Q+2],x+=N}}f[S]=k/x,f[S+1]=O/x,f[S+2]=A/x,f[S+3]=V/M}return t}function ase(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return hse}}function lse(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function use(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const s=255/i;t[n]=t[n]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const cse={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},iP=98,hse="png",dse={png:100,jpg:iP,jpeg:iP},K6={flipY:!0,premultipliedAlpha:!0};async function pse(e,t){const r=await X6(e,t),{format:n,quality:i}=sse(t==null?void 0:t.format,t==null?void 0:t.quality);return tse(r,{format:n,quality:i,rotation:0,disableDecorations:!1},K6)}async function fse(e,t){const r=await X6(e,t);return rse(r,K6)}function X6(e,t){const r=gse(t||{},yse(e.stage,e.size),e.size,e.padding),n=mse(t,e.allLayerViews);return e.stage.takeScreenshot(r,n,e.backgroundColor,t==null?void 0:t.rotation)}function mse(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(n=>{const i=t.find(s=>s.layer.id===n.id);i!=null&&i.container&&r.push(i.container)}),r}function yse(e,t){return Math.min(4,ose(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function gse(e,t,r,n){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let i=null;e.width!=null&&e.height!=null?i=[e.width,e.height]:e.width==null&&e.height!=null?i=[e.height,e.height]:e.width!=null&&e.height==null?i=[e.width,e.width]:e.width==null&&e.height==null&&(i=null);const s=r[0]-(n.left+n.right),o=r[1]-(n.top+n.bottom);let a,l,c=e.area||{x:0,y:0,width:s,height:o};if(i){const d=s/o,f=i[0]/i[1];if(f>d){const m=c.width/f;c={x:c.x,y:Math.round(c.y+(c.height-m)/2),width:c.width,height:Math.round(m)}}else{const m=c.height*f;c={x:Math.round(c.x+(c.width-m)/2),y:c.y,width:Math.round(m),height:c.height}}}else i=[c.width,c.height];return i[0]>c.width?(a=Math.min(i[0]/c.width,t),l=i[0]/c.width/a):(a=1,l=i[0]/c.width),{cropArea:{x:Math.round((c.x+n.left)*a),y:Math.round((c.y+n.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}const sP=160;let gd=class extends te{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=sP&&this.clear()},sP))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};h([p()],gd.prototype,"_timer",void 0),h([p()],gd.prototype,"stationary",null),gd=h([P("esri.views.2d.support.StationaryManager")],gd);const vse=e=>e.includes("Brush");let Q6=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),vse(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};var St;function Xb(e,t,r={}){const n=t===St.WEBGL1?"webgl":"webgl2";return e.getContext(n,r)||null}function Mfe(e,t,r={}){const n=e8(e);for(const i of n){const s=Xb(t,i,r);if(s)return s}return null}function e8(e){if(e==="3d")return[St.WEBGL2];const t=L("esri-force-webgl");return t===St.WEBGL1||t===St.WEBGL2?[t]:L("mac")&&L("chrome")?[St.WEBGL1,St.WEBGL2]:[St.WEBGL2,St.WEBGL1]}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(St||(St={}));let cw,hw;function wse(e){const t=e8(e);for(;t.length>1;){const r=oP(t.shift());if(r.available)return r}return oP(t.shift())}function oP(e){switch(e){case St.WEBGL1:return _se();case St.WEBGL2:return bse()}}function _se(){return cw||(cw=xse()),cw}function bse(){return hw||(hw=Tse()),hw}let t8=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}},Sse=class extends t8{constructor(){super(...arguments),this.type=St.WEBGL1}},$se=class extends t8{constructor(){super(...arguments),this.type=St.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}};function r8(e,t){if(e===St.WEBGL1&&typeof WebGLRenderingContext>"u"||e===St.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const r=document.createElement("canvas");if(!r)return null;let n=Xb(r,e,{failIfMajorPerformanceCaveat:!0});if(n==null&&(n=Xb(r,e),n!=null&&(t.majorPerformanceCaveat=!0)),n==null)return n;if(e===St.WEBGL1){const s=n.getParameter(n.VERSION),o=s==null?void 0:s.match(/^WebGL\s+([\d.]*)/);if(o){const a=parseFloat(o[1]);t.available=a>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return i&&(t.supportsHighPrecisionFragment=i.precision>0),n}function xse(){const e=new Sse,t=r8(St.WEBGL1,e);return t==null||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function Tse(){const e=new $se,t=r8(St.WEBGL2,e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function Mse(e){const t=wse(e);if(!t.available)return new G("webgl:required",e==="3d"?"WebGL2 is required but not supported.":"WebGL is required but not supported.",new Error().stack);if(e==="3d"&&t.majorPerformanceCaveat)return new G("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new G("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new G("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===St.WEBGL1){if(!t.supportsElementIndexUint)return new G("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new G("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new G("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function kse(e){return e&&"nodeType"in e}function Ese(e){return e&&typeof e.render=="function"}const aP={component:"esri-component"};let Ya=class extends te{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,r;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((r=this.node)==null?void 0:r.id)}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(aP.component),r&&r.classList.remove(aP.component),this._set("node",t))}castNode(t){var r;return(r=this.widget)==null||r.destroy(),t?typeof t=="string"||kse(t)?(this._set("widget",null),_3(t)):(Ese(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};h([p()],Ya.prototype,"id",null),h([p()],Ya.prototype,"node",null),h([_r("node")],Ya.prototype,"castNode",null),h([p({readOnly:!0})],Ya.prototype,"widget",void 0),Ya=h([P("esri.views.ui.Component")],Ya);const Cy=Ya,n8="calcite-mode-";function Pse(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function Cse(){return Pse().startsWith("dark")}function Ose(){return`${n8}${Cse()?"dark":"light"}`}function Ise(e){Ase(e),e.classList.add(Ose())}function Ase(e){Array.from(e.classList).forEach(t=>{t.startsWith(n8)&&e.classList.remove(t)})}const Lse={left:0,top:0,bottom:0,right:0},i8={bottom:30,top:15,right:15,left:15},rs="esri-ui",Tr={ui:rs,corner:`${rs}-corner`,innerContainer:`${rs}-inner-container`,manualContainer:`${rs}-manual-container`,cornerContainer:`${rs}-corner-container`,topLeft:`${rs}-top-left`,topRight:`${rs}-top-right`,bottomLeft:`${rs}-bottom-left`,bottomRight:`${rs}-bottom-right`};function Rse(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function $m(e){return e===0?"0":`${e}px`}function dw(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function pw(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let Li=class extends tu.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._locale=Kr(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&pw(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&pw(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([ce(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,wr),ce(()=>this.padding,this._applyUIPadding,wr),ce(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},wr),n3(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(Tr.ui),Ise(t),this._attachContainers(t)),r&&(r.classList.remove(Tr.ui),pw(r,{top:"",bottom:"",left:"",right:""}),LL(r)),this._set("container",t))}get height(){var s;const t=((s=this.view)==null?void 0:s.height)??0;if(t===0)return t;const r=this._getViewPadding(),{top:n,bottom:i}=r;return Math.max(t-n-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...i8,...t}}get width(){var s;const t=((s=this.view)==null?void 0:s.width)??0;if(t===0)return t;const r=this._getViewPadding(),{left:n,right:i}=r;return Math.max(t-n-i,0)}add(t,r){let n,i,s;if(Array.isArray(t))return void t.forEach(a=>this.add(a,r));const o=dw(t);o&&({index:n,position:r,component:t,key:i}=o),r&&typeof r=="object"&&({index:n,key:i,position:r,internal:s}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,n,i,s)}remove(t,r){var i;if(!t)return;if(Array.isArray(t))return t.map(s=>this.remove(s,r));const n=this._find(t);if(n){if(this._componentMap.has(n)&&((i=this._componentMap.get(n))==null?void 0:i.key)!==r)return;const s=this._components.indexOf(n),o=n.node.parentNode;return o==null||o.removeChild(n.node),this._componentMap.delete(n),this._components.splice(s,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,r);return}const n=this._positionNameToContainerLookup[t??"manual"],i=Array.prototype.slice.call(n.children).map(s=>this._findByNode(s)).filter(s=>{var o;return s==null?!1:!(((o=this._componentMap.get(s))==null?void 0:o.internal)??!1)||r.removeInternal});for(const s of i)this.remove(s)}move(t,r){if(Array.isArray(t)&&t.forEach(o=>this.move(o,r)),!t)return;let n;const i=dw(t)||dw(r);if(i&&(n=i.index,r=i.position,t=i.component||t),r&&!this._isValidPosition(r))return;const s=this.remove(t);s&&this.add(s,{position:r,index:n})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(n=>this._getComponentsAtPosition(n,r)):this._getComponentsAtPosition(t,r):this._components.filter(n=>{var i;return r.includeInternal||!((i=this._componentMap.get(n))!=null&&i.internal)}).map(({widget:n,node:i})=>n??i)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,n,i,s){t instanceof Cy||(t=new Cy({node:t})),this._place({component:t,position:r,index:n}),this._components.push(t),this._componentMap.set(t,{key:i,internal:s})}_find(t){return t?t instanceof Cy?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??Lse}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(Tr.innerContainer,Tr.cornerContainer);const r=document.createElement("div");r.classList.add(Tr.innerContainer,Tr.manualContainer);const n=document.createElement("div");n.classList.add(Tr.topLeft,Tr.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add(Tr.topRight,Tr.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add(Tr.bottomLeft,Tr.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add(Tr.bottomRight,Tr.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=r;const a=MY();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":s,"bottom-right":o,"top-leading":a?i:n,"top-trailing":a?n:i,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.position??"manual",{component:n,index:i}=t,s=this._positionNameToContainerLookup[r],o=i!=null&&i>-1;if(Rse(n.widget)&&n.widget.startup(),!o)return void s.appendChild(n.node);const a=Array.from(s.children);if(i===0)return void(s.firstChild?Vk(n.node,s.firstChild):s.appendChild(n.node));i>=a.length?s.appendChild(n.node):Vk(n.node,a[i])}_toPixelPosition(t){return{top:$m(t.top),left:$m(t.left),right:$m(t.right),bottom:$m(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const n=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(n.children).map(i=>this._findByNode(i)).filter(l0).filter(i=>{var s;return r.includeInternal||!((s=this._componentMap.get(i))!=null&&s.internal)}).map(({widget:i,node:s})=>i??s)}};h([p()],Li.prototype,"_locale",void 0),h([p()],Li.prototype,"container",null),h([p()],Li.prototype,"height",null),h([p({value:i8})],Li.prototype,"padding",null),h([_r("padding")],Li.prototype,"castPadding",null),h([p()],Li.prototype,"view",void 0),h([p()],Li.prototype,"width",null),Li=h([P("esri.views.ui.UI")],Li);const Nse=Li,Dse="randomUUID"in crypto;function cx(){if(Dse)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function Ife(){return`{${cx().toUpperCase()}}`}function Afe(){return`{${cx()}}`}const Fse={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},jse={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},zse=e=>({...jse,...e}),Use=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Vse=(e,t)=>e.find(t),lP=(e,t,r=!1)=>{let n=e;return t.forEach((i,s)=>{const o=n!=null&&n.children?Vse(n.children,a=>a.domNode===i):void 0;r&&!o&&s!==t.length-1||(n=o)}),n},Gse=e=>{let t;const r={...Fse,...e},n=zse(r),i=n.performanceLogger;let s,o=!0,a=!1;const l=[],c=[],d=(m,y,g)=>{var _;let v;n.eventHandlerInterceptor=(b,S,x,M)=>function(k){let O;i("domEvent",k);const A=Use(k.currentTarget,v.domNode),V=A.some(q=>{var X;return customElements.get((X=q==null?void 0:q.tagName)==null?void 0:X.toLowerCase())});if(k.eventPhase===Event.CAPTURING_PHASE||!V)A.reverse(),O=lP(v.getLastRender(),A);else{const q=k.composedPath(),X=q.slice(q.indexOf(k.currentTarget),q.indexOf(v.domNode)).reverse();O=lP(v.getLastRender(),X,!0)}let F;return O&&(F=r.handleInterceptedEvent(t,O,this,k)),i("domEventProcessed",k),F},(_=r.postProcessProjectionOptions)==null||_.call(r,n);const $=g();v=m(y,$,n),n.eventHandlerInterceptor=void 0,l.push(v),c.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(v,$)};let f=()=>{if(s=void 0,o){o=!1,i("renderStart",void 0);for(let m=0;m<l.length;m++){const y=c[m]();i("rendered",void 0),l[m].update(y),i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(f=r.modifyDoRenderImplementation(f,l,c)),t={renderNow:f,scheduleRender:()=>{s||a||(s=requestAnimationFrame(f))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(m,y)=>{d(Fo.append,m,y)},insertBefore:(m,y)=>{d(Fo.insertBefore,m,y)},merge:(m,y)=>{d(Fo.merge,m,y)},replace:(m,y)=>{d(Fo.replace,m,y)},detach:m=>{for(let y=0;y<c.length;y++)if(c[y]===m)return c.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t},Iu={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Au,s8,P1,o8=!1,lg=!1,hx=!1,Br=!1,uP=null,Qb=!1;const Wse=e=>{const t=new URL(e,Vt.$resourcesUrl$);return t.origin!==ff.location.origin?t.href:t.pathname},Bse=e=>Vt.$resourcesUrl$=e,ql=(e,t="")=>()=>{},cP="http://www.w3.org/1999/xlink",hP={},Hse="http://www.w3.org/2000/svg",qse="http://www.w3.org/1999/xhtml",Zse=e=>e!=null,dx=e=>(e=typeof e,e==="object"||e==="function");function Jse(e){var t,r,n;return(n=(r=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||r===void 0?void 0:r.getAttribute("content"))!==null&&n!==void 0?n:void 0}const a8=(e,t,...r)=>{let n=null,i=null,s=null,o=!1,a=!1;const l=[],c=f=>{for(let m=0;m<f.length;m++)n=f[m],Array.isArray(n)?c(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!dx(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?ug(null,n):n),a=o)};if(c(r),t){t.key&&(i=t.key),t.name&&(s=t.name);{const f=t.className||t.class;f&&(t.class=typeof f!="object"?f:Object.keys(f).filter(m=>f[m]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,Xse);const d=ug(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=i,d.$name$=s,d},ug=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},Yse={},Kse=e=>e&&e.$tag$===Yse,Xse={forEach:(e,t)=>e.map(dP).forEach(t),map:(e,t)=>e.map(dP).map(t).map(Qse)},dP=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Qse=e=>{if(typeof e.vtag=="function"){const r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),a8(e.vtag,r,...e.vchildren||[])}const t=ug(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},eoe=e=>koe.map(t=>t(e)).find(t=>!!t),toe=(e,t)=>e!=null&&!dx(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,roe=e=>e,Lfe=(e,t,r)=>{const n=roe(e);return{emit:i=>noe(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},noe=(e,t,r)=>{const n=Vt.ce(t,r);return e.dispatchEvent(n),n},pP=new WeakMap,ioe=(e,t,r)=>{let n=hg.get(e);Coe&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,hg.set(e,n)},soe=(e,t,r,n)=>{var i;let s=l8(t,r);const o=hg.get(s);if(e=e.nodeType===11?e:li,o)if(typeof o=="string"){e=e.head||e;let a=pP.get(e),l;if(a||pP.set(e,a=new Set),!a.has(s)){{l=li.createElement("style"),l.innerHTML=o;const c=(i=Vt.$nonce$)!==null&&i!==void 0?i:Jse(li);c!=null&&l.setAttribute("nonce",c),e.insertBefore(l,e.querySelector("link"))}a&&a.add(s)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return s},ooe=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=ql("attachStyles",t.$tagName$),s=soe(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&(r["s-sc"]=s,r.classList.add(s+"-h"),n&2&&r.classList.add(s+"-s")),i()},l8=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),fP=(e,t,r,n,i,s)=>{if(r!==n){let o=vP(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,c=mP(r),d=mP(n);l.remove(...c.filter(f=>f&&!d.includes(f))),l.add(...d.filter(f=>f&&!c.includes(f)))}else if(t==="style"){for(const l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):vP(ff,a)?t=a.slice(2):t=a[2]+t.slice(3),r&&Vt.rel(e,t,r,!1),n&&Vt.ael(e,t,n,!1);else{const l=dx(n);if((o||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{const d=n??"";t==="list"?o=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(cP,t):e.removeAttribute(t)):(!o||s&4||i)&&!l&&(n=n===!0?"":n,c?e.setAttributeNS(cP,t,n):e.setAttribute(t,n))}}},aoe=/\s/,mP=e=>e?e.split(aoe):[],u8=(e,t,r,n)=>{const i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||hP,o=t.$attrs$||hP;for(n in s)n in o||fP(i,n,s[n],void 0,r,t.$flags$);for(n in o)fP(i,n,s[n],o[n],r,t.$flags$)},cg=(e,t,r,n)=>{const i=t.$children$[r];let s=0,o,a,l;if(o8||(hx=!0,i.$tag$==="slot"&&(Au&&n.classList.add(Au+"-s"),i.$flags$|=i.$children$?2:1)),i.$text$!==null)o=i.$elm$=li.createTextNode(i.$text$);else if(i.$flags$&1)o=i.$elm$=li.createTextNode("");else{if(Br||(Br=i.$tag$==="svg"),o=i.$elm$=li.createElementNS(Br?Hse:qse,i.$flags$&2?"slot-fb":i.$tag$),Br&&i.$tag$==="foreignObject"&&(Br=!1),u8(null,i,Br),Zse(Au)&&o["s-si"]!==Au&&o.classList.add(o["s-si"]=Au),i.$children$)for(s=0;s<i.$children$.length;++s)a=cg(e,i,s,o),a&&o.appendChild(a);i.$tag$==="svg"?Br=!1:o.tagName==="foreignObject"&&(Br=!0)}return o["s-hn"]=P1,i.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=s8,o["s-sn"]=i.$name$||"",l=e&&e.$children$&&e.$children$[r],l&&l.$tag$===i.$tag$&&e.$elm$&&Np(e.$elm$,!1)),o},Np=(e,t)=>{Vt.$flags$|=1;const r=e.childNodes;for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==P1&&i["s-ol"]&&(d8(i).insertBefore(i,px(i)),i["s-ol"].remove(),i["s-ol"]=void 0,hx=!0),t&&Np(i,t)}Vt.$flags$&=-2},c8=(e,t,r,n,i,s)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===P1&&(o=o.shadowRoot);i<=s;++i)n[i]&&(a=cg(null,r,i,e),a&&(n[i].$elm$=a,o.insertBefore(a,px(t))))},h8=(e,t,r,n,i)=>{for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,m8(n),lg=!0,i["s-ol"]?i["s-ol"].remove():Np(i,!0),i.remove())},loe=(e,t,r,n)=>{let i=0,s=0,o=0,a=0,l=t.length-1,c=t[0],d=t[l],f=n.length-1,m=n[0],y=n[f],g,v;for(;i<=l&&s<=f;)if(c==null)c=t[++i];else if(d==null)d=t[--l];else if(m==null)m=n[++s];else if(y==null)y=n[--f];else if(xm(c,m))Lu(c,m),c=t[++i],m=n[++s];else if(xm(d,y))Lu(d,y),d=t[--l],y=n[--f];else if(xm(c,y))(c.$tag$==="slot"||y.$tag$==="slot")&&Np(c.$elm$.parentNode,!1),Lu(c,y),e.insertBefore(c.$elm$,d.$elm$.nextSibling),c=t[++i],y=n[--f];else if(xm(d,m))(c.$tag$==="slot"||y.$tag$==="slot")&&Np(d.$elm$.parentNode,!1),Lu(d,m),e.insertBefore(d.$elm$,c.$elm$),d=t[--l],m=n[++s];else{for(o=-1,a=i;a<=l;++a)if(t[a]&&t[a].$key$!==null&&t[a].$key$===m.$key$){o=a;break}o>=0?(v=t[o],v.$tag$!==m.$tag$?g=cg(t&&t[s],r,o,e):(Lu(v,m),t[o]=void 0,g=v.$elm$),m=n[++s]):(g=cg(t&&t[s],r,s,e),m=n[++s]),g&&d8(c.$elm$).insertBefore(g,px(c.$elm$))}i>l?c8(e,n[f+1]==null?null:n[f+1].$elm$,r,n,s,f):s>f&&h8(t,i,l)},xm=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,px=e=>e&&e["s-ol"]||e,d8=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Lu=(e,t)=>{const r=t.$elm$=e.$elm$,n=e.$children$,i=t.$children$,s=t.$tag$,o=t.$text$;let a;o===null?(Br=s==="svg"?!0:s==="foreignObject"?!1:Br,s==="slot"||u8(e,t,Br),n!==null&&i!==null?loe(r,n,t,i):i!==null?(e.$text$!==null&&(r.textContent=""),c8(r,null,t,i,0,i.length-1)):n!==null&&h8(n,0,n.length-1),Br&&s==="svg"&&(Br=!1)):(a=r["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(r.data=o)},p8=e=>{const t=e.childNodes;let r,n,i,s,o,a;for(n=0,i=t.length;n<i;n++)if(r=t[n],r.nodeType===1){if(r["s-sr"]){for(o=r["s-sn"],r.hidden=!1,s=0;s<i;s++)if(a=t[s].nodeType,t[s]["s-hn"]!==r["s-hn"]||o!==""){if(a===1&&o===t[s].getAttribute("slot")){r.hidden=!0;break}}else if(a===1||a===3&&t[s].textContent.trim()!==""){r.hidden=!0;break}}p8(r)}},Qn=[],f8=e=>{let t,r,n,i,s,o,a=0;const l=e.childNodes,c=l.length;for(;a<c;a++){if(t=l[a],t["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(n=r.parentNode.childNodes,i=t["s-sn"],o=n.length-1;o>=0;o--)r=n[o],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]&&(yP(r,i)?(s=Qn.find(d=>d.$nodeToRelocate$===r),lg=!0,r["s-sn"]=r["s-sn"]||i,s?s.$slotRefNode$=t:Qn.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&Qn.map(d=>{yP(d.$nodeToRelocate$,r["s-sn"])&&(s=Qn.find(f=>f.$nodeToRelocate$===r),s&&!d.$slotRefNode$&&(d.$slotRefNode$=s.$slotRefNode$))})):Qn.some(d=>d.$nodeToRelocate$===r)||Qn.push({$nodeToRelocate$:r}));t.nodeType===1&&f8(t)}},yP=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",m8=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(m8)},uoe=(e,t)=>{const r=e.$hostElement$,n=e.$cmpMeta$,i=e.$vnode$||ug(null,null),s=Kse(t)?t:a8(null,null,t);P1=r.tagName,n.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},n.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=r[o])),s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=i.$elm$=r.shadowRoot||r,Au=r["s-sc"],s8=r["s-cr"],o8=(n.$flags$&1)!==0,lg=!1,Lu(i,s);{if(Vt.$flags$|=1,hx){f8(s.$elm$);let o,a,l,c,d,f,m=0;for(;m<Qn.length;m++)o=Qn[m],a=o.$nodeToRelocate$,a["s-ol"]||(l=li.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(m=0;m<Qn.length;m++)if(o=Qn[m],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,d=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(f=l["s-nr"],f&&f["s-sn"]===a["s-sn"]&&c===f.parentNode&&(f=f.nextSibling,!f||!f["s-nr"])){d=f;break}(!d&&c!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}lg&&p8(s.$elm$),Vt.$flags$&=-2,Qn.length=0}},coe=(e,t)=>{},fx=(e,t)=>(e.$flags$|=16,coe(e,e.$ancestorComponent$),Ioe(()=>hoe(e,t))),hoe=(e,t)=>{const r=e.$hostElement$,n=ql("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;let s;return t?s=gc(i,"componentWillLoad"):s=gc(i,"componentWillUpdate"),s=gP(s,()=>gc(i,"componentWillRender")),n(),gP(s,()=>doe(e,i,t))},doe=async(e,t,r)=>{const n=e.$hostElement$,i=ql("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&ooe(e);const s=ql("render",e.$cmpMeta$.$tagName$);poe(e,t,n),s(),i(),foe(e)},poe=(e,t,r)=>{try{uP=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Iu.hasRenderFn||Iu.reflect)&&(Iu.vdomRender||Iu.reflect)&&(Iu.hydrateServerSide||uoe(e,t))}catch(a){pf(a,e.$hostElement$)}return uP=null,null},foe=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=ql("postUpdate",t),i=r;e.$ancestorComponent$,gc(i,"componentDidRender"),e.$flags$&64?(gc(i,"componentDidUpdate"),n()):(e.$flags$|=64,gc(i,"componentDidLoad"),n())},Rfe=e=>{{const t=df(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&fx(t,!1),r}},gc=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){pf(n)}},gP=(e,t)=>e&&e.then?e.then(t):t(),moe=(e,t)=>df(e).$instanceValues$.get(t),yoe=(e,t,r,n)=>{const i=df(e),s=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=s;r=toe(r,n.$members$[t][0]);const c=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!c){i.$instanceValues$.set(t,r);{if(n.$watchers$&&a&128){const f=n.$watchers$[t];f&&f.map(m=>{try{l[m](r,o,t)}catch(y){pf(y,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,o,t)===!1)return;fx(i,!1)}}}},goe=(e,t,r)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),i=e.prototype;n.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(i,s,{get(){return moe(this,s)},set(a){yoe(this,s,a,t)},configurable:!0,enumerable:!0})});{const s=new Map;i.attributeChangedCallback=function(o,a,l){Vt.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(i.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},voe=async(e,t,r,n,i)=>{if(!(t.$flags$&32)&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),i.style)){let o=i.style;typeof o!="string"&&(o=o[t.$modeName$=eoe(e)]);const a=l8(r,t.$modeName$);if(!hg.has(a)){const l=ql("registerStyles",r.$tagName$);ioe(a,o,!!(r.$flags$&1)),l()}}t.$ancestorComponent$,(()=>fx(t,!0))()},woe=e=>{},_oe=e=>{if(!(Vt.$flags$&1)){const t=df(e),r=t.$cmpMeta$,n=ql("connectedCallback",r.$tagName$);t.$flags$&1?(y8(e,t,r.$listeners$),woe(t.$lazyInstance$)):(t.$flags$|=1,r.$flags$&12&&boe(e),r.$members$&&Object.entries(r.$members$).map(([i,[s]])=>{if(s&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),voe(e,t,r)),n()}},boe=e=>{const t=e["s-cr"]=li.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Soe=e=>{if(!(Vt.$flags$&1)){const t=df(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},Nfe=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Moe(this,r)},connectedCallback(){_oe(this),n&&n.call(this)},disconnectedCallback(){Soe(this),i&&i.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)})}}),e.is=r.$tagName$,goe(e,r)},Dfe=(e,t)=>t,y8=(e,t,r,n)=>{r&&r.map(([i,s,o])=>{const a=xoe(e,i),l=$oe(t,o),c=Toe(i);Vt.ael(a,s,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Vt.rel(a,s,l,c))})},$oe=(e,t)=>r=>{try{Iu.lazyLoad||e.$hostElement$[t](r)}catch(n){pf(n)}},xoe=(e,t)=>t&4?li:t&8?ff:t&16?li.body:e,Toe=e=>Eoe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,g8=new WeakMap,df=e=>g8.get(e),Moe=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return y8(e,r,t.$listeners$),g8.set(e,r)},vP=(e,t)=>t in e,pf=(e,t)=>(0,console.error)(e,t),hg=new Map,koe=[],ff=typeof window<"u"?window:{},li=ff.document||{head:{}},Ffe=ff.HTMLElement||class{},Vt={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},Eoe=(()=>{let e=!1;try{li.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Poe=e=>Promise.resolve(e),Coe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),eS=[],v8=[],w8=(e,t)=>r=>{e.push(r),Qb||(Qb=!0,t&&Vt.$flags$&4?Ooe(tS):Vt.raf(tS))},wP=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){pf(r)}e.length=0},tS=()=>{wP(eS),wP(v8),(Qb=eS.length>0)&&Vt.raf(tS)},Ooe=e=>Poe().then(e),jfe=w8(eS,!1),Ioe=w8(v8,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.10.0
 */const _8="calcite-mode-auto",b8="calcite-mode-dark",Aoe="calcite-mode-light",zfe={autoMode:_8,darkMode:b8,lightMode:Aoe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var S8=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dg=S8.join(","),$8=typeof Element>"u",Zl=$8?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pg=!$8&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},fg=function e(t,r){var n;r===void 0&&(r=!0);var i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),s=i===""||i==="true",o=s||r&&t&&e(t.parentNode);return o},Loe=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},x8=function(t,r,n){if(fg(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(dg));return r&&Zl.call(t,dg)&&i.unshift(t),i=i.filter(n),i},T8=function e(t,r,n){for(var i=[],s=Array.from(t);s.length;){var o=s.shift();if(!fg(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=e(l,!0,n);n.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var d=Zl.call(o,dg);d&&n.filter(o)&&(r||!t.includes(o))&&i.push(o);var f=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),m=!fg(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(f&&m){var y=e(f===!0?o.children:f.children,!0,n);n.flatten?i.push.apply(i,y):i.push({scopeParent:o,candidates:y})}else s.unshift.apply(s,o.children)}}return i},M8=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},k8=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Loe(t))&&!M8(t)?0:t.tabIndex},Roe=function(t,r){var n=k8(t);return n<0&&r&&!M8(t)?0:n},Noe=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},E8=function(t){return t.tagName==="INPUT"},Doe=function(t){return E8(t)&&t.type==="hidden"},Foe=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},joe=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},zoe=function(t){if(!t.name)return!0;var r=t.form||pg(t),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(t.name));else try{i=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=joe(i,t.form);return!s||s===t},Uoe=function(t){return E8(t)&&t.type==="radio"},Voe=function(t){return Uoe(t)&&!zoe(t)},Goe=function(t){var r,n=t&&pg(t),i=(r=n)===null||r===void 0?void 0:r.host,s=!1;if(n&&n!==t){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!s&&i;){var c,d,f;n=pg(i),i=(c=n)===null||c===void 0?void 0:c.host,s=!!((d=i)!==null&&d!==void 0&&(f=d.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return s},_P=function(t){var r=t.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},Woe=function(t,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=Zl.call(t,"details>summary:first-of-type"),o=s?t.parentElement:t;if(Zl.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var l=t.parentElement,c=pg(t);if(l&&!l.shadowRoot&&i(l)===!0)return _P(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=a}if(Goe(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return _P(t);return!1},Boe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return Zl.call(r,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}r=r.parentElement}return!1},mg=function(t,r){return!(r.disabled||fg(r)||Doe(r)||Woe(r,t)||Foe(r)||Boe(r))},rS=function(t,r){return!(Voe(r)||k8(r)<0||!mg(t,r))},Hoe=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},qoe=function e(t){var r=[],n=[];return t.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=Roe(a,o),c=o?e(i.candidates):a;l===0?o?r.push.apply(r,c):r.push(a):n.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),n.sort(Noe).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(r)},Zoe=function(t,r){r=r||{};var n;return r.getShadowRoot?n=T8([t],r.includeContainer,{filter:rS.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Hoe}):n=x8(t,r.includeContainer,rS.bind(null,r)),qoe(n)},Ufe=function(t,r){r=r||{};var n;return r.getShadowRoot?n=T8([t],r.includeContainer,{filter:mg.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=x8(t,r.includeContainer,mg.bind(null,r)),n},Vfe=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Zl.call(t,dg)===!1?!1:rS(r,t)},Joe=S8.concat("iframe").join(","),Gfe=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Zl.call(t,Joe)===!1?!1:mg(r,t)};const Yoe={getShadowRoot:!0};function Wfe(e){const t="dir",r=`[${t}]`,n=Koe(e,r);return n?n.getAttribute(t):"ltr"}function P8(e){return e.getRootNode()}function C8(e){return e.host||null}function Bfe(e,{selector:t,id:r}){function n(i){if(!i)return null;i.assignedSlot&&(i=i.assignedSlot);const s=P8(i),o=r?"getElementById"in s?s.getElementById(r):null:t?s.querySelector(t):null,a=C8(s);return o||(a?n(a):null)}return n(e)}function Koe(e,t){function r(n){return n?n.closest(t)||r(C8(P8(n))):null}return r(e)}function Xoe(e,t){return O8(e,t)}function O8(e,t){if(!e)return;const r=t(e);if(r!==void 0)return r;const{parentNode:n}=e;return O8(n instanceof ShadowRoot?n.host:n,t)}function Hfe(e,t){return!!Xoe(t,r=>r===e?!0:void 0)}function Qoe(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function qfe(e){if(e)return Qoe(e)?e.setFocus():e.focus()}function Zfe(e){e&&(Zoe(e,Yoe)[0]||e).focus()}const Dp=":not([slot])";function Jfe(e,t,r){t&&!Array.isArray(t)&&typeof t!="string"&&(r=t,t=null);const n=t?Array.isArray(t)?t.map(i=>`[slot="${i}"]`).join(","):`[slot="${t}"]`:Dp;return r!=null&&r.all?eae(e,n,r):tae(e,n,r)}function I8(e,t){return e?Array.from(e.children||[]).filter(r=>r==null?void 0:r.matches(t)):[]}function eae(e,t,r){let n=t===Dp?I8(e,Dp):Array.from(e.querySelectorAll(t));n=r&&r.direct===!1?n:n.filter(s=>s.parentElement===e),n=r!=null&&r.matches?n.filter(s=>s==null?void 0:s.matches(r.matches)):n;const i=r==null?void 0:r.selector;return i?n.map(s=>Array.from(s.querySelectorAll(i))).reduce((s,o)=>[...s,...o],[]).filter(s=>!!s):n}function tae(e,t,r){let n=t===Dp?I8(e,Dp)[0]||null:e.querySelector(t);n=r&&r.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=r!=null&&r.matches?n!=null&&n.matches(r.matches)?n:null:n;const i=r==null?void 0:r.selector;return i?n==null?void 0:n.querySelector(i):n}function Yfe(e,t,r){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[r]}function Kfe(e){return(!!e).toString()}function Xfe(e){return sae(e)||nae(e)}function rae(e){return iae(e).filter(t=>t.nodeType===Node.TEXT_NODE).map(t=>t.textContent).join("").trim()}function nae(e){return!!rae(e)}function iae(e){return e.target.assignedNodes({flatten:!0})}function sae(e){return!!oae(e).length}function oae(e){return e.target.assignedElements({flatten:!0})}function Qfe(e){return!!(e.isPrimary&&e.button===0)}function eme(e,t){if(e.parentNode!==t.parentNode)return!1;const r=Array.from(e.parentNode.children);return r.indexOf(e)<r.indexOf(t)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.10.0
 */function bP(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(b8)||e.contains(_8)&&t?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{s!==o&&n(o),s=o};let s=r();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function aae(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?bP():document.addEventListener("DOMContentLoaded",()=>bP(),{once:!0}))}const lae=aae;lae();let A8;function uae(){try{Wse(".")}catch{Bse(vn(Le(A8)))}}function cae(e){var r;const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push((r=e[n])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}A8="components/assets";const L8=Symbol("widget"),R8=Symbol("widget-test-data"),hae=[],dae={},yg=new WeakMap;function N8(e,t){let r=t.children;if(r!=null&&r.length)for(let i=0;i<r.length;++i)r[i]=N8(e,r[i]);else r=hae;const n=t.vnodeSelector;if(gg(n)){const i=t.properties||dae,s=i.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:pae,afterUpdate:fae,afterRemoved:D8,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:s,children:r}},children:void 0,text:void 0,domNode:null}}return t}function pae(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:s}){var a;const o=new i(s);o.container=e,yg.set(e,o),(a=o.afterCreate)==null||a.call(o,o,e),n.addHandles(je(()=>D8(e))),queueMicrotask(()=>{o[R8].projector.renderNow()})}function fae(e,t,r,{widgetProperties:n}){var s;const i=yg.get(e);i&&(i.set(n),(s=i.afterUpdate)==null||s.call(i,i,e))}function D8(e){var r;const t=yg.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),yg.delete(e))}function gg(e){return typeof e=="function"&&e[L8]}const Yi={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"},SP=new Set;function mae(e){SP.add(e),e.finally(()=>SP.delete(e))}var F8;const yae="esri.widgets.Widget";let gae=0;const vae={widgetIcon:Yi.checkboxUnchecked};function j8(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?j8(e[r],t==null?void 0:t[r]):e[r]=t[r]);return e}const wae=Gse({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,s,o)=>{const a=t==null?void 0:t(n,i,s,o),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in s)||l){const c=n[2].toLowerCase()+n.slice(3),d=y=>a==null?void 0:a.call(s,y);s.addEventListener(c,d,l);const f=()=>s.removeEventListener(c,d,l),m=o.afterRemoved;o.afterRemoved=y=>{m==null||m(y),f()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:s}=n,o=i===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(JL(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let fw=!1,_t=class extends x3(tu.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=wae,this._readyForTrueRender=!1,this.iconClass=vae.widgetIcon,this.icon=null,this.key=this,this._loadLocale=Pz(async()=>{var a;if((a=this._messageBundleProps)!=null&&a.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:c,propertyName:d})=>{if(this.destroyed)return;let f=await y3(c);this.uiStrings&&Object.keys(this.uiStrings)&&(f=j8(j(f),this.uiStrings)),this[d]=f}));if(this.destroyed)return;for(const c of l)c.status==="rejected"&&W.getLogger(this).error("widget-intl:locale-error",this.declaredClass,c.reason)}await this.loadLocale()}),uae();const n="esri-widget-uid-"+cx(),i=this.render.bind(this);this._trackingTarget=new Hg(()=>this.scheduleRender());const s=()=>{var f;if(!this._readyForTrueRender||this.destroyed)return null;const a=i();let{properties:l}=a;l||(a.properties=l={});const{key:c}=l;if(c||(l.key=n),gg(a.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?l.styles||(l.styles={}):(l.class="",l.styles={display:"none"}),l.styles.display||(l.styles.display="");let d=0;return(f=a.children)==null||f.forEach(m=>{if(gg(m.vnodeSelector))return;let{properties:y}=m;y||(m.properties=y={}),y.key||(y.key=`${this.id}--${d++}`)}),N8(this,a)};this.render=()=>{if(fw)return s();let a=SY(this)??null;if(a)return a;this._trackingTarget.clear(),fw=!0;try{a=Rs(this._trackingTarget,s)}catch(l){throw console.error(l),l}finally{fw=!1}return a&&$Y(this,a),a};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),mae(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){var r;const t=this.loadDependencies();return(r=this._messageBundleProps)!=null&&r.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(aM):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Ze(this._trackingTarget),Ze(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,Dv(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return _3(t)}get domNode(){return this.container}set domNode(t){this.container=t}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+gae++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(F8=L8,R8)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Dv(this),this._projector.scheduleRender())}own(t){bI(W.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return TY.apply(this,t)}renderNow(){Dv(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this.addHandles(ce(()=>this.viewModel,(n,i)=>{i&&this.removeHandles("delegated-events"),n&&Gg(n)&&this.addHandles(this._delegatedEventNames.map(s=>Jp(n,s,o=>{this.emit(s,o)})),"delegated-events")},Ss)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(aM),this.scheduleRender()};this.addHandles([n3(t),ce(()=>this.uiStrings,t),Gl(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};_t[F8]=!0,h([p()],_t.prototype,"_readyForTrueRender",void 0),h([p({value:null})],_t.prototype,"container",null),h([_r("container")],_t.prototype,"castContainer",null),h([p()],_t.prototype,"iconClass",void 0),h([p()],_t.prototype,"icon",void 0),h([p()],_t.prototype,"id",null),h([p()],_t.prototype,"label",null),h([p()],_t.prototype,"renderable",null),h([p()],_t.prototype,"uiStrings",void 0),h([p()],_t.prototype,"viewModel",void 0),h([p({value:!0})],_t.prototype,"visible",null),h([p()],_t.prototype,"key",void 0),h([p()],_t.prototype,"children",void 0),h([p()],_t.prototype,"afterCreate",void 0),h([p()],_t.prototype,"afterUpdate",void 0),h([p()],_t.prototype,"afterRemoved",void 0),_t=h([P(yae)],_t);const mf=_t;function $P(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function _ae(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function Tm(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function bae(e){return e.type==="bing-maps"}const Xs=[];let Ru=class extends te{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new re,this.view=null,this._allLayerViewsChange=r=>{var i;this.removeHandles("suspension");const n=(i=this.view)==null?void 0:i.allLayerViews;n&&this.addHandles(n.map(s=>ce(()=>{var o;return[s.suspended,(o=s.layer)==null?void 0:o.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r!=null&&r.removed&&r.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([Nc(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Gl(()=>{var r;return((r=this.view)==null?void 0:r.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t==null?void 0:t.allLayerViews;Xs.length=0,t&&r?(r.forEach(n=>{var o,a;if(n.suspended||!((o=n.layer)!=null&&o.attributionVisible))return;const i=n.layer;if($P(i,"user"))return void Tm(Xs,n,i.copyright);if(i.hasAttributionData){if(this._fetchedAttributionData.has(n)){const l=this._fetchedAttributionData.get(n);return void(l?Tm(Xs,n,this._getDynamicAttribution(l,t,i)):$P(i)&&Tm(Xs,n,i.copyright))}return void this._fetchAttributionData(n)}const s="portalItem"in i?(a=i.portalItem)==null?void 0:a.accessInformation:void 0;Tm(Xs,n,s||i.copyright)}),_ae(this.items,Xs)&&(this.items.removeAll(),this.items.addMany(Xs)),Xs.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await o5(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const n=r.ok?this._createContributionIndex(r.value,bae(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)}this._updateAttributionItems()}_createContributionIndex(t,r){const n=t.contributors,i={};if(!n)return i;for(let s=0;s<n.length;s++){const o=n[s],a=o.coverageAreas;if(!a)return;for(const l of a){const c=l.bbox,d=l.zoomMin-(r&&l.zoomMin?1:0),f=l.zoomMax-(r&&l.zoomMax?1:0),m=new et({xmin:c[1],ymin:c[0],xmax:c[3],ymax:c[2],spatialReference:$e.WGS84}),y={extent:xl(m),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let g=d;g<=f;g++)i[g]??(i[g]=[]),i[g].push(y)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(t,r,n){var d;const{extent:i,scale:s}=r;let o=((d=n.tileInfo)==null?void 0:d.scaleToZoom(s))??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!i||o==null||o<=-1)return"";const a=t[o],l=Xg(i.center.clone().normalize(),r.spatialReference),c=new Set;return a?a.filter(f=>{const m=f.id,y=!c.has(m)&&l&&f.extent&&Qg(f.extent,l);return y&&c.add(m),y}).sort((f,m)=>m.score-f.score||f.objectId-m.objectId).map(f=>f.attribution).join(", "):""}};h([p({readOnly:!0,type:re})],Ru.prototype,"items",void 0),h([p({readOnly:!0})],Ru.prototype,"state",null),h([p()],Ru.prototype,"view",void 0),Ru=h([P("esri.widgets.Attribution.AttributionViewModel")],Ru);const z8=Ru,qr={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function mx(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:$ae(e[t])}}}function Sae(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function $ae(e){return function(t,...r){Sae(t)?CY(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function C1(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var xae=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},U8=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?U8(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=xae(i)),t.push(i))}},Tae=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return U8(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function qt(e,t,...r){return typeof e!="function"||gg(e)?Tae(e,t,...r):e(t,...r)}function nme(...e){return e}const yu="esri-attribution",Ta={base:yu,poweredBy:`${yu}__powered-by`,sources:`${yu}__sources`,open:`${yu}--open`,sourcesOpen:`${yu}__sources--open`,link:`${yu}__link`,widgetIcon:Yi.description};let rr=class extends mf{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.iconClass=Ta.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new z8}initialize(){this.addHandles(Nc(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Ta.open]:this._isOpen};return qt("div",{bind:this,class:this.classes(Ta.base,qr.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return qt("div",{class:Ta.poweredBy},"Powered by"," ",qt("a",{class:Ta.link,href:"http://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,n=r?0:void 0,{attributionText:i}=this,s={[Ta.sourcesOpen]:t,[qr.interactive]:r};return qt("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Ta.sources,s),innerHTML:i,tabIndex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:n,clientWidth:i,scrollWidth:s}=t,o=s>i,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(r=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};h([p()],rr.prototype,"_isOpen",void 0),h([p()],rr.prototype,"_isInteractive",null),h([p()],rr.prototype,"_attributionTextOverflowed",void 0),h([p()],rr.prototype,"_prevSourceNodeHeight",void 0),h([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],rr.prototype,"attributionText",null),h([p()],rr.prototype,"iconClass",void 0),h([p()],rr.prototype,"icon",void 0),h([p()],rr.prototype,"itemDelimiter",void 0),h([p()],rr.prototype,"label",null),h([p(),C1("esri/widgets/Attribution/t9n/Attribution")],rr.prototype,"messages",void 0),h([p()],rr.prototype,"view",null),h([p({type:z8})],rr.prototype,"viewModel",void 0),h([mx()],rr.prototype,"_toggleState",null),rr=h([P("esri.widgets.Attribution")],rr);const Mae=rr;function kae(e){var t,r;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((r=e==null?void 0:e.spatialReference)==null?void 0:r.isGeographic)||!1}const Eae=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return zI(n),this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return h([p()],t.prototype,"goToOverride",void 0),h([p()],t.prototype,"view",void 0),t=h([P("esri.widgets.support.GoTo")],t),t},Pae="esri.widgets.CompassViewModel";let Ka=class extends Eae(te){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(ce(()=>this.view,this._updateRotationWatcher,wr))}destroy(){this.view=null}get canShowNorth(){return kae(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var r,n;if(!((r=this.view)!=null&&r.ready))return;const t={};((n=this.view)==null?void 0:n.type)==="2d"?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(t){t!=null&&(this.orientation={z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this.orientation={x:0,y:0,z:r}}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?ce(()=>t==null?void 0:t.rotation,this._updateForRotation,wr):ce(()=>t==null?void 0:t.camera,this._updateForCamera,wr))}};h([p({readOnly:!0})],Ka.prototype,"canShowNorth",null),h([p()],Ka.prototype,"orientation",void 0),h([p({readOnly:!0})],Ka.prototype,"state",null),h([p()],Ka.prototype,"view",void 0),Ka=h([P(Pae)],Ka);const V8=Ka,xP="esri-compass",mw={base:xP,widgetIcon:Yi.locateCircled,iconContainer:`${xP}__icon-container`};let Ri=class extends mf{constructor(t,r){super(t,r),this.iconClass=mw.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new V8,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return cae({button:()=>H(()=>import("./calcite-button-a1408afd.js"),["assets/calcite-button-a1408afd.js","assets/label2-fa9ff6a9.js","assets/interactive-adb5c1bf.js","assets/loadable-530ff7e0.js","assets/t9n-504a4ac0.js","assets/observers-4b229c84.js","assets/icon-7f3b820f.js","assets/loader-38b4fe1a.js"]),icon:()=>H(()=>import("./calcite-icon-298eb896.js"),["assets/calcite-icon-298eb896.js","assets/icon-7f3b820f.js","assets/observers-4b229c84.js"])})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,n=r==="rotation"?"arrow-up":"compass-needle",{messages:i}=this;return qt("div",{class:this.classes(mw.base,qr.widget)},qt("calcite-button",{"aria-label":i.reset,class:qr.widgetButton,disabled:r==="disabled",kind:"neutral",onclick:this._reset,round:!0,scale:"s",title:i.reset},qt("div",{"aria-hidden":"true",class:mw.iconContainer,title:i.reset},qt("calcite-icon",{icon:n,scale:"m",styles:this._toRotationTransform(t)}))))}};h([p()],Ri.prototype,"goToOverride",null),h([p()],Ri.prototype,"iconClass",void 0),h([p()],Ri.prototype,"icon",void 0),h([p()],Ri.prototype,"label",null),h([p(),C1("esri/widgets/Compass/t9n/Compass")],Ri.prototype,"messages",void 0),h([p()],Ri.prototype,"view",null),h([p({type:V8})],Ri.prototype,"viewModel",void 0),Ri=h([P("esri.widgets.Compass")],Ri);const Cae=Ri,gu="esri-navigation-toggle",ns={base:gu,widgetIcon:Yi.pan2,button:`${gu}__button`,activeButton:`${gu}__button--active`,panButton:`${gu}__button--pan`,rotateButton:`${gu}__button--rotate`,isLayoutHorizontal:`${gu}--horizontal`};let Nu=class extends te{constructor(t){super(t),this.navigationMode="pan",this.view=null}initialize(){this.addHandles(Gl(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,r;return(t=this.view)!=null&&t.ready&&((r=this.view)==null?void 0:r.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){var r;const t=(r=this.view)==null?void 0:r.inputManager;t&&(t.primaryDragAction=this.navigationMode==="pan"?"pan":"rotate")}};h([p({readOnly:!0})],Nu.prototype,"state",null),h([p()],Nu.prototype,"navigationMode",void 0),h([p()],Nu.prototype,"view",void 0),Nu=h([P("esri.widgets.NavigationToggleViewModel")],Nu);const G8=Nu;let Wn=class extends mf{constructor(t,r){super(t,r),this.iconClass=ns.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new G8}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}toggle(){return this.viewModel.toggle()}render(){var l,c;const t=((l=this.viewModel)==null?void 0:l.state)==="disabled",r=((c=this.viewModel)==null?void 0:c.navigationMode)==="pan",n={[qr.disabled]:t,[ns.isLayoutHorizontal]:this.layout==="horizontal"},i={[ns.activeButton]:r},s={[ns.activeButton]:!r},o=t?-1:0,a=this.messages.toggle;return qt("div",{"aria-label":a,bind:this,class:this.classes(ns.base,qr.widget,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,title:a},qt("div",{class:this.classes(ns.button,qr.widgetButton,ns.panButton,i)},qt("span",{class:Yi.pan})),qt("div",{class:this.classes(ns.button,qr.widgetButton,ns.rotateButton,s)},qt("span",{class:Yi.rotate})))}_toggle(){this.toggle()}};h([p()],Wn.prototype,"iconClass",void 0),h([p()],Wn.prototype,"icon",void 0),h([p()],Wn.prototype,"label",null),h([p({value:"vertical"})],Wn.prototype,"layout",null),h([p(),C1("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Wn.prototype,"messages",void 0),h([p()],Wn.prototype,"view",null),h([p({type:G8})],Wn.prototype,"viewModel",void 0),h([mx()],Wn.prototype,"_toggle",null),Wn=h([P("esri.widgets.NavigationToggle")],Wn);const Oae=Wn,Rt="esri-feature",Iae={base:Rt,container:`${Rt}__size-container`,title:`${Rt}__title`,main:`${Rt}__main-container`,btn:`${Rt}__button`,icon:`${Rt}__icon`,content:`${Rt}__content`,contentNode:`${Rt}__content-node`,contentNodeText:`${Rt}__content-node--text`,contentElement:`${Rt}__content-element`,text:`${Rt}__text`,lastEditedInfo:`${Rt}__last-edited-info`,fields:`${Rt}__fields`,fieldHeader:`${Rt}__field-header`,fieldData:`${Rt}__field-data`,fieldDataDate:`${Rt}__field-data--date`,loadingSpinnerContainer:`${Rt}__loading-container`,spinner:`${Rt}__loading-spinner`};let ms=class extends mf{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const t=this.enabled?0:-1,r={[qr.disabled]:!this.enabled,[qr.interactive]:this.enabled};return qt("div",{bind:this,class:this.classes(qr.widgetButton,qr.widget,r),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},qt("span",{"aria-hidden":"true",class:this.classes(Iae.icon,this.iconClass??""),role:"presentation"}),qt("span",{class:Yi.fontFallbackText},this.title))}_triggerAction(){this.action.call(this)}};h([p()],ms.prototype,"action",void 0),h([p()],ms.prototype,"enabled",void 0),h([p()],ms.prototype,"iconClass",void 0),h([p()],ms.prototype,"icon",void 0),h([p()],ms.prototype,"title",void 0),h([mx()],ms.prototype,"_triggerAction",null),ms=h([P("esri.widgets.IconButton")],ms);const TP=ms;let Xa=class extends te{get canZoomIn(){var n,i,s;if(!((n=this.view)==null?void 0:n.ready))return!1;const r=(s=(i=this.view)==null?void 0:i.constraints)==null?void 0:s.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){var i;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const n=(i=t.constraints)==null?void 0:i.effectiveMinScale;return n===0||this._scale<n}get _scale(){var r,n,i;const t=(n=(r=this.view)==null?void 0:r.animation)==null?void 0:n.target;return(t&&"then"in t||t==null?void 0:t.scale)??((i=this.view)==null?void 0:i.scale)??0}};h([p({readOnly:!0})],Xa.prototype,"canZoomIn",null),h([p({readOnly:!0})],Xa.prototype,"canZoomOut",null),h([p()],Xa.prototype,"view",void 0),h([p()],Xa.prototype,"_scale",null),Xa=h([P("esri.widgets.Zoom.ZoomConditions2D")],Xa);const Aae=Xa;let Du=class extends te{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};h([p({readOnly:!0})],Du.prototype,"canZoomIn",null),h([p({readOnly:!0})],Du.prototype,"canZoomOut",null),h([p()],Du.prototype,"view",void 0),Du=h([P("esri.widgets.Zoom.ZoomConditions3D")],Du);const Lae=Du;let _o=class extends te{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new Aae({view:t}):t.type==="3d"&&(this._zoomConditions=new Lae({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():lM(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():lM(t.goTo({zoomFactor:.5}))}};h([p()],_o.prototype,"_zoomConditions",void 0),h([p()],_o.prototype,"canZoomIn",null),h([p()],_o.prototype,"canZoomOut",null),h([p({readOnly:!0})],_o.prototype,"state",null),h([p()],_o.prototype,"view",null),_o=h([P("esri.widgets.Zoom.ZoomViewModel")],_o);const W8=_o,yw={base:"esri-zoom",widgetIcon:Yi.zoomInMagnifyingGlass,horizontalLayout:"esri-zoom--horizontal"};let Ni=class extends mf{constructor(t,r){super(t,r),this.iconClass=yw.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new W8}initialize(){this._zoomInButton=new TP({action:this.zoomIn.bind(this),iconClass:Yi.plus}),this._zoomOutButton=new TP({action:this.zoomOut.bind(this),iconClass:Yi.minus})}destroy(){this._zoomInButton=Ze(this._zoomInButton),this._zoomOutButton=Ze(this._zoomOutButton)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t=this.viewModel,r={[yw.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:i}=t;this._zoomInButton.enabled=n,this._zoomOutButton.enabled=i;const{zoomIn:s,zoomOut:o}=this.messages;return this._zoomInButton.title=s,this._zoomOutButton.title=o,qt("div",{class:this.classes(yw.base,qr.widget,r)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};h([p()],Ni.prototype,"iconClass",void 0),h([p()],Ni.prototype,"icon",void 0),h([p()],Ni.prototype,"label",null),h([p({value:"vertical"})],Ni.prototype,"layout",null),h([p(),C1("esri/widgets/Zoom/t9n/Zoom")],Ni.prototype,"messages",void 0),h([p()],Ni.prototype,"view",null),h([p({type:W8})],Ni.prototype,"viewModel",void 0),Ni=h([P("esri.widgets.Zoom")],Ni);const Rae=Ni;function Nae(e){return(e==null?void 0:e.view)!==void 0}let Oy=class extends Nse{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(n=>{const i=this._find(n),s=i==null?void 0:i.widget;Nae(s)&&(s.view=r)})},this._componentsWatcher=(r,n)=>{this._removeComponents(n),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([ce(()=>this.components,this._componentsWatcher,wr),ce(()=>this.view,this._updateViewAwareWidgets,wr)])}_add(t,r,n,i,s){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,r,n,i,s)}_removeComponents(t){t.forEach(r=>{const n=this._find(r);n&&(this.remove(n),n.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new Cy({id:t,node:r})}_createWidget(t){const{view:r}=this;switch(t){case"attribution":return new Mae({view:r});case"compass":return new Cae({view:r});case"navigation-toggle":return new Oae({view:r});case"zoom":return new Rae({view:r})}}};h([p()],Oy.prototype,"components",void 0),Oy=h([P("esri.views.ui.DefaultUI")],Oy);const B8=Oy;let Iy=class extends B8{constructor(t){super(t),this.components=["attribution","zoom"]}};h([p()],Iy.prototype,"components",void 0),Iy=h([P("esri.views.ui.2d.DefaultUI2D")],Iy);const H8=Iy;var nS;let Ay=nS=class extends ne{constructor(e){super(e),this.color=new ye([0,0,0,1])}clone(){return new nS(j({color:this.color}))}};h([p({type:ye,json:{write:!0}})],Ay.prototype,"color",void 0),Ay=nS=h([P("esri.webmap.background.ColorBackground")],Ay);const Dae=Ay;let q8,Z8,J8,Y8,K8,X8;async function Fae(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,Stage:s}]=await Promise.all([H(()=>import("./webglDeps-9aea9c75.js"),["assets/webglDeps-9aea9c75.js","assets/FramebufferObject-d5b7affd.js","assets/Texture-f675116c.js","assets/enums-bdecffa2.js","assets/ProgramTemplate-ade57408.js","assets/programUtils-9399f41b.js","assets/NestedMap-1b5db22e.js"]),H(()=>import("./mapViewDeps-6c68c0db.js"),["assets/mapViewDeps-6c68c0db.js","assets/ExpandedCIM-cc180b11.js","assets/BidiEngine-9a40f2f4.js","assets/visualVariablesUtils-73d1d4d8.js","assets/OptimizedGeometry-d94e541f.js","assets/color-430dd9e0.js","assets/enums-f1a6a48a.js","assets/enums-bdecffa2.js","assets/VertexElementDescriptor-2925c6af.js","assets/definitions-d28bab5c.js","assets/GeometryUtils-984e8446.js","assets/utils-55c191c7.js","assets/GeometryUtils-f6e6151e.js","assets/Rect-ea14f53a.js","assets/quantizationUtils-4acc4a23.js","assets/floatRGBA-adf8f6af.js","assets/imageUtils-7a465f28.js","assets/Container-f2d36f2f.js","assets/Texture-f675116c.js","assets/BufferPool-befa182b.js","assets/AttributeStoreView-302aad8c.js","assets/TiledDisplayObject-d74621e4.js","assets/diffUtils-9dbdd340.js","assets/labelingInfo-8214bb11.js","assets/LabelClass-67c7130a.js","assets/labelUtils-39618ac3.js","assets/defaultsJSON-b087dd4d.js","assets/jsonUtils-805d1979.js","assets/WGLContainer-35b97840.js","assets/FramebufferObject-d5b7affd.js","assets/ProgramTemplate-ade57408.js","assets/heatmapUtils-485005f9.js","assets/vec4f64-3c9d0901.js","assets/StyleDefinition-29c49b98.js","assets/config-1337d16e.js","assets/earcut-fb2d01fb.js","assets/featureConversionUtils-bfaae0f6.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/clusterUtils-6b9076e5.js","assets/MD5-715f37cd.js","assets/SizeVariable-0dc1bc42.js","assets/colorRamps-763955b0.js","assets/LegendOptions-48c2523d.js","assets/util-a284bd77.js","assets/enums-fb086c25.js","assets/programUtils-9399f41b.js","assets/NestedMap-1b5db22e.js","assets/MagnifierPrograms-2c5185f8.js","assets/rasterizingUtils-f8b3e6ff.js","assets/pbf-08dd563b.js","assets/imageutils-e6922af3.js","assets/Matcher-1fcb2229.js","assets/tileUtils-c2f19f52.js","assets/TurboLine-8e67d24e.js","assets/LRUCache-c7a923e7.js","assets/CircularArray-ef508845.js","assets/testSVGPremultipliedAlpha-9055109d.js","assets/throttle-7bf02de9.js","assets/ComputedAttributeStorage-a7df6cd1.js","assets/FieldsIndex-3d8128c0.js","assets/UnknownTimeZone-d5028e24.js","assets/TimeOnly-f35243a6.js","assets/RenderingContext-8c05ccc2.js","assets/OrderIndependentTransparency-6ae10952.js","assets/basicInterfaces-11f56cb3.js","assets/doublePrecisionUtils-e3c3d0d8.js","assets/GraphicsView2D-9be86d91.js","assets/normalizeUtilsSync-62ac54ad.js","assets/projectionSupport-131d63cd.js","assets/json-48e3ea08.js","assets/GraphicContainer-ed4da031.js","assets/BaseGraphicContainer-ea792e77.js","assets/FeatureContainer-ac3e4d66.js","assets/TileContainer-d3fa1aca.js","assets/vec3f32-2da9db36.js","assets/requestImageUtils-6312ca62.js"])]);Z8=e,J8=t,Y8=r,K8=n,X8=i,q8=s}let ie=class extends PJ(sK(BY(Lte))){constructor(e){super(e),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new bp({getCollections:()=>{var t,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new ky({view:this}),this.graphicsView=null,this.stateManager=new pr({constraints:new P6({view:this})}),this.stationaryManager=new gd,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new hne(this),this.floors=new re,this.highlightOptions=new Z6,this.inputManager=new Bie({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Q6,this.type="2d",this.ui=new H8,this.test={takeScreenshot:async t=>fse(this._getScreenshotView(t),t)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([ce(()=>this.viewpoint,()=>this.stationaryManager.flip(),Jc),this.on("resize",t=>this.stateManager.resize(t.width,t.height)),ce(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),WZ()}destroy(){this._set("preconditionsReady",!1),this.frameTask=Ze(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Qie(this.featuresTilingScheme)}get constraintsInfo(){var r,n;const e=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,t=this.spatialReference;return{lods:(n=e==null?void 0:e.spatialReference)!=null&&n.equals(t)?e.lods:null,spatialReference:t}}get state(){return this.stateManager.state}get initialExtentRequired(){var o;if(!this.stateManager)return!1;const{scale:e,constraints:t,center:r,viewpoint:n,extent:i}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((o=this.map.initialViewProperties)!=null&&o.viewpoint))&&!i&&(t!=null&&t.effectiveLODs||(s=-1),(!r||e===0&&s===-1)&&((n==null?void 0:n.targetGeometry)==null||n.targetGeometry.type!=="extent"&&!n.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,r=e.targetGeometry;return!!Fs(r.spatialReference,t)||xL()}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",e),this.frameTask.animationInProgress=!0;const r=()=>{var n;e===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame()),this.frameTask.animationInProgress=!1};e.when(r,r)}get background(){return MP(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get constraints(){var e;return(e=this.stateManager)==null?void 0:e.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t==null||t.destroy()}get extent(){var e;return((e=this.stateManager)==null?void 0:e.extent)??null}set extent(e){this.stateManager.extent=e}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get updating(){var t,r,n;const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(i=>!i.destroyed&&!("layerViews"in i)&&i.updating===!0));if(L("esri-2d-log-updating")){const i=this.allLayerViews.reduce((s,o)=>({...s,[o.layer.id]:!o.destroyed&&!("layerViews"in o)&&o.updating}),{});console.log(`Updating MapView: ${e}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(t=this.layerViewManager)==null?void 0:t.updating}
-> labelManager.updating: ${(r=this.labelManager)==null?void 0:r.updating}
-> graphicsView.updating: ${(n=this.graphicsView)==null?void 0:n.updating}
-> allLayerViews: ${JSON.stringify(i)}
`)}return e}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}goTo(e,t){return this.goToManager.goTo(e,t)}async hitTest(e,t){return ese(this,e,t)}async takeScreenshot(e){return pse(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=WN(e)?GN(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}on(e,t,r,n){return this.inputManager&&this.viewEvents.on(e,t,r,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}getDefaultTimeZone(){return MP(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(e){return jE.hasLayerViewModule(e)}importLayerView(e){return jE.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(W.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=Mse(this.type);if(L("safari")&&L("safari")<9&&(e=new G("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:L("safari")})),e!=null)throw W.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return Fae()}_getDefaultViewpoint(){var v;const{constraints:e,initialExtent:t,map:r,padding:n,size:i}=this;if(!e)return null;const s=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),a=s==null?void 0:s.viewpoint,l=((v=a==null?void 0:a.targetGeometry)==null?void 0:v.extent)??t,c=l==null?void 0:l.center,d=(a==null?void 0:a.rotation)??0,f=(a==null?void 0:a.scale)||l&&yc(l,[i[0]-n.left-n.right,i[1]-n.top-n.bottom]),m=o.center??c,y=o.rotation??d,g=o.scale??f;return m&&g?new Wi({targetGeometry:m,scale:g,rotation:y}):null}_startup(){var o;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(o=this.defaultsFromMap.extent)==null?void 0:o.center),this.graphics.owner=this;const t=new q8(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new X8,this._magnifierView.magnifier=this.magnifier;const r=new Y8({view:this});this._set("labelManager",r);const n=new cne({view:this});this._set("animationManager",n);const i=new K8({view:this,animationManager:n});this._set("mapViewNavigation",i),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),t.on("webgl-error",a=>this.fatalError=a.error),ce(()=>this.stationary,a=>t.stationary=a,Ss),ce(()=>this.background,a=>{t.backgroundColor=a==null?void 0:a.color,this._magnifierView.backgroundColor=a==null?void 0:a.color},Ss),ce(()=>this.magnifier,a=>this._magnifierView.magnifier=a,Ss),ce(()=>this.renderingOptions,a=>t.renderingOptions=a,Ss),ce(()=>this.highlightOptions,a=>t.highlightOptions=a,Ss),ce(()=>this.state.id,()=>t.state=this.state,Ss)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(a=>a(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown(),this.animation=null}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new wne(kJ.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new Z8({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new J8(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var s;const{allLayerViews:t,padding:r,size:n,stage:i}=this;return{allLayerViews:t,backgroundColor:e!=null&&e.ignoreBackground?null:(s=this.background)==null?void 0:s.color,padding:r,size:n,stage:i}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const t of this.allLayerViews)t.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const t of this.allLayerViews)t.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};ie.type="2d",h([p({readOnly:!0})],ie.prototype,"animationManager",void 0),h([p({constructOnly:!0})],ie.prototype,"deactivatedWebGLExtensions",void 0),h([p({constructOnly:!0})],ie.prototype,"debugWebGLExtensions",void 0),h([p({readOnly:!0})],ie.prototype,"featuresTilingScheme",void 0),h([p({readOnly:!0})],ie.prototype,"fullOpacity",void 0),h([p()],ie.prototype,"goToManager",void 0),h([p({readOnly:!0})],ie.prototype,"graphicsTileStore",null),h([p()],ie.prototype,"graphicsView",void 0),h([p()],ie.prototype,"stateManager",void 0),h([p()],ie.prototype,"constraintsInfo",null),h([p({readOnly:!0})],ie.prototype,"state",null),h([p()],ie.prototype,"initialExtentRequired",null),h([p()],ie.prototype,"labelManager",void 0),h([p({readOnly:!0})],ie.prototype,"mapViewNavigation",void 0),h([p({constructOnly:!0})],ie.prototype,"renderCanvas",void 0),h([p()],ie.prototype,"renderingOptions",void 0),h([p({constructOnly:!0})],ie.prototype,"supersampleScreenshotsEnabled",void 0),h([p({readOnly:!0})],ie.prototype,"supportsGround",void 0),h([p()],ie.prototype,"_defaultsFromMapSettings",null),h([p({readOnly:!0})],ie.prototype,"typeSpecificPreconditionsReady",null),h([p()],ie.prototype,"animation",null),h([p({type:Dae})],ie.prototype,"background",null),h([p()],ie.prototype,"center",null),h([p({type:P6})],ie.prototype,"constraints",null),h([p()],ie.prototype,"extent",null),h([p()],ie.prototype,"floors",void 0),h([p({type:Z6})],ie.prototype,"highlightOptions",void 0),h([p({readOnly:!0})],ie.prototype,"inputManager",void 0),h([p()],ie.prototype,"map",void 0),h([p()],ie.prototype,"padding",null),h([p({readOnly:!0})],ie.prototype,"rendering",null),h([p()],ie.prototype,"resizeAlign",null),h([p({readOnly:!0})],ie.prototype,"resolution",null),h([p()],ie.prototype,"rotation",null),h([p()],ie.prototype,"scale",null),h([p({constructOnly:!0})],ie.prototype,"spatialReferenceLocked",void 0),h([p()],ie.prototype,"stationary",null),h([p({type:Q6,readOnly:!0})],ie.prototype,"timeline",void 0),h([p({readOnly:!0})],ie.prototype,"type",void 0),h([p({readOnly:!0})],ie.prototype,"updating",null),h([p()],ie.prototype,"viewpoint",null),h([p()],ie.prototype,"zoom",null),h([p({readOnly:!0})],ie.prototype,"navigating",null),h([p(),_r(e=>e instanceof B8?e:y$(H8,e))],ie.prototype,"ui",void 0),ie=h([P("esri.views.MapView")],ie);const jae=ie;function MP(e){return(e==null?void 0:e.declaredClass)==="esri.WebMap"}var kP,EP,iS={exports:{}};iS.exports,EP=function(){function e(i,s){function o(){this.constructor=i}o.prototype=s.prototype,i.prototype=new o}function t(i,s,o,a){var l=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=s,l.found=o,l.location=a,l.name="SyntaxError",l}function r(i,s,o){return o=o||" ",i.length>s?i:(s-=i.length,i+(o+=o.repeat(s)).slice(0,s))}function n(i,s){var o,a={},l=(s=s!==void 0?s:{}).grammarSource,c={start:$x},d=$x,f="none",m=")",y=",",g="(",v="%",$="px",_="cm",b="mm",S="in",x="pt",M="pc",k="deg",O="rad",A="grad",V="turn",F="#",q=".",X="e",de=/^[ \t\n\r]/,Y=/^[a-z\-]/,Ye=/^[0-9a-fA-F]/,Gt=/^[+\-]/,Ce=/^[0-9]/,N=Qi("none"),Q=It("none",!1),oe=It(")",!1),we=It(",",!1),tt=Qi("whitespace"),Pn=sh([" ","	",`
`,"\r"],!1,!1),$r=Qi("function"),Cn=It("(",!1),xr=Qi("identifier"),jr=sh([["a","z"],"-"],!1,!1),Xi=Qi("percentage"),ih=It("%",!1),ou=Qi("length"),mi=It("px",!1),rD=It("cm",!1),nD=It("mm",!1),iD=It("in",!1),sD=It("pt",!1),oD=It("pc",!1),aD=Qi("angle"),lD=It("deg",!1),uD=It("rad",!1),cD=It("grad",!1),hD=It("turn",!1),dD=Qi("number"),pD=Qi("color"),fD=It("#",!1),wx=sh([["0","9"],["a","f"],["A","F"]],!1,!1),_x=sh(["+","-"],!1,!1),Us=sh([["0","9"]],!1,!1),mD=It(".",!1),yD=It("e",!1),gD=function(){return[]},vD=function(T,R){return{type:"function",name:T,parameters:R||[]}},wD=function(T,R){return R.length>0?XD(T,R,3):[T]},_D=function(T){return{type:"quantity",value:T.value,unit:T.unit}},bD=function(T){return{type:"color",colorType:T.type,value:T.value}},SD=function(T){return T},$D=function(){return vf()},xD=function(T){return{value:T,unit:"%"}},TD=function(T){return{value:T,unit:"px"}},MD=function(T){return{value:T,unit:"cm"}},kD=function(T){return{value:T,unit:"mm"}},ED=function(T){return{value:T,unit:"in"}},PD=function(T){return{value:T,unit:"pt"}},CD=function(T){return{value:T,unit:"pc"}},OD=function(T){return{value:T,unit:"deg"}},ID=function(T){return{value:T,unit:"rad"}},AD=function(T){return{value:T,unit:"grad"}},LD=function(T){return{value:T,unit:"turn"}},RD=function(T){return{value:T,unit:null}},ND=function(){return{type:"hex",value:vf()}},DD=function(T){return{type:"function",value:T}},FD=function(){return{type:"named",value:vf()}},jD=function(){return parseFloat(vf())},I=0,Ke=0,gf=[{line:1,column:1}],yi=0,I1=[],J=0;if("startRule"in s){if(!(s.startRule in c))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');d=c[s.startRule]}function vf(){return i.substring(Ke,I)}function It(T,R){return{type:"literal",text:T,ignoreCase:R}}function sh(T,R,D){return{type:"class",parts:T,inverted:R,ignoreCase:D}}function zD(){return{type:"end"}}function Qi(T){return{type:"other",description:T}}function bx(T){var R,D=gf[T];if(D)return D;for(R=T-1;!gf[R];)R--;for(D={line:(D=gf[R]).line,column:D.column};R<T;)i.charCodeAt(R)===10?(D.line++,D.column=1):D.column++,R++;return gf[T]=D,D}function Sx(T,R,D){var pe=bx(T),gt=bx(R),Oe={source:l,start:{offset:T,line:pe.line,column:pe.column},end:{offset:R,line:gt.line,column:gt.column}};return D&&l&&typeof l.offset=="function"&&(Oe.start=l.offset(Oe.start),Oe.end=l.offset(Oe.end)),Oe}function le(T){I<yi||(I>yi&&(yi=I,I1=[]),I1.push(T))}function UD(T,R,D){return new t(t.buildMessage(T,R),T,R,D)}function $x(){var T;return(T=VD())===a&&(T=GD()),T}function VD(){var T,R;return J++,T=I,At(),i.substr(I,4)===f?(R=f,I+=4):(R=a,J===0&&le(Q)),R!==a?(At(),Ke=T,T=gD()):(I=T,T=a),J--,T===a&&J===0&&le(N),T}function GD(){var T,R;if(T=[],(R=A1())!==a)for(;R!==a;)T.push(R),R=A1();else T=a;return T}function A1(){var T,R,D,pe;return T=I,At(),(R=BD())!==a?(At(),(D=WD())===a&&(D=null),At(),i.charCodeAt(I)===41?(pe=m,I++):(pe=a,J===0&&le(oe)),pe!==a?(At(),Ke=T,T=vD(R,D)):(I=T,T=a)):(I=T,T=a),T}function WD(){var T,R,D,pe,gt,Oe,sn,wf;if(T=I,(R=L1())!==a){for(D=[],pe=I,gt=At(),i.charCodeAt(I)===44?(Oe=y,I++):(Oe=a,J===0&&le(we)),Oe===a&&(Oe=null),sn=At(),(wf=L1())!==a?pe=gt=[gt,Oe,sn,wf]:(I=pe,pe=a);pe!==a;)D.push(pe),pe=I,gt=At(),i.charCodeAt(I)===44?(Oe=y,I++):(Oe=a,J===0&&le(we)),Oe===a&&(Oe=null),sn=At(),(wf=L1())!==a?pe=gt=[gt,Oe,sn,wf]:(I=pe,pe=a);Ke=T,T=wD(R,D)}else I=T,T=a;return T}function L1(){var T,R;return T=I,(R=HD())===a&&(R=qD())===a&&(R=ZD())===a&&(R=JD()),R!==a&&(Ke=T,R=_D(R)),(T=R)===a&&(T=I,(R=YD())!==a&&(Ke=T,R=bD(R)),T=R),T}function At(){var T,R;for(J++,T=[],de.test(i.charAt(I))?(R=i.charAt(I),I++):(R=a,J===0&&le(Pn));R!==a;)T.push(R),de.test(i.charAt(I))?(R=i.charAt(I),I++):(R=a,J===0&&le(Pn));return J--,R=a,J===0&&le(tt),T}function BD(){var T,R,D;return J++,T=I,(R=xx())!==a?(i.charCodeAt(I)===40?(D=g,I++):(D=a,J===0&&le(Cn)),D!==a?(Ke=T,T=SD(R)):(I=T,T=a)):(I=T,T=a),J--,T===a&&(R=a,J===0&&le($r)),T}function xx(){var T,R,D;if(J++,T=I,R=[],Y.test(i.charAt(I))?(D=i.charAt(I),I++):(D=a,J===0&&le(jr)),D!==a)for(;D!==a;)R.push(D),Y.test(i.charAt(I))?(D=i.charAt(I),I++):(D=a,J===0&&le(jr));else R=a;return R!==a&&(Ke=T,R=$D()),J--,(T=R)===a&&(R=a,J===0&&le(xr)),T}function HD(){var T,R,D;return J++,T=I,At(),(R=nn())!==a?(i.charCodeAt(I)===37?(D=v,I++):(D=a,J===0&&le(ih)),D!==a?(Ke=T,T=xD(R)):(I=T,T=a)):(I=T,T=a),J--,T===a&&J===0&&le(Xi),T}function qD(){var T,R,D;return J++,T=I,At(),(R=nn())!==a?(i.substr(I,2)===$?(D=$,I+=2):(D=a,J===0&&le(mi)),D!==a?(Ke=T,T=TD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,At(),(R=nn())!==a?(i.substr(I,2)===_?(D=_,I+=2):(D=a,J===0&&le(rD)),D!==a?(Ke=T,T=MD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,At(),(R=nn())!==a?(i.substr(I,2)===b?(D=b,I+=2):(D=a,J===0&&le(nD)),D!==a?(Ke=T,T=kD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,At(),(R=nn())!==a?(i.substr(I,2)===S?(D=S,I+=2):(D=a,J===0&&le(iD)),D!==a?(Ke=T,T=ED(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,At(),(R=nn())!==a?(i.substr(I,2)===x?(D=x,I+=2):(D=a,J===0&&le(sD)),D!==a?(Ke=T,T=PD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,At(),(R=nn())!==a?(i.substr(I,2)===M?(D=M,I+=2):(D=a,J===0&&le(oD)),D!==a?(Ke=T,T=CD(R)):(I=T,T=a)):(I=T,T=a)))))),J--,T===a&&J===0&&le(ou),T}function ZD(){var T,R,D;return J++,T=I,(R=nn())!==a?(i.substr(I,3)===k?(D=k,I+=3):(D=a,J===0&&le(lD)),D!==a?(Ke=T,T=OD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,(R=nn())!==a?(i.substr(I,3)===O?(D=O,I+=3):(D=a,J===0&&le(uD)),D!==a?(Ke=T,T=ID(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,(R=nn())!==a?(i.substr(I,4)===A?(D=A,I+=4):(D=a,J===0&&le(cD)),D!==a?(Ke=T,T=AD(R)):(I=T,T=a)):(I=T,T=a),T===a&&(T=I,(R=nn())!==a?(i.substr(I,4)===V?(D=V,I+=4):(D=a,J===0&&le(hD)),D!==a?(Ke=T,T=LD(R)):(I=T,T=a)):(I=T,T=a)))),J--,T===a&&(R=a,J===0&&le(aD)),T}function JD(){var T,R;return J++,T=I,At(),(R=nn())!==a?(Ke=T,T=RD(R)):(I=T,T=a),J--,T===a&&J===0&&le(dD),T}function YD(){var T,R,D,pe;if(J++,T=I,i.charCodeAt(I)===35?(R=F,I++):(R=a,J===0&&le(fD)),R!==a){if(D=[],Ye.test(i.charAt(I))?(pe=i.charAt(I),I++):(pe=a,J===0&&le(wx)),pe!==a)for(;pe!==a;)D.push(pe),Ye.test(i.charAt(I))?(pe=i.charAt(I),I++):(pe=a,J===0&&le(wx));else D=a;D!==a?(Ke=T,T=ND()):(I=T,T=a)}else I=T,T=a;return T===a&&(T=I,(R=A1())!==a&&(Ke=T,R=DD(R)),(T=R)===a&&(T=I,(R=xx())!==a&&(Ke=T,R=FD()),T=R)),J--,T===a&&(R=a,J===0&&le(pD)),T}function nn(){var T,R,D,pe,gt,Oe,sn;for(T=I,Gt.test(i.charAt(I))?(i.charAt(I),I++):J===0&&le(_x),R=I,D=[],Ce.test(i.charAt(I))?(pe=i.charAt(I),I++):(pe=a,J===0&&le(Us));pe!==a;)D.push(pe),Ce.test(i.charAt(I))?(pe=i.charAt(I),I++):(pe=a,J===0&&le(Us));if(i.charCodeAt(I)===46?(pe=q,I++):(pe=a,J===0&&le(mD)),pe!==a){if(gt=[],Ce.test(i.charAt(I))?(Oe=i.charAt(I),I++):(Oe=a,J===0&&le(Us)),Oe!==a)for(;Oe!==a;)gt.push(Oe),Ce.test(i.charAt(I))?(Oe=i.charAt(I),I++):(Oe=a,J===0&&le(Us));else gt=a;gt!==a?R=D=[D,pe,gt]:(I=R,R=a)}else I=R,R=a;if(R===a)if(R=[],Ce.test(i.charAt(I))?(D=i.charAt(I),I++):(D=a,J===0&&le(Us)),D!==a)for(;D!==a;)R.push(D),Ce.test(i.charAt(I))?(D=i.charAt(I),I++):(D=a,J===0&&le(Us));else R=a;if(R!==a){if(D=I,i.charCodeAt(I)===101?(pe=X,I++):(pe=a,J===0&&le(yD)),pe!==a){if(Gt.test(i.charAt(I))?(gt=i.charAt(I),I++):(gt=a,J===0&&le(_x)),gt===a&&(gt=null),Oe=[],Ce.test(i.charAt(I))?(sn=i.charAt(I),I++):(sn=a,J===0&&le(Us)),sn!==a)for(;sn!==a;)Oe.push(sn),Ce.test(i.charAt(I))?(sn=i.charAt(I),I++):(sn=a,J===0&&le(Us));else Oe=a;Oe!==a?D=pe=[pe,gt,Oe]:(I=D,D=a)}else I=D,D=a;D===a&&(D=null),Ke=T,T=jD()}else I=T,T=a;return T}function KD(T,R){return T.map(function(D){return D[R]})}function XD(T,R,D){return[T].concat(KD(R,D))}if((o=d())!==a&&I===i.length)return o;throw o!==a&&I<i.length&&le(zD()),UD(I1,yi<i.length?i.charAt(yi):null,yi<i.length?Sx(yi,yi+1):Sx(yi,yi))}return e(t,Error),t.prototype.format=function(i){var s="Error: "+this.message;if(this.location){var o,a=null;for(o=0;o<i.length;o++)if(i[o].source===this.location.source){a=i[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(l):l,d=this.location.source+":"+c.line+":"+c.column;if(a){var f=this.location.end,m=r("",c.line.toString().length," "),y=a[l.line-1],g=(l.line===f.line?f.column:y.length+1)-l.column||1;s+=`
 --> `+d+`
`+m+` |
`+c.line+" | "+y+`
`+m+" | "+r("",l.column-1," ")+r("",g,"^")}else s+=`
 at `+d}return s},t.buildMessage=function(i,s){var o={literal:function(y){return'"'+l(y.text)+'"'},class:function(y){var g=y.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(y.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function a(y){return y.charCodeAt(0).toString(16).toUpperCase()}function l(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function c(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function d(y){return o[y.type](y)}function f(y){var g,v,$=y.map(d);if($.sort(),$.length>0){for(g=1,v=1;g<$.length;g++)$[g-1]!==$[g]&&($[v]=$[g],v++);$.length=v}switch($.length){case 1:return $[0];case 2:return $[0]+" or "+$[1];default:return $.slice(0,-1).join(", ")+", or "+$[$.length-1]}}function m(y){return y?'"'+l(y)+'"':"end of input"}return"Expected "+f(i)+" but "+m(s)+" found."},{SyntaxError:t,parse:n}},(kP=iS).exports&&(kP.exports=EP());var zae=iS.exports;function Q8(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=PP(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new G("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:PP(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!KX(t[r].effects,t[r+1].effects))throw new G("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});XX(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function PP(e){let t;if(!e)return[];try{t=zae.parse(e)}catch(r){throw new G("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>Uae(r))}function Uae(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Vae(e);case"opacity":return Gae(e);case"hue-rotate":return Wae(e);case"blur":return Bae(e);case"drop-shadow":return Hae(e);case"bloom":return qae(e)}}catch(t){throw t.details.filter=e,t}throw new G("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function Vae(e){let t=1;return nh(e.parameters,1),e.parameters.length===1&&(t=Yn(e.parameters[0])),new M2(e.name,t)}function Gae(e){let t=1;return nh(e.parameters,1),e.parameters.length===1&&(t=Yn(e.parameters[0])),new IR(t)}function Wae(e){let t=0;return nh(e.parameters,1),e.parameters.length===1&&(t=Qae(e.parameters[0])),new CR(t)}function Bae(e){let t=0;return nh(e.parameters,1),e.parameters.length===1&&(t=vx(e.parameters[0]),yf(t,e.parameters[0])),new TR(t)}function Hae(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new G("effect:type-error","Accepts only one color",{});r=ele(n)}else{const i=vx(n);if(Object.isFrozen(t))throw new G("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&yf(i,n)}if(t.length<2||t.length>3)throw new G("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new ER(t[0],t[1],t[2]||0,r||eD("black"))}function qae(e){let t=1,r=0,n=0;return nh(e.parameters,3),e.parameters[0]&&(t=Yn(e.parameters[0])),e.parameters[1]&&(r=vx(e.parameters[1]),yf(r,e.parameters[1])),e.parameters[2]&&(n=Yn(e.parameters[2])),new $R(t,r,n)}function nh(e,t){if(e.length>t)throw new G("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function O1(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in gx)return"<length>";if(e.unit in yx)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function yf(e,t){if(e<0)throw new G("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function Zae(e){if(e.type!=="quantity"||e.unit!==null)throw new G("effect:type-error",`Expected <double>, Actual: ${O1(e)}`,{term:e})}function Jae(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new G("effect:type-error",`Expected <double> or <percentage>, Actual: ${O1(e)}`,{term:e})}const yx={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Yae(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&yx[e.unit]!=null))throw new G("effect:type-error",`Expected <angle>, Actual: ${O1(e)}`,{term:e})}const gx={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Kae(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&gx[e.unit]!=null))throw new G("effect:type-error",`Expected <length>, Actual: ${O1(e)}`,{term:e})}function Yn(e){Jae(e);const t=e.value;return yf(t,e),e.unit==="%"?.01*t:t}function Xae(e){return Zae(e),yf(e.value,e),e.value}function Qae(e){return Yae(e),e.value*yx[e.unit]||0}function vx(e){return Kae(e),e.value*gx[e.unit]||0}function ele(e){switch(e.colorType){case"hex":return zK(e.value);case"named":return eD(e.value);case"function":return nle(e.value)}}function eD(e){if(!cR(e))throw new G("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return jK(e)}const tle=/^rgba?/i,rle=/^hsla?/i;function nle(e){if(nh(e.parameters,4),tle.test(e.name))return[Yn(e.parameters[0]),Yn(e.parameters[1]),Yn(e.parameters[2]),e.parameters[3]?Yn(e.parameters[3]):1];if(rle.test(e.name))return hR(Xae(e.parameters[0]),Yn(e.parameters[1]),Yn(e.parameters[2]),e.parameters[3]?Yn(e.parameters[3]):1);throw new G("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function ile(e,t,r){var n;try{return ale(e)}catch(i){(n=r==null?void 0:r.messages)==null||n.push(i)}return null}function sle(e,t,r,n){try{const i=ole(e);Kl(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function ole(e){const t=Q8(e);return t?QX(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function ale(e){if(!e||e.length===0)return null;if(lle(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:CP(r.value)});return t}return CP(e)}function lle(e){const t=e[0];return!!t&&"scale"in t}function CP(e){if(!(e!=null&&e.length))return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[is(r,"amount")];break;case"blur":n=[is(r,"radius","pt")];break;case"hue-rotate":n=[is(r,"angle","deg")];break;case"drop-shadow":n=[is(r,"xoffset","pt"),is(r,"yoffset","pt"),is(r,"blurRadius","pt"),ule(r,"color")];break;case"bloom":n=[is(r,"strength"),is(r,"radius","pt"),is(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;Q8(i),t.push(i)}return t.join(" ")}function is(e,t,r){if(e[t]==null)throw new G("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function ule(e,t){if(e[t]==null)throw new G("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const OP={read:{reader:ile},write:{allowNull:!0,writer:sle}},cle=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return h([p({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),h([p({json:{read:!1,write:!1,origins:{"web-map":OP,"portal-item":OP}}})],t.prototype,"effect",void 0),t=h([P("esri.layers.mixins.BlendLayer")],t),t},hle=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&dle(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return h([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),h([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),h([p({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=h([P("esri.layers.mixins.ScaleRangeLayer")],t),t};function dle(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}var sS;let vd=sS=class extends ne{constructor(e){super(e)}async collectRequiredFields(e,t){return la(e,t,this.expression)}clone(){return new sS({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};h([p({type:String,json:{write:!0}})],vd.prototype,"expression",void 0),h([p({type:String,json:{write:!0}})],vd.prototype,"title",void 0),vd=sS=h([P("esri.layers.support.FeatureExpressionInfo")],vd);const IP=vd,tD={unknown:1,inches:ln(1,"meters","inches"),feet:ln(1,"meters","feet"),"us-feet":ln(1,"meters","us-feet"),yards:ln(1,"meters","yards"),miles:ln(1,"meters","miles"),"nautical-miles":ln(1,"meters","nautical-miles"),millimeters:ln(1,"meters","millimeters"),centimeters:ln(1,"meters","centimeters"),decimeters:ln(1,"meters","decimeters"),meters:ln(1,"meters","meters"),kilometers:ln(1,"meters","kilometers"),"decimal-degrees":1/FW(1,"meters",Ve.radius)};function yme(e){return 1/(tD[e]||1)}function ple(){const e=Object.keys(tD);return e.sort(),e}const fle=ple();var oS;const Mm=Fr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),AP=new kn({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let ys=oS=class extends ne{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new oS({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Kj(this.featureExpressionInfo,e.featureExpressionInfo)}};h([p({type:IP,json:{write:!0}})],ys.prototype,"featureExpressionInfo",void 0),h([Re("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],ys.prototype,"readFeatureExpressionInfo",null),h([Pe("featureExpressionInfo",{featureExpressionInfo:{type:IP},"featureExpression.value":{type:[0]}})],ys.prototype,"writeFeatureExpressionInfo",null),h([p({type:Mm.apiValues,nonNullable:!0,json:{type:Mm.jsonValues,read:Mm.read,write:{writer:Mm.write,isRequired:!0}}})],ys.prototype,"mode",null),h([p({type:Number,json:{write:!0}})],ys.prototype,"offset",void 0),h([p({type:fle,json:{type:String,read:AP.read,write:AP.write}})],ys.prototype,"unit",null),ys=oS=h([P("esri.layers.support.ElevationInfo")],ys);const mle=ys;let gs=class extends cle(hle(RR)){constructor(e){super(e),this.elevationInfo=null,this.graphics=new kl,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};h([p({type:mle})],gs.prototype,"elevationInfo",void 0),h([p(P2(kl,"graphics"))],gs.prototype,"graphics",void 0),h([p({type:["show","hide"]})],gs.prototype,"listMode",void 0),h([p()],gs.prototype,"screenSizePerspectiveEnabled",void 0),h([p({readOnly:!0})],gs.prototype,"type",void 0),h([p({constructOnly:!0})],gs.prototype,"internal",void 0),gs=h([P("esri.layers.GraphicsLayer")],gs);const yle=gs,gle=()=>{const e=Pl.useRef(null);return Pl.useEffect(()=>{const t=new yle,r=new NR({basemap:"osm",layers:t}),n=new jae({map:r,center:[29.95527,31.21564],zoom:9,container:e.current,constraints:{snapToZoom:!1}}),i=new ue({longitude:29.95527,latitude:31.21564}),s=new S1({color:"red",style:"square"}),o=new rg({geometry:i,symbol:s});return t.add(o),()=>n&&n.destroy()},[]),sr.jsx(Cj,{children:sr.jsx("div",{className:"map",ref:e})})},vle=()=>sr.jsx(Oj,{children:sr.jsx("h2",{children:"Made by © Ahmad Gamal"})}),wle=()=>sr.jsxs(sr.Fragment,{children:[sr.jsx(Ij,{}),sr.jsx(gle,{}),sr.jsx(vle,{})]}),_le=()=>sr.jsx(Ej,{children:sr.jsx(wle,{})}),ble=document.getElementById("root");gw.createRoot(ble).render(sr.jsx(sr.Fragment,{children:sr.jsx(_le,{})}));export{Ece as $,Tue as A,kn as B,L6 as C,lx as D,Q3 as E,G as F,kte as G,que as H,ur as I,Che as J,Hie as K,gp as L,xG as M,Yt as N,qi as O,wr as P,Yr as Q,D_ as R,Fl as S,ym as T,t5 as U,re as V,e5 as W,Q4 as X,J$ as Y,r5 as Z,H as _,Xpe as a,sA as a$,y6 as a0,yB as a1,vl as a2,Ku as a3,Id as a4,kL as a5,zt as a6,Zm as a7,p2 as a8,ci as a9,jV as aA,ne as aB,ue as aC,ta as aD,ei as aE,e1 as aF,et as aG,pde as aH,fde as aI,Bce as aJ,Hce as aK,Wl as aL,Jce as aM,Zce as aN,qce as aO,ye as aP,ft as aQ,Pe as aR,$e as aS,Dr as aT,Ore as aU,Re as aV,K$ as aW,_p as aX,kpe as aY,lR as aZ,mt as a_,Xo as aa,te as ab,j as ac,dde as ad,qQ as ae,yde as af,gde as ag,cde as ah,Tp as ai,p3 as aj,lr as ak,eU as al,mde as am,Khe as an,hZ as ao,di as ap,SE as aq,Wde as ar,gce as as,ef as at,Xl as au,Bi as av,Ql as aw,d$ as ax,aa as ay,jhe as az,pi as b,Kr as b$,Te as b0,Ahe as b1,Uue as b2,Fe as b3,oa as b4,qo as b5,o5 as b6,aR as b7,FG as b8,zs as b9,O0 as bA,ML as bB,vv as bC,D3 as bD,$E as bE,Cce as bF,Dde as bG,Bde as bH,qhe as bI,Rfe as bJ,Nfe as bK,Ffe as bL,Wfe as bM,a8 as bN,Kfe as bO,Yse as bP,Wse as bQ,kJ as bR,cM as bS,Kg as bT,Jue as bU,af as bV,Hue as bW,tpe as bX,Bd as bY,xb as bZ,Mce as b_,WR as ba,Mpe as bb,Ds as bc,XR as bd,ade as be,Sde as bf,see as bg,X0 as bh,K0 as bi,tde as bj,lde as bk,uJ as bl,Dh as bm,iu as bn,eu as bo,rce as bp,yv as bq,ode as br,ve as bs,nu as bt,ia as bu,Fs as bv,G_ as bw,qe as bx,V_ as by,B_ as bz,Hl as c,jde as c$,zle as c0,nA as c1,v_ as c2,qie as c3,SI as c4,$ue as c5,PW as c6,W$ as c7,B$ as c8,CW as c9,JQ as cA,_de as cB,ZQ as cC,wde as cD,Eue as cE,Xg as cF,U0 as cG,IU as cH,R_ as cI,FA as cJ,WA as cK,UA as cL,BU as cM,mV as cN,xle as cO,GG as cP,Ic as cQ,L$ as cR,Nj as cS,Ice as cT,xpe as cU,sue as cV,sae as cW,jfe as cX,Xfe as cY,Lfe as cZ,Sle as c_,z$ as ca,V$ as cb,pa as cc,Kp as cd,ge as ce,En as cf,TV as cg,MV as ch,kV as ci,AV as cj,FV as ck,KA as cl,XA as cm,DV as cn,WV as co,BV as cp,BA as cq,rV as cr,$V as cs,N_ as ct,Jg as cu,MW as cv,hde as cw,e3 as cx,Y$ as cy,vp as cz,yt as d,fa as d$,Hde as d0,Ele as d1,Ihe as d2,y4 as d3,jg as d4,WK as d5,fR as d6,mR as d7,kK as d8,TK as d9,Jr as dA,Yee as dB,I$ as dC,Kee as dD,Gue as dE,Zde as dF,$4 as dG,cQ as dH,oR as dI,Wce as dJ,$1 as dK,bce as dL,mJ as dM,kce as dN,wce as dO,Kl as dP,yle as dQ,zM as dR,To as dS,yp as dT,vn as dU,_r as dV,Yp as dW,Zhe as dX,dQ as dY,wQ as dZ,z0 as d_,Ife as da,Vre as db,vde as dc,Lpe as dd,Ire as de,y$ as df,cx as dg,iue as dh,Bg as di,Xp as dj,E3 as dk,cle as dl,hle as dm,rn as dn,eh as dp,Z3 as dq,S1 as dr,DN as ds,RR as dt,wA as du,Vg as dv,z3 as dw,b1 as dx,Cp as dy,qI as dz,je as e,Wj as e$,the as e0,da as e1,zue as e2,Xue as e3,_fe as e4,Jc as e5,dp as e6,QG as e7,E$ as e8,Hp as e9,Afe as eA,tu as eB,Lue as eC,Aue as eD,Vz as eE,lM as eF,bA as eG,ipe as eH,Fce as eI,jI as eJ,VR as eK,Yhe as eL,w1 as eM,ile as eN,sle as eO,_ue as eP,vce as eQ,DA as eR,lV as eS,Cne as eT,Nt as eU,Ine as eV,Bfe as eW,Koe as eX,eme as eY,TW as eZ,dE as e_,Ey as ea,Gle as eb,Rpe as ec,R6 as ed,Bb as ee,Vc as ef,Lne as eg,N6 as eh,wse as ei,tD as ej,R0 as ek,Pz as el,f$ as em,Rne as en,aM as eo,Le as ep,x1 as eq,J3 as er,H3 as es,q3 as et,Y3 as eu,B3 as ev,Ohe as ew,npe as ex,uf as ey,Ts as ez,h as f,hue as f$,Nle as f0,Lle as f1,sf as f2,uV as f3,oae as f4,Zfe as f5,Dfe as f6,Yfe as f7,Jfe as f8,rue as f9,ht as fA,Gl as fB,Jp as fC,xue as fD,gr as fE,rne as fF,I4 as fG,iB as fH,Qe as fI,spe as fJ,ape as fK,epe as fL,Dce as fM,NU as fN,$n as fO,qle as fP,aG as fQ,dG as fR,b_ as fS,mG as fT,Vi as fU,Gv as fV,pR as fW,AM as fX,Rle as fY,Cle as fZ,si as f_,MJ as fa,ng as fb,ZU as fc,YU as fd,vV as fe,S$ as ff,QU as fg,JU as fh,jA as fi,sa as fj,Uc as fk,Xhe as fl,Qhe as fm,lQ as fn,aQ as fo,nQ as fp,aE as fq,Ss as fr,t1 as fs,Ule as ft,Ace as fu,hc as fv,ZG as fw,Hi as fx,mle as fy,Tpe as fz,p as g,Ml as g$,Ns as g0,Tt as g1,Gde as g2,Lhe as g3,Cd as g4,Rre as g5,dX as g6,nce as g7,Yue as g8,oA as g9,ede as gA,Vne as gB,Cue as gC,QA as gD,Q8 as gE,KX as gF,XX as gG,x3 as gH,i5 as gI,K3 as gJ,dR as gK,VA as gL,bM as gM,iG as gN,Xn as gO,TL as gP,Kj as gQ,F3 as gR,Fde as gS,Nde as gT,w as gU,tce as gV,Bp as gW,oue as gX,aue as gY,Dhe as gZ,Z6 as g_,Fhe as ga,C3 as gb,YN as gc,Epe as gd,Ppe as ge,$J as gf,m$ as gg,Cpe as gh,nV as gi,GA as gj,$ce as gk,kB as gl,CI as gm,OI as gn,Ple as go,se as gp,rpe as gq,Fr as gr,Whe as gs,Hfe as gt,zj as gu,Wle as gv,Jhe as gw,ag as gx,u$ as gy,c$ as gz,wne as h,cee as h$,Zi as h0,hce as h1,Pce as h2,PB as h3,fce as h4,fB as h5,K_ as h6,hv as h7,eG as h8,Oce as h9,Qfe as hA,zfe as hB,Nl as hC,Kie as hD,ya as hE,h2 as hF,lJ as hG,rhe as hH,E as hI,_L as hJ,m1 as hK,DU as hL,FU as hM,jU as hN,AU as hO,$X as hP,wR as hQ,DX as hR,Ene as hS,lce as hT,ece as hU,Kne as hV,RU as hW,FX as hX,_R as hY,aX as hZ,ln as h_,E4 as ha,F$ as hb,tB as hc,lB as hd,Qg as he,cce as hf,Ole as hg,kue as hh,gV as hi,p0 as hj,Mre as hk,LU as hl,fX as hm,aV as hn,L0 as ho,Pue as hp,Pp as hq,kle as hr,Bj as hs,qfe as ht,Yoe as hu,Gfe as hv,Zoe as hw,Ufe as hx,Vfe as hy,k8 as hz,kl as i,zG as i$,C1 as i0,mf as i1,qt as i2,Kce as i3,uhe as i4,II as i5,Vue as i6,$G as i7,Yg as i8,Kue as i9,xM as iA,wN as iB,I6 as iC,zte as iD,t6 as iE,K4 as iF,gB as iG,pce as iH,nR as iI,rA as iJ,ct as iK,o$ as iL,uM as iM,Fee as iN,nU as iO,Bue as iP,la as iQ,$le as iR,y1 as iS,Nne as iT,nl as iU,hK as iV,oN as iW,Que as iX,Fle as iY,jle as iZ,Dle as i_,yme as ia,Tce as ib,Fz as ic,fue as id,pue as ie,mue as ig,due as ih,Ale as ii,Gj as ij,Sce as ik,One as il,dre as im,are as io,hf as ip,Mue as iq,b$ as ir,P3 as is,Wue as it,iA as iu,PI as iv,c4 as iw,jue as ix,xl as iy,kW as iz,P as j,Dpe as j$,mX as j0,oX as j1,lX as j2,nue as j3,EI as j4,ope as j5,Jj as j6,lpe as j7,yr as j8,Rp as j9,sce as jA,ice as jB,oce as jC,dU as jD,Mfe as jE,jte as jF,tx as jG,T1 as jH,Ip as jI,Jo as jJ,Q6 as jK,Oc as jL,$fe as jM,Zue as jN,sN as jO,F6 as jP,Zo as jQ,Wi as jR,k1 as jS,zhe as jT,$6 as jU,s6 as jV,x6 as jW,qre as jX,Npe as jY,ine as jZ,Ap as j_,eie as ja,bne as jb,W0 as jc,ude as jd,rde as je,ide as jf,nde as jg,sde as jh,bde as ji,nH as jj,Ez as jk,Ve as jl,Qie as jm,Tle as jn,xce as jo,yce as jp,TB as jq,MB as jr,dce as js,GU as jt,QV as ju,zA as jv,D4 as jw,O$ as jx,Nhe as jy,Rhe as jz,ce as k,r6 as k0,Jn as k1,ra as k2,hB as k3,mce as k4,qde as k5,kne as k6,_1 as k7,_ce as k8,O3 as k9,sie as kA,oie as kB,tie as kC,bV as kD,tW as kE,zde as kF,Ude as kG,KU as kH,zX as kI,jX as kJ,Uj as kK,Vde as kL,nhe as kM,she as kN,$M as ka,J_ as kb,Yce as kc,cae as kd,qr as ke,lhe as kf,MY as kg,Yi as kh,TY as ki,Mle as kj,oee as kk,Cse as kl,kz as km,iee as kn,Q0 as ko,tg as kp,Vle as kq,Iae as kr,nme as ks,Qp as kt,ee as ku,Xk as kv,L3 as kw,pee as kx,fee as ky,Eae as kz,_ee as l,rg as m,l0 as n,St as o,kre as p,Bl as q,Xb as r,W as s,iR as t,Ze as u,Nc as v,bp as w,L as x,Ype as y,zI as z};
